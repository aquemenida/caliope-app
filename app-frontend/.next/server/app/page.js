(()=>{var exports={};exports.id=931,exports.ids=[931],exports.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},665:e=>{"use strict";e.exports=require("dns")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},2694:e=>{"use strict";e.exports=require("http2")},8216:e=>{"use strict";e.exports=require("net")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},5816:e=>{"use strict";e.exports=require("process")},6162:e=>{"use strict";e.exports=require("stream")},4026:e=>{"use strict";e.exports=require("string_decoder")},2452:e=>{"use strict";e.exports=require("tls")},7360:e=>{"use strict";e.exports=require("url")},153:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},8061:e=>{"use strict";e.exports=require("node:assert")},2761:e=>{"use strict";e.exports=require("node:async_hooks")},2254:e=>{"use strict";e.exports=require("node:buffer")},27:e=>{"use strict";e.exports=require("node:console")},6005:e=>{"use strict";e.exports=require("node:crypto")},5714:e=>{"use strict";e.exports=require("node:diagnostics_channel")},5673:e=>{"use strict";e.exports=require("node:events")},8849:e=>{"use strict";e.exports=require("node:http")},2725:e=>{"use strict";e.exports=require("node:http2")},7503:e=>{"use strict";e.exports=require("node:net")},8846:e=>{"use strict";e.exports=require("node:perf_hooks")},5815:e=>{"use strict";e.exports=require("node:querystring")},4492:e=>{"use strict";e.exports=require("node:stream")},1764:e=>{"use strict";e.exports=require("node:tls")},1041:e=>{"use strict";e.exports=require("node:url")},7261:e=>{"use strict";e.exports=require("node:util")},3746:e=>{"use strict";e.exports=require("node:util/types")},4086:e=>{"use strict";e.exports=require("node:worker_threads")},5628:e=>{"use strict";e.exports=require("node:zlib")},4542:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>c,routeModule:()=>d,tree:()=>l}),r(5480),r(2029),r(5866);var i=r(3191),n=r(8716),s=r(7922),o=r.n(s),a=r(5231),A={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(A[e]=()=>a[e]);r.d(t,A);let l=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,5480)),"c:\\Users\\H2SE\\OneDrive\\VSC\\PRUEBAS\\VSC CALIOPE\\caliope-full-project\\app-frontend\\src\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,2029)),"c:\\Users\\H2SE\\OneDrive\\VSC\\PRUEBAS\\VSC CALIOPE\\caliope-full-project\\app-frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],c=["c:\\Users\\H2SE\\OneDrive\\VSC\\PRUEBAS\\VSC CALIOPE\\caliope-full-project\\app-frontend\\src\\app\\page.tsx"],u="/page",h={require:r,loadChunk:()=>Promise.resolve()},d=new i.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},5382:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},7113:()=>{},9655:(e,t,r)=>{Promise.resolve().then(r.bind(r,6846))},7749:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addAdminServicesToServer=t.registerAdminService=void 0;let r=[];function i(e,t){r.push({getServiceDefinition:e,getHandlers:t})}function n(e){for(let{getServiceDefinition:t,getHandlers:i}of r)e.addService(t(),i())}t.registerAdminService=i,t.addAdminServicesToServer=n},1742:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackoffTimeout=void 0;let r=1e3,i=1.6,n=12e4,s=.2;function o(e,t){return Math.random()*(t-e)+e}class a{constructor(e,t){this.callback=e,this.initialDelay=r,this.multiplier=i,this.maxDelay=n,this.jitter=s,this.running=!1,this.hasRef=!0,this.startTime=new Date,this.endTime=new Date,t&&(t.initialDelay&&(this.initialDelay=t.initialDelay),t.multiplier&&(this.multiplier=t.multiplier),t.jitter&&(this.jitter=t.jitter),t.maxDelay&&(this.maxDelay=t.maxDelay)),this.nextDelay=this.initialDelay,this.timerId=setTimeout(()=>{},0),clearTimeout(this.timerId)}runTimer(e){var t,r;this.endTime=this.startTime,this.endTime.setMilliseconds(this.endTime.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),this.timerId=setTimeout(()=>{this.callback(),this.running=!1},e),this.hasRef||null===(r=(t=this.timerId).unref)||void 0===r||r.call(t)}runOnce(){this.running=!0,this.startTime=new Date,this.runTimer(this.nextDelay);let e=Math.min(this.nextDelay*this.multiplier,this.maxDelay),t=e*this.jitter;this.nextDelay=e+o(-t,t)}stop(){clearTimeout(this.timerId),this.running=!1}reset(){if(this.nextDelay=this.initialDelay,this.running){let e=new Date,t=this.startTime;t.setMilliseconds(t.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),e<t?this.runTimer(t.getTime()-e.getTime()):this.running=!1}}isRunning(){return this.running}ref(){var e,t;this.hasRef=!0,null===(t=(e=this.timerId).ref)||void 0===t||t.call(e)}unref(){var e,t;this.hasRef=!1,null===(t=(e=this.timerId).unref)||void 0===t||t.call(e)}getEndTime(){return this.endTime}}t.BackoffTimeout=a},5402:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallCredentials=void 0;let i=r(6281);function n(e){return"getRequestHeaders"in e&&"function"==typeof e.getRequestHeaders}class s{static createFromMetadataGenerator(e){return new a(e)}static createFromGoogleCredential(e){return s.createFromMetadataGenerator((t,r)=>{let s;(s=n(e)?e.getRequestHeaders(t.service_url):new Promise((r,i)=>{e.getRequestMetadata(t.service_url,(e,t)=>{if(e){i(e);return}if(!t){i(Error("Headers not set by metadata plugin"));return}r(t)})})).then(e=>{let t=new i.Metadata;for(let r of Object.keys(e))t.add(r,e[r]);r(null,t)},e=>{r(e)})})}static createEmpty(){return new A}}t.CallCredentials=s;class o extends s{constructor(e){super(),this.creds=e}async generateMetadata(e){let t=new i.Metadata;for(let r of(await Promise.all(this.creds.map(t=>t.generateMetadata(e)))))t.merge(r);return t}compose(e){return new o(this.creds.concat([e]))}_equals(e){return this===e||e instanceof o&&this.creds.every((t,r)=>t._equals(e.creds[r]))}}class a extends s{constructor(e){super(),this.metadataGenerator=e}generateMetadata(e){return new Promise((t,r)=>{this.metadataGenerator(e,(e,i)=>{void 0!==i?t(i):r(e)})})}compose(e){return new o([this,e])}_equals(e){return this===e||e instanceof a&&this.metadataGenerator===e.metadataGenerator}}class A extends s{generateMetadata(e){return Promise.resolve(new i.Metadata)}compose(e){return e}_equals(e){return e instanceof A}}},1218:(e,t)=>{"use strict";function r(e){return void 0!==e.onReceiveMetadata&&1===e.onReceiveMetadata.length}Object.defineProperty(t,"__esModule",{value:!0}),t.InterceptingListenerImpl=t.isInterceptingListener=void 0,t.isInterceptingListener=r;class i{constructor(e,t){this.listener=e,this.nextListener=t,this.processingMetadata=!1,this.hasPendingMessage=!1,this.processingMessage=!1,this.pendingStatus=null}processPendingMessage(){this.hasPendingMessage&&(this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=!1)}processPendingStatus(){this.pendingStatus&&this.nextListener.onReceiveStatus(this.pendingStatus)}onReceiveMetadata(e){this.processingMetadata=!0,this.listener.onReceiveMetadata(e,e=>{this.processingMetadata=!1,this.nextListener.onReceiveMetadata(e),this.processPendingMessage(),this.processPendingStatus()})}onReceiveMessage(e){this.processingMessage=!0,this.listener.onReceiveMessage(e,e=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessage=e,this.hasPendingMessage=!0):(this.nextListener.onReceiveMessage(e),this.processPendingStatus())})}onReceiveStatus(e){this.listener.onReceiveStatus(e,e=>{this.processingMetadata||this.processingMessage?this.pendingStatus=e:this.nextListener.onReceiveStatus(e)})}}t.InterceptingListenerImpl=i},1801:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNextCallNumber=void 0;let r=0;function i(){return r++}t.getNextCallNumber=i},7639:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClientDuplexStreamImpl=t.ClientWritableStreamImpl=t.ClientReadableStreamImpl=t.ClientUnaryCallImpl=t.callErrorFromStatus=void 0;let i=r(7702),n=r(6162),s=r(9572);function o(e,t){let r=`${e.code} ${s.Status[e.code]}: ${e.details}`,i=Error(r),n=`${i.stack}
for call at
${t}`;return Object.assign(Error(r),e,{stack:n})}t.callErrorFromStatus=o;class a extends i.EventEmitter{constructor(){super()}cancel(){var e;null===(e=this.call)||void 0===e||e.cancelWithStatus(s.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return null!==(t=null===(e=this.call)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:"unknown"}}t.ClientUnaryCallImpl=a;class A extends n.Readable{constructor(e){super({objectMode:!0}),this.deserialize=e}cancel(){var e;null===(e=this.call)||void 0===e||e.cancelWithStatus(s.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return null!==(t=null===(e=this.call)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:"unknown"}_read(e){var t;null===(t=this.call)||void 0===t||t.startRead()}}t.ClientReadableStreamImpl=A;class l extends n.Writable{constructor(e){super({objectMode:!0}),this.serialize=e}cancel(){var e;null===(e=this.call)||void 0===e||e.cancelWithStatus(s.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return null!==(t=null===(e=this.call)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:"unknown"}_write(e,t,r){var i;let n={callback:r},s=Number(t);Number.isNaN(s)||(n.flags=s),null===(i=this.call)||void 0===i||i.sendMessageWithContext(n,e)}_final(e){var t;null===(t=this.call)||void 0===t||t.halfClose(),e()}}t.ClientWritableStreamImpl=l;class c extends n.Duplex{constructor(e,t){super({objectMode:!0}),this.serialize=e,this.deserialize=t}cancel(){var e;null===(e=this.call)||void 0===e||e.cancelWithStatus(s.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return null!==(t=null===(e=this.call)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:"unknown"}_read(e){var t;null===(t=this.call)||void 0===t||t.startRead()}_write(e,t,r){var i;let n={callback:r},s=Number(t);Number.isNaN(s)||(n.flags=s),null===(i=this.call)||void 0===i||i.sendMessageWithContext(n,e)}_final(e){var t;null===(t=this.call)||void 0===t||t.halfClose(),e()}}t.ClientDuplexStreamImpl=c},499:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChannelCredentials=void 0;let i=r(2452),n=r(5402),s=r(606);function o(e,t){if(e&&!(e instanceof Buffer))throw TypeError(`${t}, if provided, must be a Buffer.`)}class a{constructor(e){this.callCredentials=e||n.CallCredentials.createEmpty()}_getCallCredentials(){return this.callCredentials}static createSsl(e,t,r,n){var a;if(o(e,"Root certificate"),o(t,"Private key"),o(r,"Certificate chain"),t&&!r)throw Error("Private key must be given with accompanying certificate chain");if(!t&&r)throw Error("Certificate chain must be given with accompanying private key");return new l((0,i.createSecureContext)({ca:null!==(a=null!=e?e:(0,s.getDefaultRootsData)())&&void 0!==a?a:void 0,key:null!=t?t:void 0,cert:null!=r?r:void 0,ciphers:s.CIPHER_SUITES}),null!=n?n:{})}static createFromSecureContext(e,t){return new l(e,null!=t?t:{})}static createInsecure(){return new A}}t.ChannelCredentials=a;class A extends a{constructor(e){super(e)}compose(e){throw Error("Cannot compose insecure credentials")}_getConnectionOptions(){return null}_isSecure(){return!1}_equals(e){return e instanceof A}}class l extends a{constructor(e,t){super(),this.secureContext=e,this.verifyOptions=t,this.connectionOptions={secureContext:e},(null==t?void 0:t.checkServerIdentity)&&(this.connectionOptions.checkServerIdentity=t.checkServerIdentity)}compose(e){return new c(this,this.callCredentials.compose(e))}_getConnectionOptions(){return Object.assign({},this.connectionOptions)}_isSecure(){return!0}_equals(e){return this===e||e instanceof l&&this.secureContext===e.secureContext&&this.verifyOptions.checkServerIdentity===e.verifyOptions.checkServerIdentity}}class c extends a{constructor(e,t){super(t),this.channelCredentials=e}compose(e){let t=this.callCredentials.compose(e);return new c(this.channelCredentials,t)}_getConnectionOptions(){return this.channelCredentials._getConnectionOptions()}_isSecure(){return!0}_equals(e){return this===e||e instanceof c&&this.channelCredentials._equals(e.channelCredentials)&&this.callCredentials._equals(e.callCredentials)}}},9455:(e,t)=>{"use strict";function r(e,t){let r=Object.keys(e).sort(),i=Object.keys(t).sort();if(r.length!==i.length)return!1;for(let n=0;n<r.length;n+=1)if(r[n]!==i[n]||e[r[n]]!==t[i[n]])return!1;return!0}Object.defineProperty(t,"__esModule",{value:!0}),t.channelOptionsEqual=t.recognizedOptions=void 0,t.recognizedOptions={"grpc.ssl_target_name_override":!0,"grpc.primary_user_agent":!0,"grpc.secondary_user_agent":!0,"grpc.default_authority":!0,"grpc.keepalive_time_ms":!0,"grpc.keepalive_timeout_ms":!0,"grpc.keepalive_permit_without_calls":!0,"grpc.service_config":!0,"grpc.max_concurrent_streams":!0,"grpc.initial_reconnect_backoff_ms":!0,"grpc.max_reconnect_backoff_ms":!0,"grpc.use_local_subchannel_pool":!0,"grpc.max_send_message_length":!0,"grpc.max_receive_message_length":!0,"grpc.enable_http_proxy":!0,"grpc.enable_channelz":!0,"grpc.dns_min_time_between_resolutions_ms":!0,"grpc.enable_retries":!0,"grpc.per_rpc_retry_buffer_size":!0,"grpc.retry_buffer_size":!0,"grpc.max_connection_age_ms":!0,"grpc.max_connection_age_grace_ms":!0,"grpc-node.max_session_memory":!0,"grpc.service_config_disable_resolution":!0,"grpc.client_idle_timeout_ms":!0,"grpc-node.tls_enable_trace":!0},t.channelOptionsEqual=r},9452:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChannelImplementation=void 0;let i=r(499),n=r(9359);class s{constructor(e,t,r){if("string"!=typeof e)throw TypeError("Channel target must be a string");if(!(t instanceof i.ChannelCredentials))throw TypeError("Channel credentials must be a ChannelCredentials object");if(r&&"object"!=typeof r)throw TypeError("Channel options must be an object");this.internalChannel=new n.InternalChannel(e,t,r)}close(){this.internalChannel.close()}getTarget(){return this.internalChannel.getTarget()}getConnectivityState(e){return this.internalChannel.getConnectivityState(e)}watchConnectivityState(e,t,r){this.internalChannel.watchConnectivityState(e,t,r)}getChannelzRef(){return this.internalChannel.getChannelzRef()}createCall(e,t,r,i,n){if("string"!=typeof e)throw TypeError("Channel#createCall: method must be a string");if(!("number"==typeof t||t instanceof Date))throw TypeError("Channel#createCall: deadline must be a number or Date");return this.internalChannel.createCall(e,t,r,i,n)}}t.ChannelImplementation=s},5962:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=t.getChannelzServiceDefinition=t.getChannelzHandlers=t.unregisterChannelzRef=t.registerChannelzSocket=t.registerChannelzServer=t.registerChannelzSubchannel=t.registerChannelzChannel=t.ChannelzCallTracker=t.ChannelzChildrenTracker=t.ChannelzTrace=void 0;let i=r(8216),n=r(2409),s=r(9572),o=r(4955),a=r(7749),A=r(4529);function l(e){return{channel_id:e.id,name:e.name}}function c(e){return{subchannel_id:e.id,name:e.name}}function u(e){return{server_id:e.id}}function h(e){return{socket_id:e.id,name:e.name}}let d=32;class g{constructor(){this.events=[],this.eventsLogged=0,this.creationTimestamp=new Date}addTrace(e,t,r){let i=new Date;this.events.push({description:t,severity:e,timestamp:i,childChannel:(null==r?void 0:r.kind)==="channel"?r:void 0,childSubchannel:(null==r?void 0:r.kind)==="subchannel"?r:void 0}),this.events.length>=2*d&&(this.events=this.events.slice(d)),this.eventsLogged+=1}getTraceMessage(){return{creation_timestamp:N(this.creationTimestamp),num_events_logged:this.eventsLogged,events:this.events.map(e=>({description:e.description,severity:e.severity,timestamp:N(e.timestamp),channel_ref:e.childChannel?l(e.childChannel):null,subchannel_ref:e.childSubchannel?c(e.childSubchannel):null}))}}}t.ChannelzTrace=g;class f{constructor(){this.channelChildren=new Map,this.subchannelChildren=new Map,this.socketChildren=new Map}refChild(e){var t,r,i;switch(e.kind){case"channel":{let r=null!==(t=this.channelChildren.get(e.id))&&void 0!==t?t:{ref:e,count:0};r.count+=1,this.channelChildren.set(e.id,r);break}case"subchannel":{let t=null!==(r=this.subchannelChildren.get(e.id))&&void 0!==r?r:{ref:e,count:0};t.count+=1,this.subchannelChildren.set(e.id,t);break}case"socket":{let t=null!==(i=this.socketChildren.get(e.id))&&void 0!==i?i:{ref:e,count:0};t.count+=1,this.socketChildren.set(e.id,t)}}}unrefChild(e){switch(e.kind){case"channel":{let t=this.channelChildren.get(e.id);void 0!==t&&(t.count-=1,0===t.count?this.channelChildren.delete(e.id):this.channelChildren.set(e.id,t));break}case"subchannel":{let t=this.subchannelChildren.get(e.id);void 0!==t&&(t.count-=1,0===t.count?this.subchannelChildren.delete(e.id):this.subchannelChildren.set(e.id,t));break}case"socket":{let t=this.socketChildren.get(e.id);void 0!==t&&(t.count-=1,0===t.count?this.socketChildren.delete(e.id):this.socketChildren.set(e.id,t))}}}getChildLists(){let e=[];for(let{ref:t}of this.channelChildren.values())e.push(t);let t=[];for(let{ref:e}of this.subchannelChildren.values())t.push(e);let r=[];for(let{ref:e}of this.socketChildren.values())r.push(e);return{channels:e,subchannels:t,sockets:r}}}t.ChannelzChildrenTracker=f;class p{constructor(){this.callsStarted=0,this.callsSucceeded=0,this.callsFailed=0,this.lastCallStartedTimestamp=null}addCallStarted(){this.callsStarted+=1,this.lastCallStartedTimestamp=new Date}addCallSucceeded(){this.callsSucceeded+=1}addCallFailed(){this.callsFailed+=1}}t.ChannelzCallTracker=p;let E=1;function C(){return E++}let I=[],m=[],B=[],y=[];function Q(e,t,r){let i=C(),n={id:i,name:e,kind:"channel"};return r&&(I[i]={ref:n,getInfo:t}),n}function w(e,t,r){let i=C(),n={id:i,name:e,kind:"subchannel"};return r&&(m[i]={ref:n,getInfo:t}),n}function v(e,t){let r=C(),i={id:r,kind:"server"};return t&&(B[r]={ref:i,getInfo:e}),i}function b(e,t,r){let i=C(),n={id:i,name:e,kind:"socket"};return r&&(y[i]={ref:n,getInfo:t}),n}function S(e){switch(e.kind){case"channel":delete I[e.id];return;case"subchannel":delete m[e.id];return;case"server":delete B[e.id];return;case"socket":delete y[e.id];return}}function T(e){let t=Number.parseInt(e,16);return[t/256|0,t%256]}function D(e){return""===e?[]:[].concat(...e.split(":").map(e=>T(e)))}function R(e){if((0,i.isIPv4)(e))return Buffer.from(Uint8Array.from(e.split(".").map(e=>Number.parseInt(e))));if(!(0,i.isIPv6)(e))return null;{let t,r;let i=e.indexOf("::");-1===i?(t=e,r=""):(t=e.substring(0,i),r=e.substring(i+2));let n=Buffer.from(D(t)),s=Buffer.from(D(r)),o=Buffer.alloc(16-n.length-s.length,0);return Buffer.concat([n,o,s])}}function k(e){switch(e){case n.ConnectivityState.CONNECTING:return{state:"CONNECTING"};case n.ConnectivityState.IDLE:return{state:"IDLE"};case n.ConnectivityState.READY:return{state:"READY"};case n.ConnectivityState.SHUTDOWN:return{state:"SHUTDOWN"};case n.ConnectivityState.TRANSIENT_FAILURE:return{state:"TRANSIENT_FAILURE"};default:return{state:"UNKNOWN"}}}function N(e){if(!e)return null;let t=e.getTime();return{seconds:t/1e3|0,nanos:t%1e3*1e6}}function F(e){let t=e.getInfo();return{ref:l(e.ref),data:{target:t.target,state:k(t.state),calls_started:t.callTracker.callsStarted,calls_succeeded:t.callTracker.callsSucceeded,calls_failed:t.callTracker.callsFailed,last_call_started_timestamp:N(t.callTracker.lastCallStartedTimestamp),trace:t.trace.getTraceMessage()},channel_ref:t.children.channels.map(e=>l(e)),subchannel_ref:t.children.subchannels.map(e=>c(e))}}function M(e,t){let r=Number.parseInt(e.request.channel_id),i=I[r];if(void 0===i){t({code:s.Status.NOT_FOUND,details:"No channel data found for id "+r});return}t(null,{channel:F(i)})}function L(e,t){let r=Number.parseInt(e.request.max_results),i=[],n=Number.parseInt(e.request.start_channel_id);for(;n<I.length;n++){let e=I[n];if(void 0!==e&&(i.push(F(e)),i.length>=r))break}t(null,{channel:i,end:n>=B.length})}function U(e){let t=e.getInfo();return{ref:u(e.ref),data:{calls_started:t.callTracker.callsStarted,calls_succeeded:t.callTracker.callsSucceeded,calls_failed:t.callTracker.callsFailed,last_call_started_timestamp:N(t.callTracker.lastCallStartedTimestamp),trace:t.trace.getTraceMessage()},listen_socket:t.listenerChildren.sockets.map(e=>h(e))}}function _(e,t){let r=Number.parseInt(e.request.server_id),i=B[r];if(void 0===i){t({code:s.Status.NOT_FOUND,details:"No server data found for id "+r});return}t(null,{server:U(i)})}function x(e,t){let r=Number.parseInt(e.request.max_results),i=[],n=Number.parseInt(e.request.start_server_id);for(;n<B.length;n++){let e=B[n];if(void 0!==e&&(i.push(U(e)),i.length>=r))break}t(null,{server:i,end:n>=B.length})}function O(e,t){let r=Number.parseInt(e.request.subchannel_id),i=m[r];if(void 0===i){t({code:s.Status.NOT_FOUND,details:"No subchannel data found for id "+r});return}let n=i.getInfo();t(null,{subchannel:{ref:c(i.ref),data:{target:n.target,state:k(n.state),calls_started:n.callTracker.callsStarted,calls_succeeded:n.callTracker.callsSucceeded,calls_failed:n.callTracker.callsFailed,last_call_started_timestamp:N(n.callTracker.lastCallStartedTimestamp),trace:n.trace.getTraceMessage()},socket_ref:n.children.sockets.map(e=>h(e))}})}function P(e){var t;return(0,o.isTcpSubchannelAddress)(e)?{address:"tcpip_address",tcpip_address:{ip_address:null!==(t=R(e.host))&&void 0!==t?t:void 0,port:e.port}}:{address:"uds_address",uds_address:{filename:e.path}}}function V(e,t){var r,i,n,o,a;let A=Number.parseInt(e.request.socket_id),l=y[A];if(void 0===l){t({code:s.Status.NOT_FOUND,details:"No socket data found for id "+A});return}let c=l.getInfo(),u=c.security?{model:"tls",tls:{cipher_suite:c.security.cipherSuiteStandardName?"standard_name":"other_name",standard_name:null!==(r=c.security.cipherSuiteStandardName)&&void 0!==r?r:void 0,other_name:null!==(i=c.security.cipherSuiteOtherName)&&void 0!==i?i:void 0,local_certificate:null!==(n=c.security.localCertificate)&&void 0!==n?n:void 0,remote_certificate:null!==(o=c.security.remoteCertificate)&&void 0!==o?o:void 0}}:null;t(null,{socket:{ref:h(l.ref),local:c.localAddress?P(c.localAddress):null,remote:c.remoteAddress?P(c.remoteAddress):null,remote_name:null!==(a=c.remoteName)&&void 0!==a?a:void 0,security:u,data:{keep_alives_sent:c.keepAlivesSent,streams_started:c.streamsStarted,streams_succeeded:c.streamsSucceeded,streams_failed:c.streamsFailed,last_local_stream_created_timestamp:N(c.lastLocalStreamCreatedTimestamp),last_remote_stream_created_timestamp:N(c.lastRemoteStreamCreatedTimestamp),messages_received:c.messagesReceived,messages_sent:c.messagesSent,last_message_received_timestamp:N(c.lastMessageReceivedTimestamp),last_message_sent_timestamp:N(c.lastMessageSentTimestamp),local_flow_control_window:c.localFlowControlWindow?{value:c.localFlowControlWindow}:null,remote_flow_control_window:c.remoteFlowControlWindow?{value:c.remoteFlowControlWindow}:null}}})}function G(e,t){let r=Number.parseInt(e.request.server_id),i=B[r];if(void 0===i){t({code:s.Status.NOT_FOUND,details:"No server data found for id "+r});return}let n=Number.parseInt(e.request.start_socket_id),o=Number.parseInt(e.request.max_results),a=i.getInfo().sessionChildren.sockets.sort((e,t)=>e.id-t.id),A=[],l=0;for(;l<a.length&&(!(a[l].id>=n)||(A.push(h(a[l])),!(A.length>=o)));l++);t(null,{socket_ref:A,end:l>=a.length})}function Y(){return{GetChannel:M,GetTopChannels:L,GetServer:_,GetServers:x,GetSubchannel:O,GetSocket:V,GetServerSockets:G}}t.registerChannelzChannel=Q,t.registerChannelzSubchannel=w,t.registerChannelzServer=v,t.registerChannelzSocket=b,t.unregisterChannelzRef=S,t.getChannelzHandlers=Y;let H=null;function J(){if(H)return H;let e=(0,r(3716).J_)("channelz.proto",{keepCase:!0,longs:String,enums:String,defaults:!0,oneofs:!0,includeDirs:[`${__dirname}/../../proto`]});return H=(0,A.loadPackageDefinition)(e).grpc.channelz.v1.Channelz.service}function q(){(0,a.registerAdminService)(J,Y)}t.getChannelzServiceDefinition=J,t.setup=q},1809:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getInterceptingCall=t.InterceptingCall=t.RequesterBuilder=t.ListenerBuilder=t.InterceptorConfigurationError=void 0;let i=r(6281),n=r(1218),s=r(9572),o=r(6027);class a extends Error{constructor(e){super(e),this.name="InterceptorConfigurationError",Error.captureStackTrace(this,a)}}t.InterceptorConfigurationError=a;class A{constructor(){this.metadata=void 0,this.message=void 0,this.status=void 0}withOnReceiveMetadata(e){return this.metadata=e,this}withOnReceiveMessage(e){return this.message=e,this}withOnReceiveStatus(e){return this.status=e,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveStatus:this.status}}}t.ListenerBuilder=A;class l{constructor(){this.start=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withStart(e){return this.start=e,this}withSendMessage(e){return this.message=e,this}withHalfClose(e){return this.halfClose=e,this}withCancel(e){return this.cancel=e,this}build(){return{start:this.start,sendMessage:this.message,halfClose:this.halfClose,cancel:this.cancel}}}t.RequesterBuilder=l;let c={onReceiveMetadata:(e,t)=>{t(e)},onReceiveMessage:(e,t)=>{t(e)},onReceiveStatus:(e,t)=>{t(e)}},u={start:(e,t,r)=>{r(e,t)},sendMessage:(e,t)=>{t(e)},halfClose:e=>{e()},cancel:e=>{e()}};class h{constructor(e,t){var r,i,n,s;this.nextCall=e,this.processingMetadata=!1,this.pendingMessageContext=null,this.processingMessage=!1,this.pendingHalfClose=!1,t?this.requester={start:null!==(r=t.start)&&void 0!==r?r:u.start,sendMessage:null!==(i=t.sendMessage)&&void 0!==i?i:u.sendMessage,halfClose:null!==(n=t.halfClose)&&void 0!==n?n:u.halfClose,cancel:null!==(s=t.cancel)&&void 0!==s?s:u.cancel}:this.requester=u}cancelWithStatus(e,t){this.requester.cancel(()=>{this.nextCall.cancelWithStatus(e,t)})}getPeer(){return this.nextCall.getPeer()}processPendingMessage(){this.pendingMessageContext&&(this.nextCall.sendMessageWithContext(this.pendingMessageContext,this.pendingMessage),this.pendingMessageContext=null,this.pendingMessage=null)}processPendingHalfClose(){this.pendingHalfClose&&this.nextCall.halfClose()}start(e,t){var r,i,s,o,a,A;let l={onReceiveMetadata:null!==(i=null===(r=null==t?void 0:t.onReceiveMetadata)||void 0===r?void 0:r.bind(t))&&void 0!==i?i:e=>{},onReceiveMessage:null!==(o=null===(s=null==t?void 0:t.onReceiveMessage)||void 0===s?void 0:s.bind(t))&&void 0!==o?o:e=>{},onReceiveStatus:null!==(A=null===(a=null==t?void 0:t.onReceiveStatus)||void 0===a?void 0:a.bind(t))&&void 0!==A?A:e=>{}};this.processingMetadata=!0,this.requester.start(e,l,(e,t)=>{var r,i,s;let o;if(this.processingMetadata=!1,(0,n.isInterceptingListener)(t))o=t;else{let e={onReceiveMetadata:null!==(r=t.onReceiveMetadata)&&void 0!==r?r:c.onReceiveMetadata,onReceiveMessage:null!==(i=t.onReceiveMessage)&&void 0!==i?i:c.onReceiveMessage,onReceiveStatus:null!==(s=t.onReceiveStatus)&&void 0!==s?s:c.onReceiveStatus};o=new n.InterceptingListenerImpl(e,l)}this.nextCall.start(e,o),this.processPendingMessage(),this.processPendingHalfClose()})}sendMessageWithContext(e,t){this.processingMessage=!0,this.requester.sendMessage(t,r=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessageContext=e,this.pendingMessage=t):(this.nextCall.sendMessageWithContext(e,r),this.processPendingHalfClose())})}sendMessage(e){this.sendMessageWithContext({},e)}startRead(){this.nextCall.startRead()}halfClose(){this.requester.halfClose(()=>{this.processingMetadata||this.processingMessage?this.pendingHalfClose=!0:this.nextCall.halfClose()})}}function d(e,t,r){var i,n;let s=null!==(i=r.deadline)&&void 0!==i?i:1/0,o=r.host,a=null!==(n=r.parent)&&void 0!==n?n:null,A=r.propagate_flags,l=r.credentials,c=e.createCall(t,s,o,a,A);return l&&c.setCredentials(l),c}t.InterceptingCall=h;class g{constructor(e,t){this.call=e,this.methodDefinition=t}cancelWithStatus(e,t){this.call.cancelWithStatus(e,t)}getPeer(){return this.call.getPeer()}sendMessageWithContext(e,t){let r;try{r=this.methodDefinition.requestSerialize(t)}catch(e){this.call.cancelWithStatus(s.Status.INTERNAL,`Request message serialization failure: ${(0,o.getErrorMessage)(e)}`);return}this.call.sendMessageWithContext(e,r)}sendMessage(e){this.sendMessageWithContext({},e)}start(e,t){let r=null;this.call.start(e,{onReceiveMetadata:e=>{var r;null===(r=null==t?void 0:t.onReceiveMetadata)||void 0===r||r.call(t,e)},onReceiveMessage:e=>{var n;let a;try{a=this.methodDefinition.responseDeserialize(e)}catch(e){r={code:s.Status.INTERNAL,details:`Response message parsing error: ${(0,o.getErrorMessage)(e)}`,metadata:new i.Metadata},this.call.cancelWithStatus(r.code,r.details);return}null===(n=null==t?void 0:t.onReceiveMessage)||void 0===n||n.call(t,a)},onReceiveStatus:e=>{var i,n;r?null===(i=null==t?void 0:t.onReceiveStatus)||void 0===i||i.call(t,r):null===(n=null==t?void 0:t.onReceiveStatus)||void 0===n||n.call(t,e)}})}startRead(){this.call.startRead()}halfClose(){this.call.halfClose()}}class f extends g{constructor(e,t){super(e,t)}start(e,t){var r,i;let n=!1,s={onReceiveMetadata:null!==(i=null===(r=null==t?void 0:t.onReceiveMetadata)||void 0===r?void 0:r.bind(t))&&void 0!==i?i:e=>{},onReceiveMessage:e=>{var r;n=!0,null===(r=null==t?void 0:t.onReceiveMessage)||void 0===r||r.call(t,e)},onReceiveStatus:e=>{var r,i;n||null===(r=null==t?void 0:t.onReceiveMessage)||void 0===r||r.call(t,null),null===(i=null==t?void 0:t.onReceiveStatus)||void 0===i||i.call(t,e)}};super.start(e,s),this.call.startRead()}}class p extends g{}function E(e,t,r){let i=d(e,r.path,t);return r.responseStream?new p(i,r):new f(i,r)}function C(e,t,r,i){if(e.clientInterceptors.length>0&&e.clientInterceptorProviders.length>0)throw new a("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(e.callInterceptors.length>0&&e.callInterceptorProviders.length>0)throw new a("Both interceptors and interceptor_providers were passed as call options. Only one of these is allowed.");let n=[];n=e.callInterceptors.length>0||e.callInterceptorProviders.length>0?[].concat(e.callInterceptors,e.callInterceptorProviders.map(e=>e(t))).filter(e=>e):[].concat(e.clientInterceptors,e.clientInterceptorProviders.map(e=>e(t))).filter(e=>e);let s=Object.assign({},r,{method_definition:t});return n.reduceRight((e,t)=>r=>t(r,e),e=>E(i,e,t))(s)}t.getInterceptingCall=C},1865:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Client=void 0;let i=r(7639),n=r(9452),s=r(2409),o=r(9572),a=r(6281),A=r(1809),l=Symbol(),c=Symbol(),u=Symbol(),h=Symbol();function d(e){return"function"==typeof e}function g(e){return e.stack.split("\n").slice(1).join("\n")}class f{constructor(e,t,r={}){var i,s;if(r=Object.assign({},r),this[c]=null!==(i=r.interceptors)&&void 0!==i?i:[],delete r.interceptors,this[u]=null!==(s=r.interceptor_providers)&&void 0!==s?s:[],delete r.interceptor_providers,this[c].length>0&&this[u].length>0)throw Error("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(this[h]=r.callInvocationTransformer,delete r.callInvocationTransformer,r.channelOverride)this[l]=r.channelOverride;else if(r.channelFactoryOverride){let i=r.channelFactoryOverride;delete r.channelFactoryOverride,this[l]=i(e,t,r)}else this[l]=new n.ChannelImplementation(e,t,r)}close(){this[l].close()}getChannel(){return this[l]}waitForReady(e,t){let r=i=>{let n;if(i){t(Error("Failed to connect before the deadline"));return}try{n=this[l].getConnectivityState(!0)}catch(e){t(Error("The channel has been closed"));return}if(n===s.ConnectivityState.READY)t();else try{this[l].watchConnectivityState(n,e,r)}catch(e){t(Error("The channel has been closed"))}};setImmediate(r)}checkOptionalUnaryResponseArguments(e,t,r){if(d(e))return{metadata:new a.Metadata,options:{},callback:e};if(d(t))return e instanceof a.Metadata?{metadata:e,options:{},callback:t}:{metadata:new a.Metadata,options:e,callback:t};if(!(e instanceof a.Metadata&&t instanceof Object&&d(r)))throw Error("Incorrect arguments passed");return{metadata:e,options:t,callback:r}}makeUnaryRequest(e,t,r,n,s,a,d){var f,p;let E=this.checkOptionalUnaryResponseArguments(s,a,d),C={path:e,requestStream:!1,responseStream:!1,requestSerialize:t,responseDeserialize:r},I={argument:n,metadata:E.metadata,call:new i.ClientUnaryCallImpl,channel:this[l],methodDefinition:C,callOptions:E.options,callback:E.callback};this[h]&&(I=this[h](I));let m=I.call,B={clientInterceptors:this[c],clientInterceptorProviders:this[u],callInterceptors:null!==(f=I.callOptions.interceptors)&&void 0!==f?f:[],callInterceptorProviders:null!==(p=I.callOptions.interceptor_providers)&&void 0!==p?p:[]},y=(0,A.getInterceptingCall)(B,I.methodDefinition,I.callOptions,I.channel);m.call=y;let Q=null,w=!1,v=Error();return y.start(I.metadata,{onReceiveMetadata:e=>{m.emit("metadata",e)},onReceiveMessage(e){null!==Q&&y.cancelWithStatus(o.Status.INTERNAL,"Too many responses received"),Q=e},onReceiveStatus(e){if(!w){if(w=!0,e.code===o.Status.OK){if(null===Q){let t=g(v);I.callback((0,i.callErrorFromStatus)({code:o.Status.INTERNAL,details:"No message received",metadata:e.metadata},t))}else I.callback(null,Q)}else{let t=g(v);I.callback((0,i.callErrorFromStatus)(e,t))}v=null,m.emit("status",e)}}}),y.sendMessage(n),y.halfClose(),m}makeClientStreamRequest(e,t,r,n,s,a){var d,f;let p=this.checkOptionalUnaryResponseArguments(n,s,a),E={path:e,requestStream:!0,responseStream:!1,requestSerialize:t,responseDeserialize:r},C={metadata:p.metadata,call:new i.ClientWritableStreamImpl(t),channel:this[l],methodDefinition:E,callOptions:p.options,callback:p.callback};this[h]&&(C=this[h](C));let I=C.call,m={clientInterceptors:this[c],clientInterceptorProviders:this[u],callInterceptors:null!==(d=C.callOptions.interceptors)&&void 0!==d?d:[],callInterceptorProviders:null!==(f=C.callOptions.interceptor_providers)&&void 0!==f?f:[]},B=(0,A.getInterceptingCall)(m,C.methodDefinition,C.callOptions,C.channel);I.call=B;let y=null,Q=!1,w=Error();return B.start(C.metadata,{onReceiveMetadata:e=>{I.emit("metadata",e)},onReceiveMessage(e){null!==y&&B.cancelWithStatus(o.Status.INTERNAL,"Too many responses received"),y=e},onReceiveStatus(e){if(!Q){if(Q=!0,e.code===o.Status.OK){if(null===y){let t=g(w);C.callback((0,i.callErrorFromStatus)({code:o.Status.INTERNAL,details:"No message received",metadata:e.metadata},t))}else C.callback(null,y)}else{let t=g(w);C.callback((0,i.callErrorFromStatus)(e,t))}w=null,I.emit("status",e)}}}),I}checkMetadataAndOptions(e,t){let r,i;return e instanceof a.Metadata?(r=e,i=t||{}):(i=e||{},r=new a.Metadata),{metadata:r,options:i}}makeServerStreamRequest(e,t,r,n,s,a){var d,f;let p=this.checkMetadataAndOptions(s,a),E={path:e,requestStream:!1,responseStream:!0,requestSerialize:t,responseDeserialize:r},C={argument:n,metadata:p.metadata,call:new i.ClientReadableStreamImpl(r),channel:this[l],methodDefinition:E,callOptions:p.options};this[h]&&(C=this[h](C));let I=C.call,m={clientInterceptors:this[c],clientInterceptorProviders:this[u],callInterceptors:null!==(d=C.callOptions.interceptors)&&void 0!==d?d:[],callInterceptorProviders:null!==(f=C.callOptions.interceptor_providers)&&void 0!==f?f:[]},B=(0,A.getInterceptingCall)(m,C.methodDefinition,C.callOptions,C.channel);I.call=B;let y=!1,Q=Error();return B.start(C.metadata,{onReceiveMetadata(e){I.emit("metadata",e)},onReceiveMessage(e){I.push(e)},onReceiveStatus(e){if(!y){if(y=!0,I.push(null),e.code!==o.Status.OK){let t=g(Q);I.emit("error",(0,i.callErrorFromStatus)(e,t))}Q=null,I.emit("status",e)}}}),B.sendMessage(n),B.halfClose(),I}makeBidiStreamRequest(e,t,r,n,s){var a,d;let f=this.checkMetadataAndOptions(n,s),p={path:e,requestStream:!0,responseStream:!0,requestSerialize:t,responseDeserialize:r},E={metadata:f.metadata,call:new i.ClientDuplexStreamImpl(t,r),channel:this[l],methodDefinition:p,callOptions:f.options};this[h]&&(E=this[h](E));let C=E.call,I={clientInterceptors:this[c],clientInterceptorProviders:this[u],callInterceptors:null!==(a=E.callOptions.interceptors)&&void 0!==a?a:[],callInterceptorProviders:null!==(d=E.callOptions.interceptor_providers)&&void 0!==d?d:[]},m=(0,A.getInterceptingCall)(I,E.methodDefinition,E.callOptions,E.channel);C.call=m;let B=!1,y=Error();return m.start(E.metadata,{onReceiveMetadata(e){C.emit("metadata",e)},onReceiveMessage(e){C.push(e)},onReceiveStatus(e){if(!B){if(B=!0,C.push(null),e.code!==o.Status.OK){let t=g(y);C.emit("error",(0,i.callErrorFromStatus)(e,t))}y=null,C.emit("status",e)}}}),C}}t.Client=f},4334:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.CompressionAlgorithms=void 0,function(e){e[e.identity=0]="identity",e[e.deflate=1]="deflate",e[e.gzip=2]="gzip"}(r||(t.CompressionAlgorithms=r={}))},6289:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompressionFilterFactory=t.CompressionFilter=void 0;let i=r(1568),n=r(4334),s=r(9572),o=r(3223),a=r(5792),A=e=>"number"==typeof e&&"string"==typeof n.CompressionAlgorithms[e];class l{async writeMessage(e,t){let r=e;t&&(r=await this.compressMessage(r));let i=Buffer.allocUnsafe(r.length+5);return i.writeUInt8(t?1:0,0),i.writeUInt32BE(r.length,1),r.copy(i,5),i}async readMessage(e){let t=1===e.readUInt8(0),r=e.slice(5);return t&&(r=await this.decompressMessage(r)),r}}class c extends l{async compressMessage(e){return e}async writeMessage(e,t){let r=Buffer.allocUnsafe(e.length+5);return r.writeUInt8(0,0),r.writeUInt32BE(e.length,1),e.copy(r,5),r}decompressMessage(e){return Promise.reject(Error('Received compressed message but "grpc-encoding" header was identity'))}}class u extends l{constructor(e){super(),this.maxRecvMessageLength=e}compressMessage(e){return new Promise((t,r)=>{i.deflate(e,(e,i)=>{e?r(e):t(i)})})}decompressMessage(e){return new Promise((t,r)=>{let n=0,o=[],a=i.createInflate();a.on("data",e=>{o.push(e),n+=e.byteLength,-1!==this.maxRecvMessageLength&&n>this.maxRecvMessageLength&&(a.destroy(),r({code:s.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`}))}),a.on("end",()=>{t(Buffer.concat(o))}),a.write(e),a.end()})}}class h extends l{constructor(e){super(),this.maxRecvMessageLength=e}compressMessage(e){return new Promise((t,r)=>{i.gzip(e,(e,i)=>{e?r(e):t(i)})})}decompressMessage(e){return new Promise((t,r)=>{let n=0,o=[],a=i.createGunzip();a.on("data",e=>{o.push(e),n+=e.byteLength,-1!==this.maxRecvMessageLength&&n>this.maxRecvMessageLength&&(a.destroy(),r({code:s.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`}))}),a.on("end",()=>{t(Buffer.concat(o))}),a.write(e),a.end()})}}class d extends l{constructor(e){super(),this.compressionName=e}compressMessage(e){return Promise.reject(Error(`Received message compressed with unsupported compression method ${this.compressionName}`))}decompressMessage(e){return Promise.reject(Error(`Compression method not supported: ${this.compressionName}`))}}function g(e,t){switch(e){case"identity":return new c;case"deflate":return new u(t);case"gzip":return new h(t);default:return new d(e)}}class f extends o.BaseFilter{constructor(e,t){var r,i;super(),this.sharedFilterConfig=t,this.sendCompression=new c,this.receiveCompression=new c,this.currentCompressionAlgorithm="identity";let o=e["grpc.default_compression_algorithm"];if(this.maxReceiveMessageLength=null!==(r=e["grpc.max_receive_message_length"])&&void 0!==r?r:s.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,void 0!==o){if(A(o)){let e=n.CompressionAlgorithms[o],r=null===(i=t.serverSupportedEncodingHeader)||void 0===i?void 0:i.split(",");(!r||r.includes(e))&&(this.currentCompressionAlgorithm=e,this.sendCompression=g(this.currentCompressionAlgorithm,-1))}else a.log(s.LogVerbosity.ERROR,`Invalid value provided for grpc.default_compression_algorithm option: ${o}`)}}async sendMetadata(e){let t=await e;return t.set("grpc-accept-encoding","identity,deflate,gzip"),t.set("accept-encoding","identity"),"identity"===this.currentCompressionAlgorithm?t.remove("grpc-encoding"):t.set("grpc-encoding",this.currentCompressionAlgorithm),t}receiveMetadata(e){let t=e.get("grpc-encoding");if(t.length>0){let e=t[0];"string"==typeof e&&(this.receiveCompression=g(e,this.maxReceiveMessageLength))}e.remove("grpc-encoding");let r=e.get("grpc-accept-encoding")[0];return r&&(this.sharedFilterConfig.serverSupportedEncodingHeader=r,r.split(",").includes(this.currentCompressionAlgorithm)||(this.sendCompression=new c,this.currentCompressionAlgorithm="identity")),e.remove("grpc-accept-encoding"),e}async sendMessage(e){var t;let r;let i=await e;return r=!(this.sendCompression instanceof c)&&((null!==(t=i.flags)&&void 0!==t?t:0)&2)==0,{message:await this.sendCompression.writeMessage(i.message,r),flags:i.flags}}async receiveMessage(e){return this.receiveCompression.readMessage(await e)}}t.CompressionFilter=f;class p{constructor(e,t){this.options=t,this.sharedFilterConfig={}}createFilter(){return new f(this.options,this.sharedFilterConfig)}}t.CompressionFilterFactory=p},2409:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectivityState=void 0,function(e){e[e.IDLE=0]="IDLE",e[e.CONNECTING=1]="CONNECTING",e[e.READY=2]="READY",e[e.TRANSIENT_FAILURE=3]="TRANSIENT_FAILURE",e[e.SHUTDOWN=4]="SHUTDOWN"}(r||(t.ConnectivityState=r={}))},9572:(e,t)=>{"use strict";var r,i,n;Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=t.DEFAULT_MAX_SEND_MESSAGE_LENGTH=t.Propagate=t.LogVerbosity=t.Status=void 0,function(e){e[e.OK=0]="OK",e[e.CANCELLED=1]="CANCELLED",e[e.UNKNOWN=2]="UNKNOWN",e[e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",e[e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",e[e.NOT_FOUND=5]="NOT_FOUND",e[e.ALREADY_EXISTS=6]="ALREADY_EXISTS",e[e.PERMISSION_DENIED=7]="PERMISSION_DENIED",e[e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",e[e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",e[e.ABORTED=10]="ABORTED",e[e.OUT_OF_RANGE=11]="OUT_OF_RANGE",e[e.UNIMPLEMENTED=12]="UNIMPLEMENTED",e[e.INTERNAL=13]="INTERNAL",e[e.UNAVAILABLE=14]="UNAVAILABLE",e[e.DATA_LOSS=15]="DATA_LOSS",e[e.UNAUTHENTICATED=16]="UNAUTHENTICATED"}(r||(t.Status=r={})),function(e){e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.ERROR=2]="ERROR",e[e.NONE=3]="NONE"}(i||(t.LogVerbosity=i={})),function(e){e[e.DEADLINE=1]="DEADLINE",e[e.CENSUS_STATS_CONTEXT=2]="CENSUS_STATS_CONTEXT",e[e.CENSUS_TRACING_CONTEXT=4]="CENSUS_TRACING_CONTEXT",e[e.CANCELLATION=8]="CANCELLATION",e[e.DEFAULTS=65535]="DEFAULTS"}(n||(t.Propagate=n={})),t.DEFAULT_MAX_SEND_MESSAGE_LENGTH=-1,t.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=4194304},5607:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.restrictControlPlaneStatusCode=void 0;let i=r(9572),n=[i.Status.OK,i.Status.INVALID_ARGUMENT,i.Status.NOT_FOUND,i.Status.ALREADY_EXISTS,i.Status.FAILED_PRECONDITION,i.Status.ABORTED,i.Status.OUT_OF_RANGE,i.Status.DATA_LOSS];function s(e,t){return n.includes(e)?{code:i.Status.INTERNAL,details:`Invalid status from control plane: ${e} ${i.Status[e]} ${t}`}:{code:e,details:t}}t.restrictControlPlaneStatusCode=s},4771:(e,t)=>{"use strict";function r(...e){let t=1/0;for(let r of e){let e=r instanceof Date?r.getTime():r;e<t&&(t=e)}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.deadlineToString=t.getRelativeTimeout=t.getDeadlineTimeoutString=t.minDeadline=void 0,t.minDeadline=r;let i=[["m",1],["S",1e3],["M",6e4],["H",36e5]];function n(e){let t=new Date().getTime();e instanceof Date&&(e=e.getTime());let r=Math.max(e-t,0);for(let[e,t]of i){let i=r/t;if(i<1e8)return String(Math.ceil(i))+e}throw Error("Deadline is too far in the future")}t.getDeadlineTimeoutString=n;let s=2147483647;function o(e){let t=(e instanceof Date?e.getTime():e)-new Date().getTime();return t<0?0:t>s?1/0:t}function a(e){if(e instanceof Date)return e.toISOString();{let t=new Date(e);return Number.isNaN(t.getTime())?""+e:t.toISOString()}}t.getRelativeTimeout=o,t.deadlineToString=a},7974:(e,t)=>{"use strict";function r(e){return{seconds:e/1e3|0,nanos:e%1e3*1e6|0}}function i(e){return 1e3*e.seconds+e.nanos/1e6|0}function n(e){return"number"==typeof e.seconds&&"number"==typeof e.nanos}Object.defineProperty(t,"__esModule",{value:!0}),t.isDuration=t.durationToMs=t.msToDuration=void 0,t.msToDuration=r,t.durationToMs=i,t.isDuration=n},6027:(e,t)=>{"use strict";function r(e){return e instanceof Error?e.message:String(e)}function i(e){return"object"==typeof e&&null!==e&&"code"in e&&"number"==typeof e.code?e.code:null}Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorCode=t.getErrorMessage=void 0,t.getErrorMessage=r,t.getErrorCode=i},8779:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OutlierDetectionLoadBalancingConfig=t.BaseSubchannelWrapper=t.registerAdminService=t.FilterStackFactory=t.BaseFilter=t.PickResultType=t.QueuePicker=t.UnavailablePicker=t.ChildLoadBalancerHandler=t.subchannelAddressToString=t.validateLoadBalancingConfig=t.getFirstUsableConfig=t.registerLoadBalancerType=t.createChildChannelControlHelper=t.BackoffTimeout=t.durationToMs=t.uriToString=t.createResolver=t.registerResolver=t.log=t.trace=void 0;var i=r(5792);Object.defineProperty(t,"trace",{enumerable:!0,get:function(){return i.trace}}),Object.defineProperty(t,"log",{enumerable:!0,get:function(){return i.log}});var n=r(4063);Object.defineProperty(t,"registerResolver",{enumerable:!0,get:function(){return n.registerResolver}}),Object.defineProperty(t,"createResolver",{enumerable:!0,get:function(){return n.createResolver}});var s=r(5541);Object.defineProperty(t,"uriToString",{enumerable:!0,get:function(){return s.uriToString}});var o=r(7974);Object.defineProperty(t,"durationToMs",{enumerable:!0,get:function(){return o.durationToMs}});var a=r(1742);Object.defineProperty(t,"BackoffTimeout",{enumerable:!0,get:function(){return a.BackoffTimeout}});var A=r(9884);Object.defineProperty(t,"createChildChannelControlHelper",{enumerable:!0,get:function(){return A.createChildChannelControlHelper}}),Object.defineProperty(t,"registerLoadBalancerType",{enumerable:!0,get:function(){return A.registerLoadBalancerType}}),Object.defineProperty(t,"getFirstUsableConfig",{enumerable:!0,get:function(){return A.getFirstUsableConfig}}),Object.defineProperty(t,"validateLoadBalancingConfig",{enumerable:!0,get:function(){return A.validateLoadBalancingConfig}});var l=r(4955);Object.defineProperty(t,"subchannelAddressToString",{enumerable:!0,get:function(){return l.subchannelAddressToString}});var c=r(6372);Object.defineProperty(t,"ChildLoadBalancerHandler",{enumerable:!0,get:function(){return c.ChildLoadBalancerHandler}});var u=r(2352);Object.defineProperty(t,"UnavailablePicker",{enumerable:!0,get:function(){return u.UnavailablePicker}}),Object.defineProperty(t,"QueuePicker",{enumerable:!0,get:function(){return u.QueuePicker}}),Object.defineProperty(t,"PickResultType",{enumerable:!0,get:function(){return u.PickResultType}});var h=r(3223);Object.defineProperty(t,"BaseFilter",{enumerable:!0,get:function(){return h.BaseFilter}});var d=r(9386);Object.defineProperty(t,"FilterStackFactory",{enumerable:!0,get:function(){return d.FilterStackFactory}});var g=r(7749);Object.defineProperty(t,"registerAdminService",{enumerable:!0,get:function(){return g.registerAdminService}});var f=r(487);Object.defineProperty(t,"BaseSubchannelWrapper",{enumerable:!0,get:function(){return f.BaseSubchannelWrapper}});var p=r(7542);Object.defineProperty(t,"OutlierDetectionLoadBalancingConfig",{enumerable:!0,get:function(){return p.OutlierDetectionLoadBalancingConfig}})},9386:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FilterStackFactory=t.FilterStack=void 0;class r{constructor(e){this.filters=e}sendMetadata(e){let t=e;for(let e=0;e<this.filters.length;e++)t=this.filters[e].sendMetadata(t);return t}receiveMetadata(e){let t=e;for(let e=this.filters.length-1;e>=0;e--)t=this.filters[e].receiveMetadata(t);return t}sendMessage(e){let t=e;for(let e=0;e<this.filters.length;e++)t=this.filters[e].sendMessage(t);return t}receiveMessage(e){let t=e;for(let e=this.filters.length-1;e>=0;e--)t=this.filters[e].receiveMessage(t);return t}receiveTrailers(e){let t=e;for(let e=this.filters.length-1;e>=0;e--)t=this.filters[e].receiveTrailers(t);return t}push(e){this.filters.unshift(...e)}getFilters(){return this.filters}}t.FilterStack=r;class i{constructor(e){this.factories=e}push(e){this.factories.unshift(...e)}clone(){return new i([...this.factories])}createFilter(){return new r(this.factories.map(e=>e.createFilter()))}}t.FilterStackFactory=i},3223:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseFilter=void 0;class r{async sendMetadata(e){return e}receiveMetadata(e){return e}async sendMessage(e){return e}async receiveMessage(e){return e}receiveTrailers(e){return e}}t.BaseFilter=r},5242:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getProxiedConnection=t.mapProxyName=void 0;let i=r(5792),n=r(9572),s=r(4063),o=r(2615),a=r(2452),A=r(5792),l=r(4955),c=r(5541),u=r(7360),h=r(8501),d="proxy";function g(e){A.trace(n.LogVerbosity.DEBUG,d,e)}function f(){let e,t="",r="";if(process.env.grpc_proxy)r="grpc_proxy",t=process.env.grpc_proxy;else if(process.env.https_proxy)r="https_proxy",t=process.env.https_proxy;else{if(!process.env.http_proxy)return{};r="http_proxy",t=process.env.http_proxy}try{e=new u.URL(t)}catch(e){return(0,i.log)(n.LogVerbosity.ERROR,`cannot parse value of "${r}" env var`),{}}if("http:"!==e.protocol)return(0,i.log)(n.LogVerbosity.ERROR,`"${e.protocol}" scheme not supported in proxy URI`),{};let s=null;e.username&&(e.password?((0,i.log)(n.LogVerbosity.INFO,"userinfo found in proxy URI"),s=`${e.username}:${e.password}`):s=e.username);let o=e.hostname,a=e.port;""===a&&(a="80");let A={address:`${o}:${a}`};return s&&(A.creds=s),g("Proxy server "+A.address+" set by environment variable "+r),A}function p(){let e=process.env.no_grpc_proxy,t="no_grpc_proxy";return(e||(e=process.env.no_proxy,t="no_proxy"),e)?(g("No proxy server list set by environment variable "+t),e.split(",")):[]}function E(e,t){var r;let i={target:e,extraOptions:{}};if((null!==(r=t["grpc.enable_http_proxy"])&&void 0!==r?r:1)===0||"unix"===e.scheme)return i;let n=f();if(!n.address)return i;let s=(0,c.splitHostPort)(e.path);if(!s)return i;let o=s.host;for(let t of p())if(t===o)return g("Not using proxy for target in no_proxy list: "+(0,c.uriToString)(e)),i;let a={"grpc.http_connect_target":(0,c.uriToString)(e)};return n.creds&&(a["grpc.http_connect_creds"]=n.creds),{target:{scheme:"dns",path:n.address},extraOptions:a}}function C(e,t,r){var A;if(!("grpc.http_connect_target"in t))return Promise.resolve({});let u=t["grpc.http_connect_target"],d=(0,c.parseUri)(u);if(null===d)return Promise.resolve({});let f=(0,c.splitHostPort)(d.path);if(null===f)return Promise.resolve({});let p=`${f.host}:${null!==(A=f.port)&&void 0!==A?A:h.DEFAULT_PORT}`,E={method:"CONNECT",path:p},C={Host:p};(0,l.isTcpSubchannelAddress)(e)?(E.host=e.host,E.port=e.port):E.socketPath=e.path,"grpc.http_connect_creds"in t&&(C["Proxy-Authorization"]="Basic "+Buffer.from(t["grpc.http_connect_creds"]).toString("base64")),E.headers=C;let I=(0,l.subchannelAddressToString)(e);return g("Using proxy "+I+" to connect to "+E.path),new Promise((e,t)=>{let A=o.request(E);A.once("connect",(o,l,u)=>{var h;if(A.removeAllListeners(),l.removeAllListeners(),200===o.statusCode){if(g("Successfully connected to "+E.path+" through proxy "+I),"secureContext"in r){let i=(0,s.getDefaultAuthority)(d),n=(0,c.splitHostPort)(i),o=null!==(h=null==n?void 0:n.host)&&void 0!==h?h:i,A=a.connect(Object.assign({host:o,servername:o,socket:l},r),()=>{g("Successfully established a TLS connection to "+E.path+" through proxy "+I),e({socket:A,realTarget:d})});A.on("error",e=>{g("Failed to establish a TLS connection to "+E.path+" through proxy "+I+" with error "+e.message),t()})}else g("Successfully established a plaintext connection to "+E.path+" through proxy "+I),e({socket:l,realTarget:d})}else(0,i.log)(n.LogVerbosity.ERROR,"Failed to connect to "+E.path+" through proxy "+I+" with status "+o.statusCode),t()}),A.once("error",e=>{A.removeAllListeners(),(0,i.log)(n.LogVerbosity.ERROR,"Failed to connect to proxy "+I+" with error "+e.message),t()}),A.end()})}t.mapProxyName=E,t.getProxiedConnection=C},1968:(e,t,r)=>{"use strict";p={value:!0},p=p=p=p=p=p=p=p=p=p=p=p=p=p=p=p=p=p=p=p=p=p=p=t.Rz=p=p=p=p=p=p=t.SF=t.K9=void 0;let i=r(5402);p={enumerable:!0,get:function(){return i.CallCredentials}};let n=r(9452);p={enumerable:!0,get:function(){return n.ChannelImplementation}};let s=r(4334);p={enumerable:!0,get:function(){return s.CompressionAlgorithms}};let o=r(2409);p={enumerable:!0,get:function(){return o.ConnectivityState}};let a=r(499);p={enumerable:!0,get:function(){return a.ChannelCredentials}};let A=r(1865);p={enumerable:!0,get:function(){return A.Client}};let l=r(9572);p={enumerable:!0,get:function(){return l.LogVerbosity}},p={enumerable:!0,get:function(){return l.Status}},p={enumerable:!0,get:function(){return l.Propagate}};let c=r(5792),u=r(4529);Object.defineProperty(t,"Rz",{enumerable:!0,get:function(){return u.loadPackageDefinition}}),p={enumerable:!0,get:function(){return u.makeClientConstructor}},p={enumerable:!0,get:function(){return u.makeClientConstructor}};let h=r(6281);Object.defineProperty(t,"SF",{enumerable:!0,get:function(){return h.Metadata}});let d=r(6418);p={enumerable:!0,get:function(){return d.Server}};let g=r(3783);p={enumerable:!0,get:function(){return g.ServerCredentials}};let f=r(4339);p={enumerable:!0,get:function(){return f.StatusBuilder}},t.K9={combineChannelCredentials:(e,...t)=>t.reduce((e,t)=>e.compose(t),e),combineCallCredentials:(e,...t)=>t.reduce((e,t)=>e.compose(t),e),createInsecure:a.ChannelCredentials.createInsecure,createSsl:a.ChannelCredentials.createSsl,createFromSecureContext:a.ChannelCredentials.createFromSecureContext,createFromMetadataGenerator:i.CallCredentials.createFromMetadataGenerator,createFromGoogleCredential:i.CallCredentials.createFromGoogleCredential,createEmpty:i.CallCredentials.createEmpty},p=e=>e.close(),p=(e,t,r)=>e.waitForReady(t,r),p=(e,t)=>{throw Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")},p=(e,t,r)=>{throw Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")},p=e=>{c.setLogger(e)},p=e=>{c.setLoggerVerbosity(e)},p=e=>A.Client.prototype.getChannel.call(e);var p,E=r(1809);p={enumerable:!0,get:function(){return E.ListenerBuilder}},p={enumerable:!0,get:function(){return E.RequesterBuilder}},p={enumerable:!0,get:function(){return E.InterceptingCall}},p={enumerable:!0,get:function(){return E.InterceptorConfigurationError}};var C=r(5962);p={enumerable:!0,get:function(){return C.getChannelzServiceDefinition}},p={enumerable:!0,get:function(){return C.getChannelzHandlers}};var I=r(7749);p={enumerable:!0,get:function(){return I.addAdminServicesToServer}},p=r(8779);let m=r(8501),B=r(7255),y=r(3988),Q=r(5102),w=r(4556),v=r(7542),b=r(5962);(()=>{m.setup(),B.setup(),y.setup(),Q.setup(),w.setup(),v.setup(),b.setup()})()},9359:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InternalChannel=void 0;let i=r(499),n=r(7661),s=r(7328),o=r(2352),a=r(9572),A=r(9386),l=r(6289),c=r(4063),u=r(5792),h=r(5242),d=r(5541),g=r(2409),f=r(5962),p=r(1690),E=r(4771),C=r(80),I=r(1801),m=r(5607),B=r(5627),y=r(487),Q=2147483647,w=1e3,v=18e5,b=new Map,S=16777216,T=1048576;class D extends y.BaseSubchannelWrapper{constructor(e,t){super(e),this.channel=t,this.refCount=0,this.subchannelStateListener=(e,r,i,n)=>{t.throttleKeepalive(n)},e.addConnectivityStateListener(this.subchannelStateListener)}ref(){this.child.ref(),this.refCount+=1}unref(){this.child.unref(),this.refCount-=1,this.refCount<=0&&(this.child.removeConnectivityStateListener(this.subchannelStateListener),this.channel.removeWrappedSubchannel(this))}}class R{constructor(e,t,r){var p,E,C,I,y,R,k,N;if(this.credentials=t,this.options=r,this.connectivityState=g.ConnectivityState.IDLE,this.currentPicker=new o.UnavailablePicker,this.configSelectionQueue=[],this.pickQueue=[],this.connectivityStateWatchers=[],this.configSelector=null,this.currentResolutionError=null,this.wrappedSubchannels=new Set,this.callCount=0,this.idleTimer=null,this.channelzEnabled=!0,this.callTracker=new f.ChannelzCallTracker,this.childrenTracker=new f.ChannelzChildrenTracker,"string"!=typeof e)throw TypeError("Channel target must be a string");if(!(t instanceof i.ChannelCredentials))throw TypeError("Channel credentials must be a ChannelCredentials object");if(r&&"object"!=typeof r)throw TypeError("Channel options must be an object");this.originalTarget=e;let F=(0,d.parseUri)(e);if(null===F)throw Error(`Could not parse target name "${e}"`);let M=(0,c.mapUriDefaultScheme)(F);if(null===M)throw Error(`Could not find a default scheme for target name "${e}"`);this.callRefTimer=setInterval(()=>{},Q),null===(E=(p=this.callRefTimer).unref)||void 0===E||E.call(p),0===this.options["grpc.enable_channelz"]&&(this.channelzEnabled=!1),this.channelzTrace=new f.ChannelzTrace,this.channelzRef=(0,f.registerChannelzChannel)(e,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Channel created"),this.options["grpc.default_authority"]?this.defaultAuthority=this.options["grpc.default_authority"]:this.defaultAuthority=(0,c.getDefaultAuthority)(M);let L=(0,h.mapProxyName)(M,r);this.target=L.target,this.options=Object.assign({},this.options,L.extraOptions),this.subchannelPool=(0,s.getSubchannelPool)((null!==(C=r["grpc.use_local_subchannel_pool"])&&void 0!==C?C:0)===0),this.retryBufferTracker=new B.MessageBufferTracker(null!==(I=r["grpc.retry_buffer_size"])&&void 0!==I?I:S,null!==(y=r["grpc.per_rpc_retry_buffer_size"])&&void 0!==y?y:T),this.keepaliveTime=null!==(R=r["grpc.keepalive_time_ms"])&&void 0!==R?R:-1,this.idleTimeoutMs=Math.max(null!==(k=r["grpc.client_idle_timeout_ms"])&&void 0!==k?k:v,w);let U={createSubchannel:(e,t)=>{let r=this.subchannelPool.getOrCreateSubchannel(this.target,e,Object.assign({},this.options,t),this.credentials);r.throttleKeepalive(this.keepaliveTime),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Created subchannel or used existing subchannel",r.getChannelzRef());let i=new D(r,this);return this.wrappedSubchannels.add(i),i},updateState:(e,t)=>{this.currentPicker=t;let r=this.pickQueue.slice();for(let e of(this.pickQueue=[],r.length>0&&this.callRefTimerUnref(),r))e.doPick();this.updateState(e)},requestReresolution:()=>{throw Error("Resolving load balancer should never call requestReresolution")},addChannelzChild:e=>{this.channelzEnabled&&this.childrenTracker.refChild(e)},removeChannelzChild:e=>{this.channelzEnabled&&this.childrenTracker.unrefChild(e)}};this.resolvingLoadBalancer=new n.ResolvingLoadBalancer(this.target,U,r,(e,t)=>{e.retryThrottling?b.set(this.getTarget(),new B.RetryThrottler(e.retryThrottling.maxTokens,e.retryThrottling.tokenRatio,b.get(this.getTarget()))):b.delete(this.getTarget()),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Address resolution succeeded"),this.configSelector=t,this.currentResolutionError=null,process.nextTick(()=>{let e=this.configSelectionQueue;for(let t of(this.configSelectionQueue=[],e.length>0&&this.callRefTimerUnref(),e))t.getConfig()})},e=>{this.channelzEnabled&&this.channelzTrace.addTrace("CT_WARNING","Address resolution failed with code "+e.code+' and details "'+e.details+'"'),this.configSelectionQueue.length>0&&this.trace("Name resolution failed with calls queued for config selection"),null===this.configSelector&&(this.currentResolutionError=Object.assign(Object.assign({},(0,m.restrictControlPlaneStatusCode)(e.code,e.details)),{metadata:e.metadata}));let t=this.configSelectionQueue;for(let r of(this.configSelectionQueue=[],t.length>0&&this.callRefTimerUnref(),t))r.reportResolverError(e)}),this.filterStackFactory=new A.FilterStackFactory([new l.CompressionFilterFactory(this,this.options)]),this.trace("Channel constructed with options "+JSON.stringify(r,void 0,2));let _=Error();(0,u.trace)(a.LogVerbosity.DEBUG,"channel_stacktrace","("+this.channelzRef.id+") Channel constructed \n"+(null===(N=_.stack)||void 0===N?void 0:N.substring(_.stack.indexOf("\n")+1))),this.lastActivityTimestamp=new Date}getChannelzInfo(){return{target:this.originalTarget,state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists()}}trace(e,t){(0,u.trace)(null!=t?t:a.LogVerbosity.DEBUG,"channel","("+this.channelzRef.id+") "+(0,d.uriToString)(this.target)+" "+e)}callRefTimerRef(){var e,t,r,i;(null===(t=(e=this.callRefTimer).hasRef)||void 0===t?void 0:t.call(e))||(this.trace("callRefTimer.ref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),null===(i=(r=this.callRefTimer).ref)||void 0===i||i.call(r))}callRefTimerUnref(){var e,t;(!this.callRefTimer.hasRef||this.callRefTimer.hasRef())&&(this.trace("callRefTimer.unref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),null===(t=(e=this.callRefTimer).unref)||void 0===t||t.call(e))}removeConnectivityStateWatcher(e){let t=this.connectivityStateWatchers.findIndex(t=>t===e);t>=0&&this.connectivityStateWatchers.splice(t,1)}updateState(e){for(let t of((0,u.trace)(a.LogVerbosity.DEBUG,"connectivity_state","("+this.channelzRef.id+") "+(0,d.uriToString)(this.target)+" "+g.ConnectivityState[this.connectivityState]+" -> "+g.ConnectivityState[e]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+g.ConnectivityState[e]),this.connectivityState=e,this.connectivityStateWatchers.slice()))e!==t.currentState&&(t.timer&&clearTimeout(t.timer),this.removeConnectivityStateWatcher(t),t.callback());e!==g.ConnectivityState.TRANSIENT_FAILURE&&(this.currentResolutionError=null)}throttleKeepalive(e){if(e>this.keepaliveTime)for(let t of(this.keepaliveTime=e,this.wrappedSubchannels))t.throttleKeepalive(e)}removeWrappedSubchannel(e){this.wrappedSubchannels.delete(e)}doPick(e,t){return this.currentPicker.pick({metadata:e,extraPickInfo:t})}queueCallForPick(e){this.pickQueue.push(e),this.callRefTimerRef()}getConfig(e,t){return(this.resolvingLoadBalancer.exitIdle(),this.configSelector)?{type:"SUCCESS",config:this.configSelector(e,t)}:this.currentResolutionError?{type:"ERROR",error:this.currentResolutionError}:{type:"NONE"}}queueCallForConfig(e){this.configSelectionQueue.push(e),this.callRefTimerRef()}enterIdle(){this.resolvingLoadBalancer.destroy(),this.updateState(g.ConnectivityState.IDLE),this.currentPicker=new o.QueuePicker(this.resolvingLoadBalancer),this.idleTimer&&(clearTimeout(this.idleTimer),this.idleTimer=null)}startIdleTimeout(e){var t,r;this.idleTimer=setTimeout(()=>{if(this.callCount>0){this.startIdleTimeout(this.idleTimeoutMs);return}let e=new Date().valueOf()-this.lastActivityTimestamp.valueOf();e>=this.idleTimeoutMs?(this.trace("Idle timer triggered after "+this.idleTimeoutMs+"ms of inactivity"),this.enterIdle()):this.startIdleTimeout(this.idleTimeoutMs-e)},e),null===(r=(t=this.idleTimer).unref)||void 0===r||r.call(t)}maybeStartIdleTimer(){this.connectivityState===g.ConnectivityState.SHUTDOWN||this.idleTimer||this.startIdleTimeout(this.idleTimeoutMs)}onCallStart(){this.channelzEnabled&&this.callTracker.addCallStarted(),this.callCount+=1}onCallEnd(e){this.channelzEnabled&&(e.code===a.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()),this.callCount-=1,this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()}createLoadBalancingCall(e,t,r,i,n){let s=(0,I.getNextCallNumber)();return this.trace("createLoadBalancingCall ["+s+'] method="'+t+'"'),new p.LoadBalancingCall(this,e,t,r,i,n,s)}createRetryingCall(e,t,r,i,n){let s=(0,I.getNextCallNumber)();return this.trace("createRetryingCall ["+s+'] method="'+t+'"'),new B.RetryingCall(this,e,t,r,i,n,s,this.retryBufferTracker,b.get(this.getTarget()))}createInnerCall(e,t,r,i,n){return 0===this.options["grpc.enable_retries"]?this.createLoadBalancingCall(e,t,r,i,n):this.createRetryingCall(e,t,r,i,n)}createResolvingCall(e,t,r,i,n){let s=(0,I.getNextCallNumber)();this.trace("createResolvingCall ["+s+'] method="'+e+'", deadline='+(0,E.deadlineToString)(t));let o={deadline:t,flags:null!=n?n:a.Propagate.DEFAULTS,host:null!=r?r:this.defaultAuthority,parentCall:i},A=new C.ResolvingCall(this,e,o,this.filterStackFactory.clone(),this.credentials._getCallCredentials(),s);return this.onCallStart(),A.addStatusWatcher(e=>{this.onCallEnd(e)}),A}close(){this.resolvingLoadBalancer.destroy(),this.updateState(g.ConnectivityState.SHUTDOWN),clearInterval(this.callRefTimer),this.idleTimer&&clearTimeout(this.idleTimer),this.channelzEnabled&&(0,f.unregisterChannelzRef)(this.channelzRef),this.subchannelPool.unrefUnusedSubchannels()}getTarget(){return(0,d.uriToString)(this.target)}getConnectivityState(e){let t=this.connectivityState;return e&&(this.resolvingLoadBalancer.exitIdle(),this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()),t}watchConnectivityState(e,t,r){if(this.connectivityState===g.ConnectivityState.SHUTDOWN)throw Error("Channel has been shut down");let i=null;if(t!==1/0){let e=t instanceof Date?t:new Date(t),s=new Date;if(t===-1/0||e<=s){process.nextTick(r,Error("Deadline passed without connectivity state change"));return}i=setTimeout(()=>{this.removeConnectivityStateWatcher(n),r(Error("Deadline passed without connectivity state change"))},e.getTime()-s.getTime())}let n={currentState:e,callback:r,timer:i};this.connectivityStateWatchers.push(n)}getChannelzRef(){return this.channelzRef}createCall(e,t,r,i,n){if("string"!=typeof e)throw TypeError("Channel#createCall: method must be a string");if(!("number"==typeof t||t instanceof Date))throw TypeError("Channel#createCall: deadline must be a number or Date");if(this.connectivityState===g.ConnectivityState.SHUTDOWN)throw Error("Channel has been shut down");return this.createResolvingCall(e,t,r,i,n)}}t.InternalChannel=R},6372:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChildLoadBalancerHandler=void 0;let i=r(9884),n=r(2409),s="child_load_balancer_helper";class o{constructor(e){this.channelControlHelper=e,this.currentChild=null,this.pendingChild=null,this.latestConfig=null,this.ChildPolicyHelper=class{constructor(e){this.parent=e,this.child=null}createSubchannel(e,t){return this.parent.channelControlHelper.createSubchannel(e,t)}updateState(e,t){var r;if(this.calledByPendingChild()){if(e===n.ConnectivityState.CONNECTING)return;null===(r=this.parent.currentChild)||void 0===r||r.destroy(),this.parent.currentChild=this.parent.pendingChild,this.parent.pendingChild=null}else if(!this.calledByCurrentChild())return;this.parent.channelControlHelper.updateState(e,t)}requestReresolution(){var e;let t=null!==(e=this.parent.pendingChild)&&void 0!==e?e:this.parent.currentChild;this.child===t&&this.parent.channelControlHelper.requestReresolution()}setChild(e){this.child=e}addChannelzChild(e){this.parent.channelControlHelper.addChannelzChild(e)}removeChannelzChild(e){this.parent.channelControlHelper.removeChannelzChild(e)}calledByPendingChild(){return this.child===this.parent.pendingChild}calledByCurrentChild(){return this.child===this.parent.currentChild}}}configUpdateRequiresNewPolicyInstance(e,t){return e.getLoadBalancerName()!==t.getLoadBalancerName()}updateAddressList(e,t,r){let n;if(null===this.currentChild||null===this.latestConfig||this.configUpdateRequiresNewPolicyInstance(this.latestConfig,t)){let e=new this.ChildPolicyHelper(this),r=(0,i.createLoadBalancer)(t,e);e.setChild(r),null===this.currentChild?(this.currentChild=r,n=this.currentChild):(this.pendingChild&&this.pendingChild.destroy(),this.pendingChild=r,n=this.pendingChild)}else n=null===this.pendingChild?this.currentChild:this.pendingChild;this.latestConfig=t,n.updateAddressList(e,t,r)}exitIdle(){this.currentChild&&(this.currentChild.exitIdle(),this.pendingChild&&this.pendingChild.exitIdle())}resetBackoff(){this.currentChild&&(this.currentChild.resetBackoff(),this.pendingChild&&this.pendingChild.resetBackoff())}destroy(){this.currentChild&&(this.currentChild.destroy(),this.currentChild=null),this.pendingChild&&(this.pendingChild.destroy(),this.pendingChild=null)}getTypeName(){return s}}t.ChildLoadBalancerHandler=o},7542:(e,t,r)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.setup=t.OutlierDetectionLoadBalancer=t.OutlierDetectionLoadBalancingConfig=void 0;let n=r(2409),s=r(9572),o=r(7974),a=r(8779),A=r(9884),l=r(6372),c=r(2352),u=r(4955),h=r(487),d=r(5792),g="outlier_detection";function f(e){d.trace(s.LogVerbosity.DEBUG,g,e)}let p="outlier_detection",E=(null!==(i=process.env.GRPC_EXPERIMENTAL_ENABLE_OUTLIER_DETECTION)&&void 0!==i?i:"true")==="true",C={stdev_factor:1900,enforcement_percentage:100,minimum_hosts:5,request_volume:100},I={threshold:85,enforcement_percentage:100,minimum_hosts:5,request_volume:50};function m(e,t,r,i){if(t in e&&typeof e[t]!==r){let n=i?`${i}.${t}`:t;throw Error(`outlier detection config ${n} parse error: expected ${r}, got ${typeof e[t]}`)}}function B(e,t,r){let i=r?`${r}.${t}`:t;if(t in e){if(!(0,o.isDuration)(e[t]))throw Error(`outlier detection config ${i} parse error: expected Duration, got ${typeof e[t]}`);if(!(e[t].seconds>=0&&e[t].seconds<=315576e6&&e[t].nanos>=0&&e[t].nanos<=999999999))throw Error(`outlier detection config ${i} parse error: values out of range for non-negative Duaration`)}}function y(e,t,r){let i=r?`${r}.${t}`:t;if(m(e,t,"number",r),t in e&&!(e[t]>=0&&e[t]<=100))throw Error(`outlier detection config ${i} parse error: value out of range for percentage (0-100)`)}class Q{constructor(e,t,r,i,n,s,o){if(this.childPolicy=o,o.length>0&&"pick_first"===o[0].getLoadBalancerName())throw Error("outlier_detection LB policy cannot have a pick_first child policy");this.intervalMs=null!=e?e:1e4,this.baseEjectionTimeMs=null!=t?t:3e4,this.maxEjectionTimeMs=null!=r?r:3e5,this.maxEjectionPercent=null!=i?i:10,this.successRateEjection=n?Object.assign(Object.assign({},C),n):null,this.failurePercentageEjection=s?Object.assign(Object.assign({},I),s):null}getLoadBalancerName(){return p}toJsonObject(){return{interval:(0,o.msToDuration)(this.intervalMs),base_ejection_time:(0,o.msToDuration)(this.baseEjectionTimeMs),max_ejection_time:(0,o.msToDuration)(this.maxEjectionTimeMs),max_ejection_percent:this.maxEjectionPercent,success_rate_ejection:this.successRateEjection,failure_percentage_ejection:this.failurePercentageEjection,child_policy:this.childPolicy.map(e=>e.toJsonObject())}}getIntervalMs(){return this.intervalMs}getBaseEjectionTimeMs(){return this.baseEjectionTimeMs}getMaxEjectionTimeMs(){return this.maxEjectionTimeMs}getMaxEjectionPercent(){return this.maxEjectionPercent}getSuccessRateEjectionConfig(){return this.successRateEjection}getFailurePercentageEjectionConfig(){return this.failurePercentageEjection}getChildPolicy(){return this.childPolicy}copyWithChildPolicy(e){return new Q(this.intervalMs,this.baseEjectionTimeMs,this.maxEjectionTimeMs,this.maxEjectionPercent,this.successRateEjection,this.failurePercentageEjection,e)}static createFromJson(e){var t;if(B(e,"interval"),B(e,"base_ejection_time"),B(e,"max_ejection_time"),y(e,"max_ejection_percent"),"success_rate_ejection"in e){if("object"!=typeof e.success_rate_ejection)throw Error("outlier detection config success_rate_ejection must be an object");m(e.success_rate_ejection,"stdev_factor","number","success_rate_ejection"),y(e.success_rate_ejection,"enforcement_percentage","success_rate_ejection"),m(e.success_rate_ejection,"minimum_hosts","number","success_rate_ejection"),m(e.success_rate_ejection,"request_volume","number","success_rate_ejection")}if("failure_percentage_ejection"in e){if("object"!=typeof e.failure_percentage_ejection)throw Error("outlier detection config failure_percentage_ejection must be an object");y(e.failure_percentage_ejection,"threshold","failure_percentage_ejection"),y(e.failure_percentage_ejection,"enforcement_percentage","failure_percentage_ejection"),m(e.failure_percentage_ejection,"minimum_hosts","number","failure_percentage_ejection"),m(e.failure_percentage_ejection,"request_volume","number","failure_percentage_ejection")}return new Q(e.interval?(0,o.durationToMs)(e.interval):null,e.base_ejection_time?(0,o.durationToMs)(e.base_ejection_time):null,e.max_ejection_time?(0,o.durationToMs)(e.max_ejection_time):null,null!==(t=e.max_ejection_percent)&&void 0!==t?t:null,e.success_rate_ejection,e.failure_percentage_ejection,e.child_policy.map(A.validateLoadBalancingConfig))}}t.OutlierDetectionLoadBalancingConfig=Q;class w extends h.BaseSubchannelWrapper{constructor(e,t){super(e),this.mapEntry=t,this.stateListeners=[],this.ejected=!1,this.refCount=0,this.childSubchannelState=e.getConnectivityState(),e.addConnectivityStateListener((e,t,r,i)=>{if(this.childSubchannelState=r,!this.ejected)for(let e of this.stateListeners)e(this,t,r,i)})}getConnectivityState(){return this.ejected?n.ConnectivityState.TRANSIENT_FAILURE:this.childSubchannelState}addConnectivityStateListener(e){this.stateListeners.push(e)}removeConnectivityStateListener(e){let t=this.stateListeners.indexOf(e);t>-1&&this.stateListeners.splice(t,1)}ref(){this.child.ref(),this.refCount+=1}unref(){if(this.child.unref(),this.refCount-=1,this.refCount<=0&&this.mapEntry){let e=this.mapEntry.subchannelWrappers.indexOf(this);e>=0&&this.mapEntry.subchannelWrappers.splice(e,1)}}eject(){for(let e of(this.ejected=!0,this.stateListeners))e(this,this.childSubchannelState,n.ConnectivityState.TRANSIENT_FAILURE,-1)}uneject(){for(let e of(this.ejected=!1,this.stateListeners))e(this,n.ConnectivityState.TRANSIENT_FAILURE,this.childSubchannelState,-1)}getMapEntry(){return this.mapEntry}getWrappedSubchannel(){return this.child}}function v(){return{success:0,failure:0}}class b{constructor(){this.activeBucket=v(),this.inactiveBucket=v()}addSuccess(){this.activeBucket.success+=1}addFailure(){this.activeBucket.failure+=1}switchBuckets(){this.inactiveBucket=this.activeBucket,this.activeBucket=v()}getLastSuccesses(){return this.inactiveBucket.success}getLastFailures(){return this.inactiveBucket.failure}}class S{constructor(e,t){this.wrappedPicker=e,this.countCalls=t}pick(e){let t=this.wrappedPicker.pick(e);if(t.pickResultType!==c.PickResultType.COMPLETE)return t;{let e=t.subchannel,r=e.getMapEntry();if(!r)return Object.assign(Object.assign({},t),{subchannel:e.getWrappedSubchannel()});{let i=t.onCallEnded;return this.countCalls&&(i=e=>{var i;e===s.Status.OK?r.counter.addSuccess():r.counter.addFailure(),null===(i=t.onCallEnded)||void 0===i||i.call(t,e)}),Object.assign(Object.assign({},t),{subchannel:e.getWrappedSubchannel(),onCallEnded:i})}}}}class T{constructor(e){this.addressMap=new Map,this.latestConfig=null,this.timerStartTime=null,this.childBalancer=new l.ChildLoadBalancerHandler((0,a.createChildChannelControlHelper)(e,{createSubchannel:(t,r)=>{let i=e.createSubchannel(t,r),n=this.addressMap.get((0,u.subchannelAddressToString)(t)),s=new w(i,n);return(null==n?void 0:n.currentEjectionTimestamp)!==null&&s.eject(),null==n||n.subchannelWrappers.push(s),s},updateState:(t,r)=>{t===n.ConnectivityState.READY?e.updateState(t,new S(r,this.isCountingEnabled())):e.updateState(t,r)}})),this.ejectionTimer=setInterval(()=>{},0),clearInterval(this.ejectionTimer)}isCountingEnabled(){return null!==this.latestConfig&&(null!==this.latestConfig.getSuccessRateEjectionConfig()||null!==this.latestConfig.getFailurePercentageEjectionConfig())}getCurrentEjectionPercent(){let e=0;for(let t of this.addressMap.values())null!==t.currentEjectionTimestamp&&(e+=1);return 100*e/this.addressMap.size}runSuccessRateCheck(e){if(!this.latestConfig)return;let t=this.latestConfig.getSuccessRateEjectionConfig();if(!t)return;f("Running success rate check");let r=t.request_volume,i=0,n=[];for(let[e,t]of this.addressMap){let s=t.counter.getLastSuccesses(),o=t.counter.getLastFailures();f("Stats for "+e+": successes="+s+" failures="+o+" targetRequestVolume="+r),s+o>=r&&(i+=1,n.push(s/(s+o)))}if(f("Found "+i+" success rate candidates; currentEjectionPercent="+this.getCurrentEjectionPercent()+" successRates=["+n+"]"),i<t.minimum_hosts)return;let s=n.reduce((e,t)=>e+t)/n.length,o=0;for(let e of n){let t=e-s;o+=t*t}let a=Math.sqrt(o/n.length),A=s-t.stdev_factor/1e3*a;for(let[i,n]of(f("stdev="+a+" ejectionThreshold="+A),this.addressMap.entries())){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let s=n.counter.getLastSuccesses(),o=n.counter.getLastFailures();if(s+o<r)continue;let a=s/(s+o);if(f("Checking candidate "+i+" successRate="+a),a<A){let r=100*Math.random();f("Candidate "+i+" randomNumber="+r+" enforcement_percentage="+t.enforcement_percentage),r<t.enforcement_percentage&&(f("Ejecting candidate "+i),this.eject(n,e))}}}runFailurePercentageCheck(e){if(!this.latestConfig)return;let t=this.latestConfig.getFailurePercentageEjectionConfig();if(!t)return;f("Running failure percentage check. threshold="+t.threshold+" request volume threshold="+t.request_volume);let r=0;for(let e of this.addressMap.values())e.counter.getLastSuccesses()+e.counter.getLastFailures()>=t.request_volume&&(r+=1);if(!(r<t.minimum_hosts))for(let[r,i]of this.addressMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let n=i.counter.getLastSuccesses(),s=i.counter.getLastFailures();if(f("Candidate successes="+n+" failures="+s),!(n+s<t.request_volume)&&100*s/(s+n)>t.threshold){let n=100*Math.random();f("Candidate "+r+" randomNumber="+n+" enforcement_percentage="+t.enforcement_percentage),n<t.enforcement_percentage&&(f("Ejecting candidate "+r),this.eject(i,e))}}}eject(e,t){for(let t of(e.currentEjectionTimestamp=new Date,e.ejectionTimeMultiplier+=1,e.subchannelWrappers))t.eject()}uneject(e){for(let t of(e.currentEjectionTimestamp=null,e.subchannelWrappers))t.uneject()}switchAllBuckets(){for(let e of this.addressMap.values())e.counter.switchBuckets()}startTimer(e){var t,r;this.ejectionTimer=setTimeout(()=>this.runChecks(),e),null===(r=(t=this.ejectionTimer).unref)||void 0===r||r.call(t)}runChecks(){let e=new Date;if(f("Ejection timer running"),this.switchAllBuckets(),this.latestConfig)for(let[t,r]of(this.timerStartTime=e,this.startTimer(this.latestConfig.getIntervalMs()),this.runSuccessRateCheck(e),this.runFailurePercentageCheck(e),this.addressMap.entries()))if(null===r.currentEjectionTimestamp)r.ejectionTimeMultiplier>0&&(r.ejectionTimeMultiplier-=1);else{let e=this.latestConfig.getBaseEjectionTimeMs(),i=this.latestConfig.getMaxEjectionTimeMs(),n=new Date(r.currentEjectionTimestamp.getTime());n.setMilliseconds(n.getMilliseconds()+Math.min(e*r.ejectionTimeMultiplier,Math.max(e,i))),n<new Date&&(f("Unejecting "+t),this.uneject(r))}}updateAddressList(e,t,r){if(!(t instanceof Q))return;let i=new Set;for(let t of e)i.add((0,u.subchannelAddressToString)(t));for(let e of i)this.addressMap.has(e)||(f("Adding map entry for "+e),this.addressMap.set(e,{counter:new b,currentEjectionTimestamp:null,ejectionTimeMultiplier:0,subchannelWrappers:[]}));for(let e of this.addressMap.keys())i.has(e)||(f("Removing map entry for "+e),this.addressMap.delete(e));let n=(0,A.getFirstUsableConfig)(t.getChildPolicy(),!0);if(this.childBalancer.updateAddressList(e,n,r),t.getSuccessRateEjectionConfig()||t.getFailurePercentageEjectionConfig()){if(this.timerStartTime){f("Previous timer existed. Replacing timer"),clearTimeout(this.ejectionTimer);let e=t.getIntervalMs()-(new Date().getTime()-this.timerStartTime.getTime());this.startTimer(e)}else f("Starting new timer"),this.timerStartTime=new Date,this.startTimer(t.getIntervalMs()),this.switchAllBuckets()}else for(let e of(f("Counting disabled. Cancelling timer."),this.timerStartTime=null,clearTimeout(this.ejectionTimer),this.addressMap.values()))this.uneject(e),e.ejectionTimeMultiplier=0;this.latestConfig=t}exitIdle(){this.childBalancer.exitIdle()}resetBackoff(){this.childBalancer.resetBackoff()}destroy(){clearTimeout(this.ejectionTimer),this.childBalancer.destroy()}getTypeName(){return p}}function D(){E&&(0,a.registerLoadBalancerType)(p,T,Q)}t.OutlierDetectionLoadBalancer=T,t.setup=D},5102:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=t.PickFirstLoadBalancer=t.shuffled=t.PickFirstLoadBalancingConfig=void 0;let i=r(9884),n=r(2409),s=r(2352),o=r(5792),a=r(9572),A="pick_first";function l(e){o.trace(a.LogVerbosity.DEBUG,A,e)}let c="pick_first",u=250;class h{constructor(e){this.shuffleAddressList=e}getLoadBalancerName(){return c}toJsonObject(){return{[c]:{shuffleAddressList:this.shuffleAddressList}}}getShuffleAddressList(){return this.shuffleAddressList}static createFromJson(e){if("shuffleAddressList"in e&&"boolean"!=typeof e.shuffleAddressList)throw Error("pick_first config field shuffleAddressList must be a boolean if provided");return new h(!0===e.shuffleAddressList)}}t.PickFirstLoadBalancingConfig=h;class d{constructor(e){this.subchannel=e}pick(e){return{pickResultType:s.PickResultType.COMPLETE,subchannel:this.subchannel,status:null,onCallStarted:null,onCallEnded:null}}}function g(e){let t=e.slice();for(let e=t.length-1;e>1;e--){let r=Math.floor(Math.random()*(e+1)),i=t[e];t[e]=t[r],t[r]=i}return t}t.shuffled=g;class f{constructor(e){this.channelControlHelper=e,this.children=[],this.currentState=n.ConnectivityState.IDLE,this.currentSubchannelIndex=0,this.currentPick=null,this.subchannelStateListener=(e,t,r,i,n)=>{this.onSubchannelStateUpdate(e,t,r,n)},this.triedAllSubchannels=!1,this.stickyTransientFailureMode=!1,this.requestedResolutionSinceLastUpdate=!1,this.lastError=null,this.latestAddressList=null,this.connectionDelayTimeout=setTimeout(()=>{},0),clearTimeout(this.connectionDelayTimeout)}allChildrenHaveReportedTF(){return this.children.every(e=>e.hasReportedTransientFailure)}calculateAndReportNewState(){this.currentPick?this.updateState(n.ConnectivityState.READY,new d(this.currentPick)):0===this.children.length?this.updateState(n.ConnectivityState.IDLE,new s.QueuePicker(this)):this.stickyTransientFailureMode?this.updateState(n.ConnectivityState.TRANSIENT_FAILURE,new s.UnavailablePicker({details:`No connection established. Last error: ${this.lastError}`})):this.updateState(n.ConnectivityState.CONNECTING,new s.QueuePicker(this))}requestReresolution(){this.requestedResolutionSinceLastUpdate=!0,this.channelControlHelper.requestReresolution()}maybeEnterStickyTransientFailureMode(){if(this.allChildrenHaveReportedTF()&&(this.requestedResolutionSinceLastUpdate||this.requestReresolution(),!this.stickyTransientFailureMode)){for(let{subchannel:e}of(this.stickyTransientFailureMode=!0,this.children))e.startConnecting();this.calculateAndReportNewState()}}removeCurrentPick(){if(null!==this.currentPick){let e=this.currentPick;this.currentPick=null,e.unref(),e.removeConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.removeChannelzChild(e.getChannelzRef())}}onSubchannelStateUpdate(e,t,r,i){var s;if(null===(s=this.currentPick)||void 0===s?void 0:s.realSubchannelEquals(e)){r!==n.ConnectivityState.READY&&(this.removeCurrentPick(),this.calculateAndReportNewState(),this.requestReresolution());return}for(let[t,s]of this.children.entries())if(e.realSubchannelEquals(s.subchannel)){r===n.ConnectivityState.READY&&this.pickSubchannel(s.subchannel),r===n.ConnectivityState.TRANSIENT_FAILURE&&(s.hasReportedTransientFailure=!0,i&&(this.lastError=i),this.maybeEnterStickyTransientFailureMode(),t===this.currentSubchannelIndex&&this.startNextSubchannelConnecting(t+1)),s.subchannel.startConnecting();return}}startNextSubchannelConnecting(e){if(clearTimeout(this.connectionDelayTimeout),!this.triedAllSubchannels){for(let[t,r]of this.children.entries())if(t>=e){let e=r.subchannel.getConnectivityState();if(e===n.ConnectivityState.IDLE||e===n.ConnectivityState.CONNECTING){this.startConnecting(t);return}}this.triedAllSubchannels=!0,this.maybeEnterStickyTransientFailureMode()}}startConnecting(e){var t,r;clearTimeout(this.connectionDelayTimeout),this.currentSubchannelIndex=e,this.children[e].subchannel.getConnectivityState()===n.ConnectivityState.IDLE&&(l("Start connecting to subchannel with address "+this.children[e].subchannel.getAddress()),process.nextTick(()=>{var t;null===(t=this.children[e])||void 0===t||t.subchannel.startConnecting()})),this.connectionDelayTimeout=null===(r=(t=setTimeout(()=>{this.startNextSubchannelConnecting(e+1)},u)).unref)||void 0===r?void 0:r.call(t)}pickSubchannel(e){this.currentPick&&e.realSubchannelEquals(this.currentPick)||(l("Pick subchannel with address "+e.getAddress()),this.stickyTransientFailureMode=!1,null!==this.currentPick&&(this.currentPick.unref(),this.channelControlHelper.removeChannelzChild(this.currentPick.getChannelzRef()),this.currentPick.removeConnectivityStateListener(this.subchannelStateListener)),this.currentPick=e,e.ref(),this.channelControlHelper.addChannelzChild(e.getChannelzRef()),this.resetSubchannelList(),clearTimeout(this.connectionDelayTimeout),this.calculateAndReportNewState())}updateState(e,t){l(n.ConnectivityState[this.currentState]+" -> "+n.ConnectivityState[e]),this.currentState=e,this.channelControlHelper.updateState(e,t)}resetSubchannelList(){for(let e of this.children)this.currentPick&&e.subchannel.realSubchannelEquals(this.currentPick)||e.subchannel.removeConnectivityStateListener(this.subchannelStateListener),e.subchannel.unref(),this.channelControlHelper.removeChannelzChild(e.subchannel.getChannelzRef());this.currentSubchannelIndex=0,this.children=[],this.triedAllSubchannels=!1,this.requestedResolutionSinceLastUpdate=!1}connectToAddressList(e){let t=e.map(e=>({subchannel:this.channelControlHelper.createSubchannel(e,{}),hasReportedTransientFailure:!1}));for(let{subchannel:e}of t)e.ref(),this.channelControlHelper.addChannelzChild(e.getChannelzRef());for(let{subchannel:e}of(this.resetSubchannelList(),this.children=t,this.children))if(e.addConnectivityStateListener(this.subchannelStateListener),e.getConnectivityState()===n.ConnectivityState.READY){this.pickSubchannel(e);return}for(let e of this.children)e.subchannel.getConnectivityState()===n.ConnectivityState.TRANSIENT_FAILURE&&(e.hasReportedTransientFailure=!0);this.startNextSubchannelConnecting(0),this.calculateAndReportNewState()}updateAddressList(e,t){t instanceof h&&(t.getShuffleAddressList()&&(e=g(e)),this.latestAddressList=e,this.connectToAddressList(e))}exitIdle(){this.currentState===n.ConnectivityState.IDLE&&this.latestAddressList&&this.connectToAddressList(this.latestAddressList)}resetBackoff(){}destroy(){this.resetSubchannelList(),this.removeCurrentPick()}getTypeName(){return c}}function p(){(0,i.registerLoadBalancerType)(c,f,h),(0,i.registerDefaultLoadBalancerType)(c)}t.PickFirstLoadBalancer=f,t.setup=p},4556:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=t.RoundRobinLoadBalancer=void 0;let i=r(9884),n=r(2409),s=r(2352),o=r(4955),a=r(5792),A=r(9572),l="round_robin";function c(e){a.trace(A.LogVerbosity.DEBUG,l,e)}let u="round_robin";class h{getLoadBalancerName(){return u}constructor(){}toJsonObject(){return{[u]:{}}}static createFromJson(e){return new h}}class d{constructor(e,t=0){this.subchannelList=e,this.nextIndex=t}pick(e){let t=this.subchannelList[this.nextIndex];return this.nextIndex=(this.nextIndex+1)%this.subchannelList.length,{pickResultType:s.PickResultType.COMPLETE,subchannel:t,status:null,onCallStarted:null,onCallEnded:null}}peekNextSubchannel(){return this.subchannelList[this.nextIndex]}}class g{constructor(e){this.channelControlHelper=e,this.subchannels=[],this.currentState=n.ConnectivityState.IDLE,this.currentReadyPicker=null,this.lastError=null,this.subchannelStateListener=(e,t,r,i,s)=>{this.calculateAndUpdateState(),(r===n.ConnectivityState.TRANSIENT_FAILURE||r===n.ConnectivityState.IDLE)&&(s&&(this.lastError=s),this.channelControlHelper.requestReresolution(),e.startConnecting())}}countSubchannelsWithState(e){return this.subchannels.filter(t=>t.getConnectivityState()===e).length}calculateAndUpdateState(){if(this.countSubchannelsWithState(n.ConnectivityState.READY)>0){let e=this.subchannels.filter(e=>e.getConnectivityState()===n.ConnectivityState.READY),t=0;null!==this.currentReadyPicker&&(t=e.indexOf(this.currentReadyPicker.peekNextSubchannel()))<0&&(t=0),this.updateState(n.ConnectivityState.READY,new d(e,t))}else this.countSubchannelsWithState(n.ConnectivityState.CONNECTING)>0?this.updateState(n.ConnectivityState.CONNECTING,new s.QueuePicker(this)):this.countSubchannelsWithState(n.ConnectivityState.TRANSIENT_FAILURE)>0?this.updateState(n.ConnectivityState.TRANSIENT_FAILURE,new s.UnavailablePicker({details:`No connection established. Last error: ${this.lastError}`})):this.updateState(n.ConnectivityState.IDLE,new s.QueuePicker(this))}updateState(e,t){c(n.ConnectivityState[this.currentState]+" -> "+n.ConnectivityState[e]),e===n.ConnectivityState.READY?this.currentReadyPicker=t:this.currentReadyPicker=null,this.currentState=e,this.channelControlHelper.updateState(e,t)}resetSubchannelList(){for(let e of this.subchannels)e.removeConnectivityStateListener(this.subchannelStateListener),e.unref(),this.channelControlHelper.removeChannelzChild(e.getChannelzRef());this.subchannels=[]}updateAddressList(e,t){for(let t of(this.resetSubchannelList(),c("Connect to address list "+e.map(e=>(0,o.subchannelAddressToString)(e))),this.subchannels=e.map(e=>this.channelControlHelper.createSubchannel(e,{})),this.subchannels)){t.ref(),t.addConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.addChannelzChild(t.getChannelzRef());let e=t.getConnectivityState();(e===n.ConnectivityState.IDLE||e===n.ConnectivityState.TRANSIENT_FAILURE)&&t.startConnecting()}this.calculateAndUpdateState()}exitIdle(){for(let e of this.subchannels)e.startConnecting()}resetBackoff(){}destroy(){this.resetSubchannelList()}getTypeName(){return u}}function f(){(0,i.registerLoadBalancerType)(u,g,h)}t.RoundRobinLoadBalancer=g,t.setup=f},9884:(e,t)=>{"use strict";function r(e,t){var r,i,n,s,o,a,A,l,c,u;return{createSubchannel:null!==(i=null===(r=t.createSubchannel)||void 0===r?void 0:r.bind(t))&&void 0!==i?i:e.createSubchannel.bind(e),updateState:null!==(s=null===(n=t.updateState)||void 0===n?void 0:n.bind(t))&&void 0!==s?s:e.updateState.bind(e),requestReresolution:null!==(a=null===(o=t.requestReresolution)||void 0===o?void 0:o.bind(t))&&void 0!==a?a:e.requestReresolution.bind(e),addChannelzChild:null!==(l=null===(A=t.addChannelzChild)||void 0===A?void 0:A.bind(t))&&void 0!==l?l:e.addChannelzChild.bind(e),removeChannelzChild:null!==(u=null===(c=t.removeChannelzChild)||void 0===c?void 0:c.bind(t))&&void 0!==u?u:e.removeChannelzChild.bind(e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.validateLoadBalancingConfig=t.getFirstUsableConfig=t.isLoadBalancerNameRegistered=t.createLoadBalancer=t.registerDefaultLoadBalancerType=t.registerLoadBalancerType=t.createChildChannelControlHelper=void 0,t.createChildChannelControlHelper=r;let i={},n=null;function s(e,t,r){i[e]={LoadBalancer:t,LoadBalancingConfig:r}}function o(e){n=e}function a(e,t){let r=e.getLoadBalancerName();return r in i?new i[r].LoadBalancer(t):null}function A(e){return e in i}function l(e,t=!1){for(let t of e)if(t.getLoadBalancerName() in i)return t;return t&&n?new i[n].LoadBalancingConfig:null}function c(e){if(!(null!==e&&"object"==typeof e))throw Error("Load balancing config must be an object");let t=Object.keys(e);if(1!==t.length)throw Error("Provided load balancing config has multiple conflicting entries");let r=t[0];if(r in i)return i[r].LoadBalancingConfig.createFromJson(e[r]);throw Error(`Unrecognized load balancing config name ${r}`)}t.registerLoadBalancerType=s,t.registerDefaultLoadBalancerType=o,t.createLoadBalancer=a,t.isLoadBalancerNameRegistered=A,t.getFirstUsableConfig=l,t.validateLoadBalancingConfig=c},1690:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoadBalancingCall=void 0;let i=r(2409),n=r(9572),s=r(4771),o=r(6281),a=r(2352),A=r(5541),l=r(5792),c=r(5607),u=r(2694),h="load_balancing_call";class d{constructor(e,t,r,i,n,s,o){var a,l;this.channel=e,this.callConfig=t,this.methodName=r,this.host=i,this.credentials=n,this.deadline=s,this.callNumber=o,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.metadata=null,this.listener=null,this.onCallEnded=null;let c=this.methodName.split("/"),u="";c.length>=2&&(u=c[1]);let h=null!==(l=null===(a=(0,A.splitHostPort)(this.host))||void 0===a?void 0:a.host)&&void 0!==l?l:"localhost";this.serviceUrl=`https://${h}/${u}`}trace(e){l.trace(n.LogVerbosity.DEBUG,h,"["+this.callNumber+"] "+e)}outputStatus(e,t){var r,i;if(!this.ended){this.ended=!0,this.trace("ended with status: code="+e.code+' details="'+e.details+'"');let n=Object.assign(Object.assign({},e),{progress:t});null===(r=this.listener)||void 0===r||r.onReceiveStatus(n),null===(i=this.onCallEnded)||void 0===i||i.call(this,n.code)}}doPick(){var e,t;if(this.ended)return;if(!this.metadata)throw Error("doPick called before start");this.trace("Pick called");let r=this.channel.doPick(this.metadata,this.callConfig.pickInformation),A=r.subchannel?"("+r.subchannel.getChannelzRef().id+") "+r.subchannel.getAddress():""+r.subchannel;switch(this.trace("Pick result: "+a.PickResultType[r.pickResultType]+" subchannel: "+A+" status: "+(null===(e=r.status)||void 0===e?void 0:e.code)+" "+(null===(t=r.status)||void 0===t?void 0:t.details)),r.pickResultType){case a.PickResultType.COMPLETE:this.credentials.generateMetadata({service_url:this.serviceUrl}).then(e=>{var t,a,l;if(this.ended){this.trace("Credentials metadata generation finished after call ended");return}let c=this.metadata.clone();if(c.merge(e),c.get("authorization").length>1&&this.outputStatus({code:n.Status.INTERNAL,details:'"authorization" metadata cannot have multiple values',metadata:new o.Metadata},"PROCESSED"),r.subchannel.getConnectivityState()!==i.ConnectivityState.READY){this.trace("Picked subchannel "+A+" has state "+i.ConnectivityState[r.subchannel.getConnectivityState()]+" after getting credentials metadata. Retrying pick"),this.doPick();return}this.deadline!==1/0&&c.set("grpc-timeout",(0,s.getDeadlineTimeoutString)(this.deadline));try{this.child=r.subchannel.getRealSubchannel().createCall(c,this.host,this.methodName,{onReceiveMetadata:e=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(e)},onReceiveMessage:e=>{this.trace("Received message"),this.listener.onReceiveMessage(e)},onReceiveStatus:e=>{this.trace("Received status"),e.rstCode===u.constants.NGHTTP2_REFUSED_STREAM?this.outputStatus(e,"REFUSED"):this.outputStatus(e,"PROCESSED")}})}catch(e){this.trace("Failed to start call on picked subchannel "+A+" with error "+e.message),this.outputStatus({code:n.Status.INTERNAL,details:"Failed to start HTTP/2 stream with error "+e.message,metadata:new o.Metadata},"NOT_STARTED");return}null===(a=(t=this.callConfig).onCommitted)||void 0===a||a.call(t),null===(l=r.onCallStarted)||void 0===l||l.call(r),this.onCallEnded=r.onCallEnded,this.trace("Created child call ["+this.child.getCallNumber()+"]"),this.readPending&&this.child.startRead(),this.pendingMessage&&this.child.sendMessageWithContext(this.pendingMessage.context,this.pendingMessage.message),this.pendingHalfClose&&this.child.halfClose()},e=>{let{code:t,details:r}=(0,c.restrictControlPlaneStatusCode)("number"==typeof e.code?e.code:n.Status.UNKNOWN,`Getting metadata from plugin failed with error: ${e.message}`);this.outputStatus({code:t,details:r,metadata:new o.Metadata},"PROCESSED")});break;case a.PickResultType.DROP:let{code:l,details:h}=(0,c.restrictControlPlaneStatusCode)(r.status.code,r.status.details);setImmediate(()=>{this.outputStatus({code:l,details:h,metadata:r.status.metadata},"DROP")});break;case a.PickResultType.TRANSIENT_FAILURE:if(this.metadata.getOptions().waitForReady)this.channel.queueCallForPick(this);else{let{code:e,details:t}=(0,c.restrictControlPlaneStatusCode)(r.status.code,r.status.details);setImmediate(()=>{this.outputStatus({code:e,details:t,metadata:r.status.metadata},"PROCESSED")})}break;case a.PickResultType.QUEUE:this.channel.queueCallForPick(this)}}cancelWithStatus(e,t){var r;this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),null===(r=this.child)||void 0===r||r.cancelWithStatus(e,t),this.outputStatus({code:e,details:t,metadata:new o.Metadata},"PROCESSED")}getPeer(){var e,t;return null!==(t=null===(e=this.child)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:this.channel.getTarget()}start(e,t){this.trace("start called"),this.listener=t,this.metadata=e,this.doPick()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length),this.child?this.child.sendMessageWithContext(e,t):this.pendingMessage={context:e,message:t}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(e){throw Error("Method not implemented.")}getCallNumber(){return this.callNumber}}t.LoadBalancingCall=d},5792:(e,t,r)=>{"use strict";var i,n,s,o;Object.defineProperty(t,"__esModule",{value:!0}),t.isTracerEnabled=t.trace=t.log=t.setLoggerVerbosity=t.setLogger=t.getLogger=void 0;let a=r(9572),A=r(5816),l=r(1513).i8,c={error:(e,...t)=>{console.error("E "+e,...t)},info:(e,...t)=>{console.error("I "+e,...t)},debug:(e,...t)=>{console.error("D "+e,...t)}},u=a.LogVerbosity.ERROR;switch((null!==(n=null!==(i=process.env.GRPC_NODE_VERBOSITY)&&void 0!==i?i:process.env.GRPC_VERBOSITY)&&void 0!==n?n:"").toUpperCase()){case"DEBUG":u=a.LogVerbosity.DEBUG;break;case"INFO":u=a.LogVerbosity.INFO;break;case"ERROR":u=a.LogVerbosity.ERROR;break;case"NONE":u=a.LogVerbosity.NONE}let h=()=>c;t.getLogger=h;let d=e=>{c=e};t.setLogger=d;let g=e=>{u=e};t.setLoggerVerbosity=g;let f=(e,...t)=>{let r;if(e>=u){switch(e){case a.LogVerbosity.DEBUG:r=c.debug;break;case a.LogVerbosity.INFO:r=c.info;break;case a.LogVerbosity.ERROR:r=c.error}r||(r=c.error),r&&r.bind(c)(...t)}};t.log=f;let p=null!==(o=null!==(s=process.env.GRPC_NODE_TRACE)&&void 0!==s?s:process.env.GRPC_TRACE)&&void 0!==o?o:"",E=new Set,C=new Set;for(let e of p.split(","))e.startsWith("-")?C.add(e.substring(1)):E.add(e);let I=E.has("all");function m(e,r,i){B(r)&&(0,t.log)(e,new Date().toISOString()+" | v"+l+" "+A.pid+" | "+r+" | "+i)}function B(e){return!C.has(e)&&(I||E.has(e))}t.trace=m,t.isTracerEnabled=B},4529:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadPackageDefinition=t.makeClientConstructor=void 0;let i=r(1865),n={unary:i.Client.prototype.makeUnaryRequest,server_stream:i.Client.prototype.makeServerStreamRequest,client_stream:i.Client.prototype.makeClientStreamRequest,bidi:i.Client.prototype.makeBidiStreamRequest};function s(e){return["__proto__","prototype","constructor"].includes(e)}function o(e,t,r){r||(r={});class o extends i.Client{}return Object.keys(e).forEach(t=>{let r;if(s(t))return;let i=e[t];if("string"==typeof t&&"$"===t.charAt(0))throw Error("Method names cannot start with $");r=i.requestStream?i.responseStream?"bidi":"client_stream":i.responseStream?"server_stream":"unary";let A=i.requestSerialize,l=i.responseDeserialize,c=a(n[r],i.path,A,l);o.prototype[t]=c,Object.assign(o.prototype[t],i),i.originalName&&!s(i.originalName)&&(o.prototype[i.originalName]=o.prototype[t])}),o.service=e,o.serviceName=t,o}function a(e,t,r,i){return function(...n){return e.call(this,t,r,i,...n)}}function A(e){return"format"in e}function l(e){let t={};for(let r in e)if(Object.prototype.hasOwnProperty.call(e,r)){let i=e[r],n=r.split(".");if(n.some(e=>s(e)))continue;let a=n[n.length-1],l=t;for(let e of n.slice(0,-1))l[e]||(l[e]={}),l=l[e];A(i)?l[a]=i:l[a]=o(i,a,{})}return t}t.makeClientConstructor=o,t.loadPackageDefinition=l},6281:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;let i=r(5792),n=r(9572),s=r(6027),o=/^[0-9a-z_.-]+$/,a=/^[ -~]*$/;function A(e){return o.test(e)}function l(e){return a.test(e)}function c(e){return e.endsWith("-bin")}function u(e){return!e.startsWith("grpc-")}function h(e){return e.toLowerCase()}function d(e,t){if(!A(e))throw Error('Metadata key "'+e+'" contains illegal characters');if(null!=t){if(c(e)){if(!Buffer.isBuffer(t))throw Error("keys that end with '-bin' must have Buffer values")}else{if(Buffer.isBuffer(t))throw Error("keys that don't end with '-bin' must have String values");if(!l(t))throw Error('Metadata string value "'+t+'" contains illegal characters')}}}class g{constructor(e={}){this.internalRepr=new Map,this.options=e}set(e,t){d(e=h(e),t),this.internalRepr.set(e,[t])}add(e,t){d(e=h(e),t);let r=this.internalRepr.get(e);void 0===r?this.internalRepr.set(e,[t]):r.push(t)}remove(e){e=h(e),this.internalRepr.delete(e)}get(e){return e=h(e),this.internalRepr.get(e)||[]}getMap(){let e={};for(let[t,r]of this.internalRepr)if(r.length>0){let i=r[0];e[t]=Buffer.isBuffer(i)?Buffer.from(i):i}return e}clone(){let e=new g(this.options),t=e.internalRepr;for(let[e,r]of this.internalRepr){let i=r.map(e=>Buffer.isBuffer(e)?Buffer.from(e):e);t.set(e,i)}return e}merge(e){for(let[t,r]of e.internalRepr){let e=(this.internalRepr.get(t)||[]).concat(r);this.internalRepr.set(t,e)}}setOptions(e){this.options=e}getOptions(){return this.options}toHttp2Headers(){let e={};for(let[t,r]of this.internalRepr)e[t]=r.map(f);return e}toJSON(){let e={};for(let[t,r]of this.internalRepr)e[t]=r;return e}static fromHttp2Headers(e){let t=new g;for(let r of Object.keys(e)){if(":"===r.charAt(0))continue;let o=e[r];try{c(r)?Array.isArray(o)?o.forEach(e=>{t.add(r,Buffer.from(e,"base64"))}):void 0!==o&&(u(r)?o.split(",").forEach(e=>{t.add(r,Buffer.from(e.trim(),"base64"))}):t.add(r,Buffer.from(o,"base64"))):Array.isArray(o)?o.forEach(e=>{t.add(r,e)}):void 0!==o&&t.add(r,o)}catch(t){let e=`Failed to add metadata entry ${r}: ${o}. ${(0,s.getErrorMessage)(t)}. For more information see https://github.com/grpc/grpc-node/issues/1173`;(0,i.log)(n.LogVerbosity.ERROR,e)}}return t}}t.Metadata=g;let f=e=>Buffer.isBuffer(e)?e.toString("base64"):e},2352:(e,t,r)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.QueuePicker=t.UnavailablePicker=t.PickResultType=void 0;let n=r(6281),s=r(9572);!function(e){e[e.COMPLETE=0]="COMPLETE",e[e.QUEUE=1]="QUEUE",e[e.TRANSIENT_FAILURE=2]="TRANSIENT_FAILURE",e[e.DROP=3]="DROP"}(i||(t.PickResultType=i={}));class o{constructor(e){this.status=Object.assign({code:s.Status.UNAVAILABLE,details:"No connection established",metadata:new n.Metadata},e)}pick(e){return{pickResultType:i.TRANSIENT_FAILURE,subchannel:null,status:this.status,onCallStarted:null,onCallEnded:null}}}t.UnavailablePicker=o;class a{constructor(e){this.loadBalancer=e,this.calledExitIdle=!1}pick(e){return this.calledExitIdle||(process.nextTick(()=>{this.loadBalancer.exitIdle()}),this.calledExitIdle=!0),{pickResultType:i.QUEUE,subchannel:null,status:null,onCallStarted:null,onCallEnded:null}}}t.QueuePicker=a},8501:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=t.DEFAULT_PORT=void 0;let i=r(4063),n=r(665),s=r(153),o=r(4298),a=r(9572),A=r(6281),l=r(5792),c=r(9572),u=r(5541),h=r(8216),d=r(1742),g="dns_resolver";function f(e){l.trace(c.LogVerbosity.DEBUG,g,e)}t.DEFAULT_PORT=443;let p=3e4,E=s.promisify(n.resolveTxt),C=s.promisify(n.lookup);function I(...e){let t=[];for(let r=0;r<Math.max.apply(null,e.map(e=>e.length));r++)for(let i of e)r<i.length&&t.push(i[r]);return t}class m{constructor(e,r,i){var n,s,o;this.target=e,this.listener=r,this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.continueResolving=!1,this.isNextResolutionTimerRunning=!1,this.isServiceConfigEnabled=!0,this.returnedIpResult=!1,f("Resolver constructed for target "+(0,u.uriToString)(e));let l=(0,u.splitHostPort)(e.path);null===l?(this.ipResult=null,this.dnsHostname=null,this.port=null):(0,h.isIPv4)(l.host)||(0,h.isIPv6)(l.host)?(this.ipResult=[{host:l.host,port:null!==(n=l.port)&&void 0!==n?n:t.DEFAULT_PORT}],this.dnsHostname=null,this.port=null):(this.ipResult=null,this.dnsHostname=l.host,this.port=null!==(s=l.port)&&void 0!==s?s:t.DEFAULT_PORT),this.percentage=100*Math.random(),1===i["grpc.service_config_disable_resolution"]&&(this.isServiceConfigEnabled=!1),this.defaultResolutionError={code:a.Status.UNAVAILABLE,details:`Name resolution failed for target ${(0,u.uriToString)(this.target)}`,metadata:new A.Metadata};let c={initialDelay:i["grpc.initial_reconnect_backoff_ms"],maxDelay:i["grpc.max_reconnect_backoff_ms"]};this.backoff=new d.BackoffTimeout(()=>{this.continueResolving&&this.startResolutionWithBackoff()},c),this.backoff.unref(),this.minTimeBetweenResolutionsMs=null!==(o=i["grpc.dns_min_time_between_resolutions_ms"])&&void 0!==o?o:p,this.nextResolutionTimer=setTimeout(()=>{},0),clearTimeout(this.nextResolutionTimer)}startResolution(){if(null!==this.ipResult){this.returnedIpResult||(f("Returning IP address for target "+(0,u.uriToString)(this.target)),setImmediate(()=>{this.listener.onSuccessfulResolution(this.ipResult,null,null,null,{})}),this.returnedIpResult=!0),this.backoff.stop(),this.backoff.reset(),this.stopNextResolutionTimer();return}if(null===this.dnsHostname)f("Failed to parse DNS address "+(0,u.uriToString)(this.target)),setImmediate(()=>{this.listener.onError({code:a.Status.UNAVAILABLE,details:`Failed to parse DNS address ${(0,u.uriToString)(this.target)}`,metadata:new A.Metadata})}),this.stopNextResolutionTimer();else{if(null!==this.pendingLookupPromise)return;f("Looking up DNS hostname "+this.dnsHostname),this.latestLookupResult=null;let e=this.dnsHostname;this.pendingLookupPromise=C(e,{all:!0}),this.pendingLookupPromise.then(e=>{if(null===this.pendingLookupPromise)return;this.pendingLookupPromise=null,this.backoff.reset(),this.backoff.stop();let t=e.filter(e=>4===e.family),r=e.filter(e=>6===e.family);this.latestLookupResult=I(r,t).map(e=>({host:e.address,port:+this.port}));let i="["+this.latestLookupResult.map(e=>e.host+":"+e.port).join(",")+"]";if(f("Resolved addresses for target "+(0,u.uriToString)(this.target)+": "+i),0===this.latestLookupResult.length){this.listener.onError(this.defaultResolutionError);return}this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})},e=>{null!==this.pendingLookupPromise&&(f("Resolution error for target "+(0,u.uriToString)(this.target)+": "+e.message),this.pendingLookupPromise=null,this.stopNextResolutionTimer(),this.listener.onError(this.defaultResolutionError))}),this.isServiceConfigEnabled&&null===this.pendingTxtPromise&&(this.pendingTxtPromise=E(e),this.pendingTxtPromise.then(e=>{if(null!==this.pendingTxtPromise){this.pendingTxtPromise=null;try{this.latestServiceConfig=(0,o.extractAndSelectServiceConfig)(e,this.percentage)}catch(e){this.latestServiceConfigError={code:a.Status.UNAVAILABLE,details:`Parsing service config failed with error ${e.message}`,metadata:new A.Metadata}}null!==this.latestLookupResult&&this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})}},e=>{}))}}startNextResolutionTimer(){var e,t;clearTimeout(this.nextResolutionTimer),this.nextResolutionTimer=null===(t=(e=setTimeout(()=>{this.stopNextResolutionTimer(),this.continueResolving&&this.startResolutionWithBackoff()},this.minTimeBetweenResolutionsMs)).unref)||void 0===t?void 0:t.call(e),this.isNextResolutionTimerRunning=!0}stopNextResolutionTimer(){clearTimeout(this.nextResolutionTimer),this.isNextResolutionTimerRunning=!1}startResolutionWithBackoff(){null===this.pendingLookupPromise&&(this.continueResolving=!1,this.backoff.runOnce(),this.startNextResolutionTimer(),this.startResolution())}updateResolution(){null===this.pendingLookupPromise&&(this.isNextResolutionTimerRunning||this.backoff.isRunning()?(this.isNextResolutionTimerRunning?f('resolution update delayed by "min time between resolutions" rate limit'):f("resolution update delayed by backoff timer until "+this.backoff.getEndTime().toISOString()),this.continueResolving=!0):this.startResolutionWithBackoff())}destroy(){this.continueResolving=!1,this.backoff.reset(),this.backoff.stop(),this.stopNextResolutionTimer(),this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.returnedIpResult=!1}static getDefaultAuthority(e){return e.path}}function B(){(0,i.registerResolver)("dns",m),(0,i.registerDefaultScheme)("dns")}t.setup=B},3988:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=void 0;let i=r(8216),n=r(9572),s=r(6281),o=r(4063),a=r(5541),A=r(5792),l="ip_resolver";function c(e){A.trace(n.LogVerbosity.DEBUG,l,e)}let u="ipv4",h="ipv6",d=443;class g{constructor(e,t,r){var o;this.listener=t,this.addresses=[],this.error=null,this.hasReturnedResult=!1,c("Resolver constructed for target "+(0,a.uriToString)(e));let A=[];if(!(e.scheme===u||e.scheme===h)){this.error={code:n.Status.UNAVAILABLE,details:`Unrecognized scheme ${e.scheme} in IP resolver`,metadata:new s.Metadata};return}for(let t of e.path.split(",")){let r=(0,a.splitHostPort)(t);if(null===r||e.scheme===u&&!(0,i.isIPv4)(r.host)||e.scheme===h&&!(0,i.isIPv6)(r.host)){this.error={code:n.Status.UNAVAILABLE,details:`Failed to parse ${e.scheme} address ${t}`,metadata:new s.Metadata};return}A.push({host:r.host,port:null!==(o=r.port)&&void 0!==o?o:d})}this.addresses=A,c("Parsed "+e.scheme+" address list "+this.addresses)}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(()=>{this.error?this.listener.onError(this.error):this.listener.onSuccessfulResolution(this.addresses,null,null,null,{})}))}destroy(){this.hasReturnedResult=!1}static getDefaultAuthority(e){return e.path.split(",")[0]}}function f(){(0,o.registerResolver)(u,g),(0,o.registerResolver)(h,g)}t.setup=f},7255:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=void 0;let i=r(4063);class n{constructor(e,t,r){let i;this.listener=t,this.addresses=[],this.hasReturnedResult=!1,i=""===e.authority?"/"+e.path:e.path,this.addresses=[{path:i}]}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(this.listener.onSuccessfulResolution,this.addresses,null,null,null,{}))}destroy(){}static getDefaultAuthority(e){return"localhost"}}function s(){(0,i.registerResolver)("unix",n)}t.setup=s},4063:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapUriDefaultScheme=t.getDefaultAuthority=t.createResolver=t.registerDefaultScheme=t.registerResolver=void 0;let i=r(5541),n={},s=null;function o(e,t){n[e]=t}function a(e){s=e}function A(e,t,r){if(void 0!==e.scheme&&e.scheme in n)return new n[e.scheme](e,t,r);throw Error(`No resolver could be created for target ${(0,i.uriToString)(e)}`)}function l(e){if(void 0!==e.scheme&&e.scheme in n)return n[e.scheme].getDefaultAuthority(e);throw Error(`Invalid target ${(0,i.uriToString)(e)}`)}function c(e){return void 0!==e.scheme&&e.scheme in n?e:null!==s?{scheme:s,authority:void 0,path:(0,i.uriToString)(e)}:null}t.registerResolver=o,t.registerDefaultScheme=a,t.createResolver=A,t.getDefaultAuthority=l,t.mapUriDefaultScheme=c},80:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResolvingCall=void 0;let i=r(9572),n=r(4771),s=r(6281),o=r(5792),a=r(5607),A="resolving_call";class l{constructor(e,t,r,s,o,a){this.channel=e,this.method=t,this.filterStackFactory=s,this.credentials=o,this.callNumber=a,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.readFilterPending=!1,this.writeFilterPending=!1,this.pendingChildStatus=null,this.metadata=null,this.listener=null,this.statusWatchers=[],this.deadlineTimer=setTimeout(()=>{},0),this.filterStack=null,this.deadline=r.deadline,this.host=r.host,r.parentCall&&(r.flags&i.Propagate.CANCELLATION&&r.parentCall.on("cancelled",()=>{this.cancelWithStatus(i.Status.CANCELLED,"Cancelled by parent call")}),r.flags&i.Propagate.DEADLINE&&(this.trace("Propagating deadline from parent: "+r.parentCall.getDeadline()),this.deadline=(0,n.minDeadline)(this.deadline,r.parentCall.getDeadline()))),this.trace("Created"),this.runDeadlineTimer()}trace(e){o.trace(i.LogVerbosity.DEBUG,A,"["+this.callNumber+"] "+e)}runDeadlineTimer(){clearTimeout(this.deadlineTimer),this.trace("Deadline: "+(0,n.deadlineToString)(this.deadline));let e=(0,n.getRelativeTimeout)(this.deadline);if(e!==1/0){this.trace("Deadline will be reached in "+e+"ms");let t=()=>{this.cancelWithStatus(i.Status.DEADLINE_EXCEEDED,"Deadline exceeded")};e<=0?process.nextTick(t):this.deadlineTimer=setTimeout(t,e)}}outputStatus(e){if(!this.ended){this.ended=!0,this.filterStack||(this.filterStack=this.filterStackFactory.createFilter()),clearTimeout(this.deadlineTimer);let t=this.filterStack.receiveTrailers(e);this.trace("ended with status: code="+t.code+' details="'+t.details+'"'),this.statusWatchers.forEach(e=>e(t)),process.nextTick(()=>{var e;null===(e=this.listener)||void 0===e||e.onReceiveStatus(t)})}}sendMessageOnChild(e,t){if(!this.child)throw Error("sendMessageonChild called with child not populated");let r=this.child;this.writeFilterPending=!0,this.filterStack.sendMessage(Promise.resolve({message:t,flags:e.flags})).then(t=>{this.writeFilterPending=!1,r.sendMessageWithContext(e,t.message),this.pendingHalfClose&&r.halfClose()},e=>{this.cancelWithStatus(e.code,e.details)})}getConfig(){if(this.ended)return;if(!this.metadata||!this.listener)throw Error("getConfig called before start");let e=this.channel.getConfig(this.method,this.metadata);if("NONE"===e.type){this.channel.queueCallForConfig(this);return}if("ERROR"===e.type){this.metadata.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(e.error);return}let t=e.config;if(t.status!==i.Status.OK){let{code:e,details:r}=(0,a.restrictControlPlaneStatusCode)(t.status,"Failed to route call to method "+this.method);this.outputStatus({code:e,details:r,metadata:new s.Metadata});return}if(t.methodConfig.timeout){let e=new Date;e.setSeconds(e.getSeconds()+t.methodConfig.timeout.seconds),e.setMilliseconds(e.getMilliseconds()+t.methodConfig.timeout.nanos/1e6),this.deadline=(0,n.minDeadline)(this.deadline,e),this.runDeadlineTimer()}this.filterStackFactory.push(t.dynamicFilterFactories),this.filterStack=this.filterStackFactory.createFilter(),this.filterStack.sendMetadata(Promise.resolve(this.metadata)).then(e=>{this.child=this.channel.createInnerCall(t,this.method,this.host,this.credentials,this.deadline),this.trace("Created child ["+this.child.getCallNumber()+"]"),this.child.start(e,{onReceiveMetadata:e=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(this.filterStack.receiveMetadata(e))},onReceiveMessage:e=>{this.trace("Received message"),this.readFilterPending=!0,this.filterStack.receiveMessage(e).then(e=>{this.trace("Finished filtering received message"),this.readFilterPending=!1,this.listener.onReceiveMessage(e),this.pendingChildStatus&&this.outputStatus(this.pendingChildStatus)},e=>{this.cancelWithStatus(e.code,e.details)})},onReceiveStatus:e=>{this.trace("Received status"),this.readFilterPending?this.pendingChildStatus=e:this.outputStatus(e)}}),this.readPending&&this.child.startRead(),this.pendingMessage?this.sendMessageOnChild(this.pendingMessage.context,this.pendingMessage.message):this.pendingHalfClose&&this.child.halfClose()},e=>{this.outputStatus(e)})}reportResolverError(e){var t;(null===(t=this.metadata)||void 0===t?void 0:t.getOptions().waitForReady)?this.channel.queueCallForConfig(this):this.outputStatus(e)}cancelWithStatus(e,t){var r;this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),null===(r=this.child)||void 0===r||r.cancelWithStatus(e,t),this.outputStatus({code:e,details:t,metadata:new s.Metadata})}getPeer(){var e,t;return null!==(t=null===(e=this.child)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:this.channel.getTarget()}start(e,t){this.trace("start called"),this.metadata=e.clone(),this.listener=t,this.getConfig()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length),this.child?this.sendMessageOnChild(e,t):this.pendingMessage={context:e,message:t}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child&&!this.writeFilterPending?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(e){this.credentials=this.credentials.compose(e)}addStatusWatcher(e){this.statusWatchers.push(e)}getCallNumber(){return this.callNumber}}t.ResolvingCall=l},7661:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResolvingLoadBalancer=void 0;let i=r(9884),n=r(4298),s=r(2409),o=r(4063),a=r(2352),A=r(1742),l=r(9572),c=r(6281),u=r(5792),h=r(9572),d=r(5541),g=r(6372),f="resolving_load_balancer";function p(e){u.trace(h.LogVerbosity.DEBUG,f,e)}let E=["SERVICE_AND_METHOD","SERVICE","EMPTY"];function C(e,t,r,i){for(let n of r.name)switch(i){case"EMPTY":if(!n.service&&!n.method)return!0;break;case"SERVICE":if(n.service===e&&!n.method)return!0;break;case"SERVICE_AND_METHOD":if(n.service===e&&n.method===t)return!0}return!1}function I(e,t,r,i){for(let n of r)if(C(e,t,n,i))return n;return null}function m(e){return function(t,r){var i,n;let s=t.split("/").filter(e=>e.length>0),o=null!==(i=s[0])&&void 0!==i?i:"",a=null!==(n=s[1])&&void 0!==n?n:"";if(e&&e.methodConfig)for(let t of E){let r=I(o,a,e.methodConfig,t);if(r)return{methodConfig:r,pickInformation:{},status:l.Status.OK,dynamicFilterFactories:[]}}return{methodConfig:{name:[]},pickInformation:{},status:l.Status.OK,dynamicFilterFactories:[]}}}class B{constructor(e,t,r,u,h){this.target=e,this.channelControlHelper=t,this.onSuccessfulResolution=u,this.onFailedResolution=h,this.latestChildState=s.ConnectivityState.IDLE,this.latestChildPicker=new a.QueuePicker(this),this.currentState=s.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1,r["grpc.service_config"]?this.defaultServiceConfig=(0,n.validateServiceConfig)(JSON.parse(r["grpc.service_config"])):this.defaultServiceConfig={loadBalancingConfig:[],methodConfig:[]},this.updateState(s.ConnectivityState.IDLE,new a.QueuePicker(this)),this.childLoadBalancer=new g.ChildLoadBalancerHandler({createSubchannel:t.createSubchannel.bind(t),requestReresolution:()=>{this.backoffTimeout.isRunning()?(p("requestReresolution delayed by backoff timer until "+this.backoffTimeout.getEndTime().toISOString()),this.continueResolving=!0):this.updateResolution()},updateState:(e,t)=>{this.latestChildState=e,this.latestChildPicker=t,this.updateState(e,t)},addChannelzChild:t.addChannelzChild.bind(t),removeChannelzChild:t.removeChannelzChild.bind(t)}),this.innerResolver=(0,o.createResolver)(e,{onSuccessfulResolution:(e,t,r,n,s)=>{var o;this.backoffTimeout.stop(),this.backoffTimeout.reset();let a=null;null===t?null===r?(this.previousServiceConfig=null,a=this.defaultServiceConfig):null===this.previousServiceConfig?this.handleResolutionFailure(r):a=this.previousServiceConfig:(a=t,this.previousServiceConfig=t);let A=null!==(o=null==a?void 0:a.loadBalancingConfig)&&void 0!==o?o:[],u=(0,i.getFirstUsableConfig)(A,!0);if(null===u){this.handleResolutionFailure({code:l.Status.UNAVAILABLE,details:"All load balancer options in service config are not compatible",metadata:new c.Metadata});return}this.childLoadBalancer.updateAddressList(e,u,s);let h=null!=a?a:this.defaultServiceConfig;this.onSuccessfulResolution(h,null!=n?n:m(h))},onError:e=>{this.handleResolutionFailure(e)}},r);let d={initialDelay:r["grpc.initial_reconnect_backoff_ms"],maxDelay:r["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new A.BackoffTimeout(()=>{this.continueResolving?(this.updateResolution(),this.continueResolving=!1):this.updateState(this.latestChildState,this.latestChildPicker)},d),this.backoffTimeout.unref()}updateResolution(){this.innerResolver.updateResolution(),this.currentState===s.ConnectivityState.IDLE&&this.updateState(s.ConnectivityState.CONNECTING,new a.QueuePicker(this)),this.backoffTimeout.runOnce()}updateState(e,t){p((0,d.uriToString)(this.target)+" "+s.ConnectivityState[this.currentState]+" -> "+s.ConnectivityState[e]),e===s.ConnectivityState.IDLE&&(t=new a.QueuePicker(this)),this.currentState=e,this.channelControlHelper.updateState(e,t)}handleResolutionFailure(e){this.latestChildState===s.ConnectivityState.IDLE&&(this.updateState(s.ConnectivityState.TRANSIENT_FAILURE,new a.UnavailablePicker(e)),this.onFailedResolution(e))}exitIdle(){(this.currentState===s.ConnectivityState.IDLE||this.currentState===s.ConnectivityState.TRANSIENT_FAILURE)&&(this.backoffTimeout.isRunning()?this.continueResolving=!0:this.updateResolution()),this.childLoadBalancer.exitIdle()}updateAddressList(e,t){throw Error("updateAddressList not supported on ResolvingLoadBalancer")}resetBackoff(){this.backoffTimeout.reset(),this.childLoadBalancer.resetBackoff()}destroy(){this.childLoadBalancer.destroy(),this.innerResolver.destroy(),this.backoffTimeout.reset(),this.backoffTimeout.stop(),this.latestChildState=s.ConnectivityState.IDLE,this.latestChildPicker=new a.QueuePicker(this),this.currentState=s.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1}getTypeName(){return"resolving_load_balancer"}}t.ResolvingLoadBalancer=B},5627:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RetryingCall=t.MessageBufferTracker=t.RetryThrottler=void 0;let i=r(9572),n=r(6281),s=r(5792),o="retrying_call";class a{constructor(e,t,r){this.maxTokens=e,this.tokenRatio=t,r?this.tokens=r.tokens*(e/r.maxTokens):this.tokens=e}addCallSucceeded(){this.tokens=Math.max(this.tokens+this.tokenRatio,this.maxTokens)}addCallFailed(){this.tokens=Math.min(this.tokens-1,0)}canRetryCall(){return this.tokens>this.maxTokens/2}}t.RetryThrottler=a;class A{constructor(e,t){this.totalLimit=e,this.limitPerCall=t,this.totalAllocated=0,this.allocatedPerCall=new Map}allocate(e,t){var r;let i=null!==(r=this.allocatedPerCall.get(t))&&void 0!==r?r:0;return!(this.limitPerCall-i<e)&&!(this.totalLimit-this.totalAllocated<e)&&(this.allocatedPerCall.set(t,i+e),this.totalAllocated+=e,!0)}free(e,t){var r;if(this.totalAllocated<e)throw Error(`Invalid buffer allocation state: call ${t} freed ${e} > total allocated ${this.totalAllocated}`);this.totalAllocated-=e;let i=null!==(r=this.allocatedPerCall.get(t))&&void 0!==r?r:0;if(i<e)throw Error(`Invalid buffer allocation state: call ${t} freed ${e} > allocated for call ${i}`);this.allocatedPerCall.set(t,i-e)}freeAll(e){var t;let r=null!==(t=this.allocatedPerCall.get(e))&&void 0!==t?t:0;if(this.totalAllocated<r)throw Error(`Invalid buffer allocation state: call ${e} allocated ${r} > total allocated ${this.totalAllocated}`);this.totalAllocated-=r,this.allocatedPerCall.delete(e)}}t.MessageBufferTracker=A;let l="grpc-previous-rpc-attempts";class c{constructor(e,t,r,i,n,s,o,a,A){if(this.channel=e,this.callConfig=t,this.methodName=r,this.host=i,this.credentials=n,this.deadline=s,this.callNumber=o,this.bufferTracker=a,this.retryThrottler=A,this.listener=null,this.initialMetadata=null,this.underlyingCalls=[],this.writeBuffer=[],this.writeBufferOffset=0,this.readStarted=!1,this.transparentRetryUsed=!1,this.attempts=0,this.hedgingTimer=null,this.committedCallIndex=null,this.initialRetryBackoffSec=0,this.nextRetryBackoffSec=0,t.methodConfig.retryPolicy){this.state="RETRY";let e=t.methodConfig.retryPolicy;this.nextRetryBackoffSec=this.initialRetryBackoffSec=Number(e.initialBackoff.substring(0,e.initialBackoff.length-1))}else t.methodConfig.hedgingPolicy?this.state="HEDGING":this.state="TRANSPARENT_ONLY"}getCallNumber(){return this.callNumber}trace(e){s.trace(i.LogVerbosity.DEBUG,o,"["+this.callNumber+"] "+e)}reportStatus(e){this.trace("ended with status: code="+e.code+' details="'+e.details+'"'),this.bufferTracker.freeAll(this.callNumber),this.writeBufferOffset=this.writeBufferOffset+this.writeBuffer.length,this.writeBuffer=[],process.nextTick(()=>{var t;null===(t=this.listener)||void 0===t||t.onReceiveStatus({code:e.code,details:e.details,metadata:e.metadata})})}cancelWithStatus(e,t){for(let{call:r}of(this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),this.reportStatus({code:e,details:t,metadata:new n.Metadata}),this.underlyingCalls))r.cancelWithStatus(e,t)}getPeer(){return null!==this.committedCallIndex?this.underlyingCalls[this.committedCallIndex].call.getPeer():"unknown"}getBufferEntry(e){var t;return null!==(t=this.writeBuffer[e-this.writeBufferOffset])&&void 0!==t?t:{entryType:"FREED",allocated:!1}}getNextBufferIndex(){return this.writeBufferOffset+this.writeBuffer.length}clearSentMessages(){if("COMMITTED"!==this.state)return;let e=this.underlyingCalls[this.committedCallIndex].nextMessageToSend;for(let t=this.writeBufferOffset;t<e;t++){let e=this.getBufferEntry(t);e.allocated&&this.bufferTracker.free(e.message.message.length,this.callNumber)}this.writeBuffer=this.writeBuffer.slice(e-this.writeBufferOffset),this.writeBufferOffset=e}commitCall(e){if("COMMITTED"!==this.state&&"COMPLETED"!==this.underlyingCalls[e].state){this.trace("Committing call ["+this.underlyingCalls[e].call.getCallNumber()+"] at index "+e),this.state="COMMITTED",this.committedCallIndex=e;for(let t=0;t<this.underlyingCalls.length;t++)t!==e&&"COMPLETED"!==this.underlyingCalls[t].state&&(this.underlyingCalls[t].state="COMPLETED",this.underlyingCalls[t].call.cancelWithStatus(i.Status.CANCELLED,"Discarded in favor of other hedged attempt"));this.clearSentMessages()}}commitCallWithMostMessages(){if("COMMITTED"===this.state)return;let e=-1,t=-1;for(let[r,i]of this.underlyingCalls.entries())"ACTIVE"===i.state&&i.nextMessageToSend>e&&(e=i.nextMessageToSend,t=r);-1===t?this.state="TRANSPARENT_ONLY":this.commitCall(t)}isStatusCodeInList(e,t){return e.some(e=>e===t||e.toString().toLowerCase()===i.Status[t].toLowerCase())}getNextRetryBackoffMs(){var e;let t=null===(e=this.callConfig)||void 0===e?void 0:e.methodConfig.retryPolicy;if(!t)return 0;let r=Math.random()*this.nextRetryBackoffSec*1e3,i=Number(t.maxBackoff.substring(0,t.maxBackoff.length-1));return this.nextRetryBackoffSec=Math.min(this.nextRetryBackoffSec*t.backoffMultiplier,i),r}maybeRetryCall(e,t){let r;if("RETRY"!==this.state){t(!1);return}let i=this.callConfig.methodConfig.retryPolicy;if(this.attempts>=Math.min(i.maxAttempts,5)){t(!1);return}if(null===e)r=this.getNextRetryBackoffMs();else if(e<0){this.state="TRANSPARENT_ONLY",t(!1);return}else r=e,this.nextRetryBackoffSec=this.initialRetryBackoffSec;setTimeout(()=>{var e,r;if("RETRY"!==this.state){t(!1);return}(null===(r=null===(e=this.retryThrottler)||void 0===e?void 0:e.canRetryCall())||void 0===r||r)&&(t(!0),this.attempts+=1,this.startNewAttempt())},r)}countActiveCalls(){let e=0;for(let t of this.underlyingCalls)(null==t?void 0:t.state)==="ACTIVE"&&(e+=1);return e}handleProcessedStatus(e,t,r){var i,n,s;switch(this.state){case"COMMITTED":case"TRANSPARENT_ONLY":this.commitCall(t),this.reportStatus(e);break;case"HEDGING":if(this.isStatusCodeInList(null!==(i=this.callConfig.methodConfig.hedgingPolicy.nonFatalStatusCodes)&&void 0!==i?i:[],e.code)){let i;if(null===(n=this.retryThrottler)||void 0===n||n.addCallFailed(),null===r)i=0;else if(r<0){this.state="TRANSPARENT_ONLY",this.commitCall(t),this.reportStatus(e);return}else i=r;setTimeout(()=>{this.maybeStartHedgingAttempt(),0===this.countActiveCalls()&&(this.commitCall(t),this.reportStatus(e))},i)}else this.commitCall(t),this.reportStatus(e);break;case"RETRY":this.isStatusCodeInList(this.callConfig.methodConfig.retryPolicy.retryableStatusCodes,e.code)?(null===(s=this.retryThrottler)||void 0===s||s.addCallFailed(),this.maybeRetryCall(r,r=>{r||(this.commitCall(t),this.reportStatus(e))})):(this.commitCall(t),this.reportStatus(e))}}getPushback(e){let t=e.get("grpc-retry-pushback-ms");if(0===t.length)return null;try{return parseInt(t[0])}catch(e){return -1}}handleChildStatus(e,t){var r;if("COMPLETED"===this.underlyingCalls[t].state)return;if(this.trace("state="+this.state+" handling status with progress "+e.progress+" from child ["+this.underlyingCalls[t].call.getCallNumber()+"] in state "+this.underlyingCalls[t].state),this.underlyingCalls[t].state="COMPLETED",e.code===i.Status.OK){null===(r=this.retryThrottler)||void 0===r||r.addCallSucceeded(),this.commitCall(t),this.reportStatus(e);return}if("COMMITTED"===this.state){this.reportStatus(e);return}let n=this.getPushback(e.metadata);switch(e.progress){case"NOT_STARTED":this.startNewAttempt();break;case"REFUSED":this.transparentRetryUsed?this.handleProcessedStatus(e,t,n):(this.transparentRetryUsed=!0,this.startNewAttempt());break;case"DROP":this.commitCall(t),this.reportStatus(e);break;case"PROCESSED":this.handleProcessedStatus(e,t,n)}}maybeStartHedgingAttempt(){if("HEDGING"!==this.state||!this.callConfig.methodConfig.hedgingPolicy)return;let e=this.callConfig.methodConfig.hedgingPolicy;this.attempts>=Math.min(e.maxAttempts,5)||(this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer())}maybeStartHedgingTimer(){var e,t,r;if(this.hedgingTimer&&clearTimeout(this.hedgingTimer),"HEDGING"!==this.state||!this.callConfig.methodConfig.hedgingPolicy)return;let i=this.callConfig.methodConfig.hedgingPolicy;if(this.attempts>=Math.min(i.maxAttempts,5))return;let n=null!==(e=i.hedgingDelay)&&void 0!==e?e:"0s",s=Number(n.substring(0,n.length-1));this.hedgingTimer=setTimeout(()=>{this.maybeStartHedgingAttempt()},1e3*s),null===(r=(t=this.hedgingTimer).unref)||void 0===r||r.call(t)}startNewAttempt(){let e=this.channel.createLoadBalancingCall(this.callConfig,this.methodName,this.host,this.credentials,this.deadline);this.trace("Created child call ["+e.getCallNumber()+"] for attempt "+this.attempts);let t=this.underlyingCalls.length;this.underlyingCalls.push({state:"ACTIVE",call:e,nextMessageToSend:0});let r=this.attempts-1,i=this.initialMetadata.clone();r>0&&i.set(l,`${r}`);let n=!1;e.start(i,{onReceiveMetadata:i=>{this.trace("Received metadata from child ["+e.getCallNumber()+"]"),this.commitCall(t),n=!0,r>0&&i.set(l,`${r}`),"ACTIVE"===this.underlyingCalls[t].state&&this.listener.onReceiveMetadata(i)},onReceiveMessage:r=>{this.trace("Received message from child ["+e.getCallNumber()+"]"),this.commitCall(t),"ACTIVE"===this.underlyingCalls[t].state&&this.listener.onReceiveMessage(r)},onReceiveStatus:i=>{this.trace("Received status from child ["+e.getCallNumber()+"]"),!n&&r>0&&i.metadata.set(l,`${r}`),this.handleChildStatus(i,t)}}),this.sendNextChildMessage(t),this.readStarted&&e.startRead()}start(e,t){this.trace("start called"),this.listener=t,this.initialMetadata=e,this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer()}handleChildWriteCompleted(e){var t,r;let i=this.underlyingCalls[e],n=i.nextMessageToSend;null===(r=(t=this.getBufferEntry(n)).callback)||void 0===r||r.call(t),this.clearSentMessages(),i.nextMessageToSend+=1,this.sendNextChildMessage(e)}sendNextChildMessage(e){let t=this.underlyingCalls[e];if("COMPLETED"!==t.state&&this.getBufferEntry(t.nextMessageToSend)){let r=this.getBufferEntry(t.nextMessageToSend);switch(r.entryType){case"MESSAGE":t.call.sendMessageWithContext({callback:t=>{this.handleChildWriteCompleted(e)}},r.message.message);break;case"HALF_CLOSE":t.nextMessageToSend+=1,t.call.halfClose()}}}sendMessageWithContext(e,t){var r;this.trace("write() called with message of length "+t.length);let i={message:t,flags:e.flags},n=this.getNextBufferIndex(),s={entryType:"MESSAGE",message:i,allocated:this.bufferTracker.allocate(t.length,this.callNumber)};if(this.writeBuffer.push(s),s.allocated)for(let[i,s]of(null===(r=e.callback)||void 0===r||r.call(e),this.underlyingCalls.entries()))"ACTIVE"===s.state&&s.nextMessageToSend===n&&s.call.sendMessageWithContext({callback:e=>{this.handleChildWriteCompleted(i)}},t);else{if(this.commitCallWithMostMessages(),null===this.committedCallIndex)return;let r=this.underlyingCalls[this.committedCallIndex];s.callback=e.callback,"ACTIVE"===r.state&&r.nextMessageToSend===n&&r.call.sendMessageWithContext({callback:e=>{this.handleChildWriteCompleted(this.committedCallIndex)}},t)}}startRead(){for(let e of(this.trace("startRead called"),this.readStarted=!0,this.underlyingCalls))(null==e?void 0:e.state)==="ACTIVE"&&e.call.startRead()}halfClose(){this.trace("halfClose called");let e=this.getNextBufferIndex();for(let t of(this.writeBuffer.push({entryType:"HALF_CLOSE",allocated:!1}),this.underlyingCalls))(null==t?void 0:t.state)==="ACTIVE"&&t.nextMessageToSend===e&&(t.nextMessageToSend+=1,t.call.halfClose())}setCredentials(e){throw Error("Method not implemented.")}getMethod(){return this.methodName}getHost(){return this.host}}t.RetryingCall=c},2025:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Http2ServerCallStream=t.ServerDuplexStreamImpl=t.ServerWritableStreamImpl=t.ServerReadableStreamImpl=t.ServerUnaryCallImpl=void 0;let i=r(7702),n=r(2694),s=r(6162),o=r(1568),a=r(9572),A=r(6281),l=r(615),c=r(5792),u=r(6027),h="server_call";function d(e){c.trace(a.LogVerbosity.DEBUG,h,e)}let g="grpc-message",f="grpc-status",p="grpc-timeout",E=/(\d{1,8})\s*([HMSmun])/,C={H:36e5,M:6e4,S:1e3,m:1,u:.001,n:1e-6},I={"grpc-accept-encoding":"identity,deflate,gzip","grpc-encoding":"identity"},m={[n.constants.HTTP2_HEADER_STATUS]:n.constants.HTTP_STATUS_OK,[n.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},B={waitForTrailers:!0};class y extends i.EventEmitter{constructor(e,t,r){super(),this.call=e,this.metadata=t,this.request=r,this.cancelled=!1,this.call.setupSurfaceCall(this)}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}}t.ServerUnaryCallImpl=y;class Q extends s.Readable{constructor(e,t,r,i){super({objectMode:!0}),this.call=e,this.metadata=t,this.deserialize=r,this.cancelled=!1,this.call.setupSurfaceCall(this),this.call.setupReadable(this,i)}_read(e){this.call.consumeUnpushedMessages(this)&&this.call.resume()}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}}t.ServerReadableStreamImpl=Q;class w extends s.Writable{constructor(e,t,r,i){super({objectMode:!0}),this.call=e,this.metadata=t,this.serialize=r,this.request=i,this.cancelled=!1,this.trailingMetadata=new A.Metadata,this.call.setupSurfaceCall(this),this.on("error",e=>{this.call.sendError(e),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}_write(e,t,r){try{let t=this.call.serializeMessage(e);if(!this.call.write(t)){this.call.once("drain",r);return}}catch(e){this.emit("error",{details:(0,u.getErrorMessage)(e),code:a.Status.INTERNAL})}r()}_final(e){this.call.sendStatus({code:a.Status.OK,details:"OK",metadata:this.trailingMetadata}),e(null)}end(e){return e&&(this.trailingMetadata=e),super.end()}}t.ServerWritableStreamImpl=w;class v extends s.Duplex{constructor(e,t,r,i,n){super({objectMode:!0}),this.call=e,this.metadata=t,this.serialize=r,this.deserialize=i,this.cancelled=!1,this.trailingMetadata=new A.Metadata,this.call.setupSurfaceCall(this),this.call.setupReadable(this,n),this.on("error",e=>{this.call.sendError(e),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}end(e){return e&&(this.trailingMetadata=e),super.end()}}t.ServerDuplexStreamImpl=v,v.prototype._read=Q.prototype._read,v.prototype._write=w.prototype._write,v.prototype._final=w.prototype._final;class b extends i.EventEmitter{constructor(e,t,r){super(),this.stream=e,this.handler=t,this.cancelled=!1,this.deadlineTimer=null,this.statusSent=!1,this.deadline=1/0,this.wantTrailers=!1,this.metadataSent=!1,this.canPush=!1,this.isPushPending=!1,this.bufferedMessages=[],this.messagesToPush=[],this.maxSendMessageSize=a.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=a.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.stream.once("error",e=>{}),this.stream.once("close",()=>{var e;d("Request to method "+(null===(e=this.handler)||void 0===e?void 0:e.path)+" stream closed with rstCode "+this.stream.rstCode),!this.statusSent&&(this.cancelled=!0,this.emit("cancelled","cancelled"),this.emit("streamEnd",!1),this.sendStatus({code:a.Status.CANCELLED,details:"Cancelled by client",metadata:null}),this.deadlineTimer&&clearTimeout(this.deadlineTimer))}),this.stream.on("drain",()=>{this.emit("drain")}),"grpc.max_send_message_length"in r&&(this.maxSendMessageSize=r["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in r&&(this.maxReceiveMessageSize=r["grpc.max_receive_message_length"])}checkCancelled(){return(this.stream.destroyed||this.stream.closed)&&(this.cancelled=!0),this.cancelled}getDecompressedMessage(e,t){let r=e.subarray(5);if("identity"===t)return r;if("deflate"!==t&&"gzip"!==t)return Promise.reject({code:a.Status.UNIMPLEMENTED,details:`Received message compressed with unsupported encoding "${t}"`});{let e;return e="deflate"===t?o.createInflate():o.createGunzip(),new Promise((t,i)=>{let n=0,s=[];e.on("data",t=>{s.push(t),n+=t.byteLength,-1!==this.maxReceiveMessageSize&&n>this.maxReceiveMessageSize&&(e.destroy(),i({code:a.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxReceiveMessageSize}`}))}),e.on("end",()=>{t(Buffer.concat(s))}),e.write(r),e.end()})}}sendMetadata(e){if(this.checkCancelled()||this.metadataSent)return;this.metadataSent=!0;let t=e?e.toHttp2Headers():null,r=Object.assign(Object.assign(Object.assign({},m),I),t);this.stream.respond(r,B)}receiveMetadata(e){let t=A.Metadata.fromHttp2Headers(e);c.isTracerEnabled(h)&&d("Request to "+this.handler.path+" received headers "+JSON.stringify(t.toJSON()));let r=t.get(p);if(r.length>0){let e=r[0].toString().match(E);if(null===e){let e=Error("Invalid deadline");return e.code=a.Status.OUT_OF_RANGE,this.sendError(e),t}let i=+e[1]*C[e[2]]|0,n=new Date;this.deadline=n.setMilliseconds(n.getMilliseconds()+i),this.deadlineTimer=setTimeout(S,i,this),t.remove(p)}return t.remove(n.constants.HTTP2_HEADER_ACCEPT_ENCODING),t.remove(n.constants.HTTP2_HEADER_TE),t.remove(n.constants.HTTP2_HEADER_CONTENT_TYPE),t.remove("grpc-accept-encoding"),t}receiveUnaryMessage(e){return new Promise((t,r)=>{let{stream:i}=this,n=0,s=this,o=[],A=this.maxReceiveMessageSize;function l(e){if(n+=e.byteLength,-1!==A&&n>A){i.removeListener("data",l),i.removeListener("end",c),i.removeListener("error",c),r({code:a.Status.RESOURCE_EXHAUSTED,details:`Received message larger than max (${n} vs. ${A})`});return}o.push(e)}function c(A){if(i.removeListener("data",l),i.removeListener("end",c),i.removeListener("error",c),void 0!==A){r({code:a.Status.INTERNAL,details:A.message});return}if(0===n){r({code:a.Status.INTERNAL,details:"received empty unary message"});return}s.emit("receiveMessage");let u=Buffer.concat(o,n),h=1===u.readUInt8(0)?e:"identity",d=s.getDecompressedMessage(u,h);if(Buffer.isBuffer(d)){t(s.deserializeMessageWithInternalError(d));return}d.then(e=>t(s.deserializeMessageWithInternalError(e)),t=>r(t.code?t:{code:a.Status.INTERNAL,details:`Received "grpc-encoding" header "${e}" but ${e} decompression failed`}))}this.stream.on("data",l),this.stream.on("end",c),this.stream.on("error",c)})}async deserializeMessageWithInternalError(e){try{return this.deserializeMessage(e)}catch(e){throw{details:(0,u.getErrorMessage)(e),code:a.Status.INTERNAL}}}serializeMessage(e){let t=this.handler.serialize(e),r=t.byteLength,i=Buffer.allocUnsafe(r+5);return i.writeUInt8(0,0),i.writeUInt32BE(r,1),t.copy(i,5),i}deserializeMessage(e){return this.handler.deserialize(e)}async sendUnaryMessage(e,t,r,i){if(!this.checkCancelled()){if(void 0===r&&(r=null),e){!Object.prototype.hasOwnProperty.call(e,"metadata")&&r&&(e.metadata=r),this.sendError(e);return}try{let e=this.serializeMessage(t);this.write(e),this.sendStatus({code:a.Status.OK,details:"OK",metadata:r})}catch(e){this.sendError({details:(0,u.getErrorMessage)(e),code:a.Status.INTERNAL})}}}sendStatus(e){var t,r;if(this.emit("callEnd",e.code),this.emit("streamEnd",e.code===a.Status.OK),!this.checkCancelled()){if(d("Request to method "+(null===(t=this.handler)||void 0===t?void 0:t.path)+" ended with status code: "+a.Status[e.code]+" details: "+e.details),this.deadlineTimer&&clearTimeout(this.deadlineTimer),this.stream.headersSent)this.wantTrailers||(this.wantTrailers=!0,this.stream.once("wantTrailers",()=>{var t;let r=Object.assign({[f]:e.code,[g]:encodeURI(e.details)},null===(t=e.metadata)||void 0===t?void 0:t.toHttp2Headers());this.stream.sendTrailers(r),this.statusSent=!0}),this.stream.end());else{let t=Object.assign(Object.assign({[f]:e.code,[g]:encodeURI(e.details)},m),null===(r=e.metadata)||void 0===r?void 0:r.toHttp2Headers());this.stream.respond(t,{endStream:!0}),this.statusSent=!0}}}sendError(e){let t={code:a.Status.UNKNOWN,details:"message"in e?e.message:"Unknown Error",metadata:"metadata"in e&&void 0!==e.metadata?e.metadata:null};"code"in e&&"number"==typeof e.code&&Number.isInteger(e.code)&&(t.code=e.code,"details"in e&&"string"==typeof e.details&&(t.details=e.details)),this.sendStatus(t)}write(e){if(!this.checkCancelled()){if(-1!==this.maxSendMessageSize&&e.length>this.maxSendMessageSize){this.sendError({code:a.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${e.length} vs. ${this.maxSendMessageSize})`});return}return this.sendMetadata(),this.emit("sendMessage"),this.stream.write(e)}}resume(){this.stream.resume()}setupSurfaceCall(e){this.once("cancelled",t=>{e.cancelled=!0,e.emit("cancelled",t)}),this.once("callEnd",t=>e.emit("callEnd",t))}setupReadable(e,t){let r=new l.StreamDecoder(this.maxReceiveMessageSize),i=!1,n=!1,s=!1,o=async()=>{s||!i||n||(s=!0,await this.pushOrBufferMessage(e,null))};this.stream.on("data",async i=>{let s;try{s=r.write(i)}catch(e){this.sendError({code:a.Status.RESOURCE_EXHAUSTED,details:e.message});return}for(let r of(n=!0,this.stream.pause(),s)){let i;this.emit("receiveMessage");let n=1===r.readUInt8(0)?t:"identity";try{i=await this.getDecompressedMessage(r,n)}catch(e){this.sendError(e);return}if(!i)return;await this.pushOrBufferMessage(e,i)}n=!1,this.stream.resume(),await o()}),this.stream.once("end",async()=>{i=!0,await o()})}consumeUnpushedMessages(e){for(this.canPush=!0;this.messagesToPush.length>0;){let t=this.messagesToPush.shift(),r=e.push(t);if(null===t||!1===r){this.canPush=!1;break}}return this.canPush}async pushOrBufferMessage(e,t){this.isPushPending?this.bufferedMessages.push(t):await this.pushMessage(e,t)}async pushMessage(e,t){if(null===t){d("Received end of stream"),this.canPush?e.push(null):this.messagesToPush.push(null);return}d("Received message of length "+t.length),this.isPushPending=!0;try{let r=await this.deserializeMessage(t);this.canPush?e.push(r)||(this.canPush=!1,this.stream.pause()):this.messagesToPush.push(r)}catch(r){this.bufferedMessages.length=0;let t=(0,u.getErrorCode)(r);(null===t||t<a.Status.OK||t>a.Status.UNAUTHENTICATED)&&(t=a.Status.INTERNAL),e.emit("error",{details:(0,u.getErrorMessage)(r),code:t})}this.isPushPending=!1,this.bufferedMessages.length>0&&await this.pushMessage(e,this.bufferedMessages.shift())}getPeer(){var e;let t=null===(e=this.stream.session)||void 0===e?void 0:e.socket;return null!=t&&t.remoteAddress?t.remotePort?`${t.remoteAddress}:${t.remotePort}`:t.remoteAddress:"unknown"}getDeadline(){return this.deadline}getPath(){return this.handler.path}}function S(e){let t=Error("Deadline exceeded");t.code=a.Status.DEADLINE_EXCEEDED,e.sendError(t),e.cancelled=!0,e.emit("cancelled","deadline")}t.Http2ServerCallStream=b},3783:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServerCredentials=void 0;let i=r(606);class n{static createInsecure(){return new s}static createSsl(e,t,r=!1){if(null!==e&&!Buffer.isBuffer(e))throw TypeError("rootCerts must be null or a Buffer");if(!Array.isArray(t))throw TypeError("keyCertPairs must be an array");if("boolean"!=typeof r)throw TypeError("checkClientCertificate must be a boolean");let n=[],s=[];for(let e=0;e<t.length;e++){let r=t[e];if(null===r||"object"!=typeof r)throw TypeError(`keyCertPair[${e}] must be an object`);if(!Buffer.isBuffer(r.private_key))throw TypeError(`keyCertPair[${e}].private_key must be a Buffer`);if(!Buffer.isBuffer(r.cert_chain))throw TypeError(`keyCertPair[${e}].cert_chain must be a Buffer`);n.push(r.cert_chain),s.push(r.private_key)}return new o({ca:e||(0,i.getDefaultRootsData)()||void 0,cert:n,key:s,requestCert:r,ciphers:i.CIPHER_SUITES})}}t.ServerCredentials=n;class s extends n{_isSecure(){return!1}_getSettings(){return null}}class o extends n{constructor(e){super(),this.options=e}_isSecure(){return!0}_getSettings(){return this.options}}},6418:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Server=void 0;let i=r(2694),n=r(9572),s=r(2025),o=r(3783),a=r(4063),A=r(5792),l=r(4955),c=r(5541),u=r(5962),h=2147483647,d=2147483647,g=2e4,{HTTP2_HEADER_PATH:f}=i.constants,p="server";function E(){}function C(e){return{code:n.Status.UNIMPLEMENTED,details:`The server does not implement the method ${e}`}}function I(e,t){let r=C(t);switch(e){case"unary":return(e,t)=>{t(r,null)};case"clientStream":return(e,t)=>{t(r,null)};case"serverStream":return e=>{e.emit("error",r)};case"bidi":return e=>{e.emit("error",r)};default:throw Error(`Invalid handlerType ${e}`)}}class m{constructor(e){var t,r,i,n;this.http2ServerList=[],this.handlers=new Map,this.sessions=new Map,this.started=!1,this.shutdown=!1,this.serverAddressString="null",this.channelzEnabled=!0,this.channelzTrace=new u.ChannelzTrace,this.callTracker=new u.ChannelzCallTracker,this.listenerChildrenTracker=new u.ChannelzChildrenTracker,this.sessionChildrenTracker=new u.ChannelzChildrenTracker,this.options=null!=e?e:{},0===this.options["grpc.enable_channelz"]&&(this.channelzEnabled=!1),this.channelzRef=(0,u.registerChannelzServer)(()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Server created"),this.maxConnectionAgeMs=null!==(t=this.options["grpc.max_connection_age_ms"])&&void 0!==t?t:h,this.maxConnectionAgeGraceMs=null!==(r=this.options["grpc.max_connection_age_grace_ms"])&&void 0!==r?r:h,this.keepaliveTimeMs=null!==(i=this.options["grpc.keepalive_time_ms"])&&void 0!==i?i:d,this.keepaliveTimeoutMs=null!==(n=this.options["grpc.keepalive_timeout_ms"])&&void 0!==n?n:g,this.trace("Server constructed")}getChannelzInfo(){return{trace:this.channelzTrace,callTracker:this.callTracker,listenerChildren:this.listenerChildrenTracker.getChildLists(),sessionChildren:this.sessionChildrenTracker.getChildLists()}}getChannelzSessionInfoGetter(e){return()=>{var t,r,i;let n;let s=this.sessions.get(e),o=e.socket,a=o.remoteAddress?(0,l.stringToSubchannelAddress)(o.remoteAddress,o.remotePort):null,A=o.localAddress?(0,l.stringToSubchannelAddress)(o.localAddress,o.localPort):null;if(e.encrypted){let e=o,r=e.getCipher(),i=e.getCertificate(),s=e.getPeerCertificate();n={cipherSuiteStandardName:null!==(t=r.standardName)&&void 0!==t?t:null,cipherSuiteOtherName:r.standardName?null:r.name,localCertificate:i&&"raw"in i?i.raw:null,remoteCertificate:s&&"raw"in s?s.raw:null}}else n=null;return{remoteAddress:a,localAddress:A,security:n,remoteName:null,streamsStarted:s.streamTracker.callsStarted,streamsSucceeded:s.streamTracker.callsSucceeded,streamsFailed:s.streamTracker.callsFailed,messagesSent:s.messagesSent,messagesReceived:s.messagesReceived,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:s.streamTracker.lastCallStartedTimestamp,lastMessageSentTimestamp:s.lastMessageSentTimestamp,lastMessageReceivedTimestamp:s.lastMessageReceivedTimestamp,localFlowControlWindow:null!==(r=e.state.localWindowSize)&&void 0!==r?r:null,remoteFlowControlWindow:null!==(i=e.state.remoteWindowSize)&&void 0!==i?i:null}}}trace(e){A.trace(n.LogVerbosity.DEBUG,p,"("+this.channelzRef.id+") "+e)}addProtoService(){throw Error("Not implemented. Use addService() instead")}addService(e,t){if(null===e||"object"!=typeof e||null===t||"object"!=typeof t)throw Error("addService() requires two objects as arguments");let r=Object.keys(e);if(0===r.length)throw Error("Cannot add an empty service to a server");r.forEach(r=>{let i,n;let s=e[r];i=s.requestStream?s.responseStream?"bidi":"clientStream":s.responseStream?"serverStream":"unary";let o=t[r];if(void 0===o&&"string"==typeof s.originalName&&(o=t[s.originalName]),n=void 0!==o?o.bind(t):I(i,r),!1===this.register(s.path,n,s.responseSerialize,s.requestDeserialize,i))throw Error(`Method handler for ${s.path} already provided.`)})}removeService(e){if(null===e||"object"!=typeof e)throw Error("removeService() requires object as argument");Object.keys(e).forEach(t=>{let r=e[t];this.unregister(r.path)})}bind(e,t){throw Error("Not implemented. Use bindAsync() instead")}bindAsync(e,t,r){if(!0===this.started)throw Error("server is already started");if(this.shutdown)throw Error("bindAsync called after shutdown");if("string"!=typeof e)throw TypeError("port must be a string");if(null===t||!(t instanceof o.ServerCredentials))throw TypeError("creds must be a ServerCredentials object");if("function"!=typeof r)throw TypeError("callback must be a function");let s=(0,c.parseUri)(e);if(null===s)throw Error(`Could not parse port "${e}"`);let h=(0,a.mapUriDefaultScheme)(s);if(null===h)throw Error(`Could not get a default scheme for port "${e}"`);let d={maxSendHeaderBlockLength:Number.MAX_SAFE_INTEGER};"grpc-node.max_session_memory"in this.options?d.maxSessionMemory=this.options["grpc-node.max_session_memory"]:d.maxSessionMemory=Number.MAX_SAFE_INTEGER,"grpc.max_concurrent_streams"in this.options&&(d.settings={maxConcurrentStreams:this.options["grpc.max_concurrent_streams"]});let g=(e,t)=>{process.nextTick(()=>r(e,t))},f=()=>{let e;if(t._isSecure()){let r=Object.assign(d,t._getSettings());r.enableTrace=1===this.options["grpc-node.tls_enable_trace"],(e=i.createSecureServer(r)).on("secureConnection",e=>{e.on("error",e=>{this.trace("An incoming TLS connection closed with error: "+e.message)})})}else e=i.createServer(d);return e.setTimeout(0,E),this._setupHandlers(e),e},p=(e,t,r)=>0===e.length?Promise.resolve({port:t,count:r}):Promise.all(e.map(e=>{let r;this.trace("Attempting to bind "+(0,l.subchannelAddressToString)(e)),r=(0,l.isTcpSubchannelAddress)(e)?{host:e.host,port:t}:e;let i=f();return new Promise((n,s)=>{let o=t=>{this.trace("Failed to bind "+(0,l.subchannelAddressToString)(e)+" with error "+t.message),n(t)};i.once("error",o),i.listen(r,()=>{let e;if(this.shutdown){i.close(),n(Error("bindAsync failed because server is shutdown"));return}let r=i.address();e="string"==typeof r?{path:r}:{host:r.address,port:r.port};let s=(0,u.registerChannelzSocket)((0,l.subchannelAddressToString)(e),()=>({localAddress:e,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled);this.channelzEnabled&&this.listenerChildrenTracker.refChild(s),this.http2ServerList.push({server:i,channelzRef:s}),this.trace("Successfully bound "+(0,l.subchannelAddressToString)(e)),n("port"in e?e.port:t),i.removeListener("error",o)})})})).then(e=>{let i=0;for(let r of e)if("number"==typeof r&&(i+=1,r!==t))throw Error("Invalid state: multiple port numbers added from single address");return{port:t,count:i+r}}),C=e=>{if(0===e.length)return Promise.resolve({port:0,count:0});let t=e[0],r=f();return new Promise((i,n)=>{let s=r=>{this.trace("Failed to bind "+(0,l.subchannelAddressToString)(t)+" with error "+r.message),i(C(e.slice(1)))};r.once("error",s),r.listen(t,()=>{if(this.shutdown){r.close(),i({port:0,count:0});return}let t=r.address(),n={host:t.address,port:t.port},o=(0,u.registerChannelzSocket)((0,l.subchannelAddressToString)(n),()=>({localAddress:n,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled);this.channelzEnabled&&this.listenerChildrenTracker.refChild(o),this.http2ServerList.push({server:r,channelzRef:o}),this.trace("Successfully bound "+(0,l.subchannelAddressToString)(n)),i(p(e.slice(1),t.port,1)),r.removeListener("error",s)})})},I={onSuccessfulResolution:(t,r,i)=>{let s;if(I.onSuccessfulResolution=()=>{},this.shutdown&&g(Error("bindAsync failed because server is shutdown"),0),0===t.length){g(Error(`No addresses resolved for port ${e}`),0);return}(s=(0,l.isTcpSubchannelAddress)(t[0])?0===t[0].port?C(t):p(t,t[0].port,0):p(t,1,0)).then(e=>{if(0===e.count){let e=`No address added out of total ${t.length} resolved`;A.log(n.LogVerbosity.ERROR,e),g(Error(e),0)}else e.count<t.length&&A.log(n.LogVerbosity.INFO,`WARNING Only ${e.count} addresses added out of total ${t.length} resolved`),g(null,e.port)},e=>{let r=`No address added out of total ${t.length} resolved`;A.log(n.LogVerbosity.ERROR,r),g(Error(r),0)})},onError:e=>{g(Error(e.details),0)}};(0,a.createResolver)(h,I,this.options).updateResolution()}forceShutdown(){for(let{server:e,channelzRef:t}of this.http2ServerList)e.listening&&e.close(()=>{this.channelzEnabled&&(this.listenerChildrenTracker.unrefChild(t),(0,u.unregisterChannelzRef)(t))});this.started=!1,this.shutdown=!0,this.sessions.forEach((e,t)=>{t.destroy(i.constants.NGHTTP2_CANCEL)}),this.sessions.clear(),this.channelzEnabled&&(0,u.unregisterChannelzRef)(this.channelzRef)}register(e,t,r,i,n){return!this.handlers.has(e)&&(this.handlers.set(e,{func:t,serialize:r,deserialize:i,type:n,path:e}),!0)}unregister(e){return this.handlers.delete(e)}start(){if(0===this.http2ServerList.length||this.http2ServerList.every(({server:e})=>!0!==e.listening))throw Error("server must be bound in order to start");if(!0===this.started)throw Error("server is already started");this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Starting"),this.started=!0}tryShutdown(e){let t=t=>{this.channelzEnabled&&(0,u.unregisterChannelzRef)(this.channelzRef),e(t)},r=0;function i(){0==--r&&t()}for(let{server:e,channelzRef:t}of(this.started=!1,this.shutdown=!0,this.http2ServerList))e.listening&&(r++,e.close(()=>{this.channelzEnabled&&(this.listenerChildrenTracker.unrefChild(t),(0,u.unregisterChannelzRef)(t)),i()}));this.sessions.forEach((e,t)=>{t.closed||(r+=1,t.close(i))}),0===r&&t()}addHttp2Port(){throw Error("Not yet implemented")}getChannelzRef(){return this.channelzRef}_verifyContentType(e,t){let r=t[i.constants.HTTP2_HEADER_CONTENT_TYPE];return!!("string"==typeof r&&r.startsWith("application/grpc"))||(e.respond({[i.constants.HTTP2_HEADER_STATUS]:i.constants.HTTP_STATUS_UNSUPPORTED_MEDIA_TYPE},{endStream:!0}),!1)}_retrieveHandler(e){this.trace("Received call to method "+e+" at address "+this.serverAddressString);let t=this.handlers.get(e);return void 0===t?(this.trace("No handler registered for method "+e+". Sending UNIMPLEMENTED status."),null):t}_respondWithError(e,t,r=null){let i=new s.Http2ServerCallStream(t,null,this.options);void 0===e.code&&(e.code=n.Status.INTERNAL),this.channelzEnabled&&(this.callTracker.addCallFailed(),null==r||r.streamTracker.addCallFailed()),i.sendError(e)}_channelzHandler(e,t){let r=this.sessions.get(e.session);if(this.callTracker.addCallStarted(),null==r||r.streamTracker.addCallStarted(),!this._verifyContentType(e,t)){this.callTracker.addCallFailed(),null==r||r.streamTracker.addCallFailed();return}let i=t[f],o=this._retrieveHandler(i);if(!o){this._respondWithError(C(i),e,r);return}let a=new s.Http2ServerCallStream(e,o,this.options);a.once("callEnd",e=>{e===n.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()}),r&&(a.once("streamEnd",e=>{e?r.streamTracker.addCallSucceeded():r.streamTracker.addCallFailed()}),a.on("sendMessage",()=>{r.messagesSent+=1,r.lastMessageSentTimestamp=new Date}),a.on("receiveMessage",()=>{r.messagesReceived+=1,r.lastMessageReceivedTimestamp=new Date})),this._runHandlerForCall(a,o,t)||(this.callTracker.addCallFailed(),null==r||r.streamTracker.addCallFailed(),a.sendError({code:n.Status.INTERNAL,details:`Unknown handler type: ${o.type}`}))}_streamHandler(e,t){if(!0!==this._verifyContentType(e,t))return;let r=t[f],i=this._retrieveHandler(r);if(!i){this._respondWithError(C(r),e,null);return}let o=new s.Http2ServerCallStream(e,i,this.options);this._runHandlerForCall(o,i,t)||o.sendError({code:n.Status.INTERNAL,details:`Unknown handler type: ${i.type}`})}_runHandlerForCall(e,t,r){var i;let n=e.receiveMetadata(r),s=null!==(i=n.get("grpc-encoding")[0])&&void 0!==i?i:"identity";n.remove("grpc-encoding");let{type:o}=t;if("unary"===o)B(e,t,n,s);else if("clientStream"===o)y(e,t,n,s);else if("serverStream"===o)Q(e,t,n,s);else{if("bidi"!==o)return!1;w(e,t,n,s)}return!0}_setupHandlers(e){if(null===e)return;let t=e.address(),r="null";t&&(r="string"==typeof t?t:t.address+":"+t.port),this.serverAddressString=r;let n=this.channelzEnabled?this._channelzHandler:this._streamHandler;e.on("stream",n.bind(this)),e.on("session",e=>{var t,r,n,s,o;if(!this.started){e.destroy();return}let a=(0,u.registerChannelzSocket)(null!==(t=e.socket.remoteAddress)&&void 0!==t?t:"unknown",this.getChannelzSessionInfoGetter(e),this.channelzEnabled),A={ref:a,streamTracker:new u.ChannelzCallTracker,messagesSent:0,messagesReceived:0,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null};this.sessions.set(e,A);let l=e.socket.remoteAddress;this.channelzEnabled&&(this.channelzTrace.addTrace("CT_INFO","Connection established by client "+l),this.sessionChildrenTracker.refChild(a));let c=null,d=null,g=!1;if(this.maxConnectionAgeMs!==h){let t=this.maxConnectionAgeMs/10,s=Math.random()*t*2-t;c=null===(n=(r=setTimeout(()=>{var t,r;g=!0,this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connection dropped by max connection age from "+l);try{e.goaway(i.constants.NGHTTP2_NO_ERROR,2147483647,Buffer.from("max_age"))}catch(t){e.destroy();return}e.close(),this.maxConnectionAgeGraceMs!==h&&(d=null===(r=(t=setTimeout(()=>{e.destroy()},this.maxConnectionAgeGraceMs)).unref)||void 0===r?void 0:r.call(t))},this.maxConnectionAgeMs+s)).unref)||void 0===n?void 0:n.call(r)}let f=null===(o=(s=setInterval(()=>{var t,r;let i=null===(r=(t=setTimeout(()=>{g=!0,this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connection dropped by keepalive timeout from "+l),e.close()},this.keepaliveTimeoutMs)).unref)||void 0===r?void 0:r.call(t);try{e.ping((e,t,r)=>{clearTimeout(i)})}catch(t){e.destroy()}},this.keepaliveTimeMs)).unref)||void 0===o?void 0:o.call(s);e.on("close",()=>{this.channelzEnabled&&(g||this.channelzTrace.addTrace("CT_INFO","Connection dropped by client "+l),this.sessionChildrenTracker.unrefChild(a),(0,u.unregisterChannelzRef)(a)),c&&clearTimeout(c),d&&clearTimeout(d),f&&clearTimeout(f),this.sessions.delete(e)})})}}async function B(e,t,r,i){try{let n=await e.receiveUnaryMessage(i);if(void 0===n||e.cancelled)return;let o=new s.ServerUnaryCallImpl(e,r,n);t.func(o,(t,r,i,n)=>{e.sendUnaryMessage(t,r,i,n)})}catch(t){e.sendError(t)}}function y(e,t,r,i){let n=new s.ServerReadableStreamImpl(e,r,t.deserialize,i);function o(t,r,i,s){n.destroy(),e.sendUnaryMessage(t,r,i,s)}e.cancelled||(n.on("error",o),t.func(n,o))}async function Q(e,t,r,i){try{let n=await e.receiveUnaryMessage(i);if(void 0===n||e.cancelled)return;let o=new s.ServerWritableStreamImpl(e,r,t.serialize,n);t.func(o)}catch(t){e.sendError(t)}}function w(e,t,r,i){let n=new s.ServerDuplexStreamImpl(e,r,t.serialize,t.deserialize,i);e.cancelled||t.func(n)}t.Server=m},4298:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractAndSelectServiceConfig=t.validateServiceConfig=t.validateRetryThrottling=void 0;let i=r(9801),n=r(9572),s=r(9884),o=/^\d+(\.\d{1,9})?s$/,a="node";function A(e){if("service"in e&&""!==e.service){if("string"!=typeof e.service)throw Error(`Invalid method config name: invalid service: expected type string, got ${typeof e.service}`);if(!("method"in e)||""===e.method)return{service:e.service};if("string"!=typeof e.method)throw Error(`Invalid method config name: invalid method: expected type string, got ${typeof e.service}`);return{service:e.service,method:e.method}}if("method"in e&&void 0!==e.method)throw Error("Invalid method config name: method set with empty or unset service");return{}}function l(e){if(!("maxAttempts"in e)||!Number.isInteger(e.maxAttempts)||e.maxAttempts<2)throw Error("Invalid method config retry policy: maxAttempts must be an integer at least 2");if(!("initialBackoff"in e)||"string"!=typeof e.initialBackoff||!o.test(e.initialBackoff))throw Error("Invalid method config retry policy: initialBackoff must be a string consisting of a positive integer followed by s");if(!("maxBackoff"in e)||"string"!=typeof e.maxBackoff||!o.test(e.maxBackoff))throw Error("Invalid method config retry policy: maxBackoff must be a string consisting of a positive integer followed by s");if(!("backoffMultiplier"in e)||"number"!=typeof e.backoffMultiplier||e.backoffMultiplier<=0)throw Error("Invalid method config retry policy: backoffMultiplier must be a number greater than 0");if(!("retryableStatusCodes"in e&&Array.isArray(e.retryableStatusCodes)))throw Error("Invalid method config retry policy: retryableStatusCodes is required");if(0===e.retryableStatusCodes.length)throw Error("Invalid method config retry policy: retryableStatusCodes must be non-empty");for(let t of e.retryableStatusCodes)if("number"==typeof t){if(!Object.values(n.Status).includes(t))throw Error("Invalid method config retry policy: retryableStatusCodes value not in status code range")}else if("string"==typeof t){if(!Object.values(n.Status).includes(t.toUpperCase()))throw Error("Invalid method config retry policy: retryableStatusCodes value not a status code name")}else throw Error("Invalid method config retry policy: retryableStatusCodes value must be a string or number");return{maxAttempts:e.maxAttempts,initialBackoff:e.initialBackoff,maxBackoff:e.maxBackoff,backoffMultiplier:e.backoffMultiplier,retryableStatusCodes:e.retryableStatusCodes}}function c(e){if(!("maxAttempts"in e)||!Number.isInteger(e.maxAttempts)||e.maxAttempts<2)throw Error("Invalid method config hedging policy: maxAttempts must be an integer at least 2");if("hedgingDelay"in e&&("string"!=typeof e.hedgingDelay||!o.test(e.hedgingDelay)))throw Error("Invalid method config hedging policy: hedgingDelay must be a string consisting of a positive integer followed by s");if("nonFatalStatusCodes"in e&&Array.isArray(e.nonFatalStatusCodes))for(let t of e.nonFatalStatusCodes)if("number"==typeof t){if(!Object.values(n.Status).includes(t))throw Error("Invlid method config hedging policy: nonFatalStatusCodes value not in status code range")}else if("string"==typeof t){if(!Object.values(n.Status).includes(t.toUpperCase()))throw Error("Invlid method config hedging policy: nonFatalStatusCodes value not a status code name")}else throw Error("Invlid method config hedging policy: nonFatalStatusCodes value must be a string or number");let t={maxAttempts:e.maxAttempts};return e.hedgingDelay&&(t.hedgingDelay=e.hedgingDelay),e.nonFatalStatusCodes&&(t.nonFatalStatusCodes=e.nonFatalStatusCodes),t}function u(e){var t;let r={name:[]};if(!("name"in e)||!Array.isArray(e.name))throw Error("Invalid method config: invalid name array");for(let t of e.name)r.name.push(A(t));if("waitForReady"in e){if("boolean"!=typeof e.waitForReady)throw Error("Invalid method config: invalid waitForReady");r.waitForReady=e.waitForReady}if("timeout"in e){if("object"==typeof e.timeout){if(!("seconds"in e.timeout)||"number"!=typeof e.timeout.seconds)throw Error("Invalid method config: invalid timeout.seconds");if(!("nanos"in e.timeout)||"number"!=typeof e.timeout.nanos)throw Error("Invalid method config: invalid timeout.nanos");r.timeout=e.timeout}else if("string"==typeof e.timeout&&o.test(e.timeout)){let i=e.timeout.substring(0,e.timeout.length-1).split(".");r.timeout={seconds:0|i[0],nanos:(null!==(t=i[1])&&void 0!==t?t:0)|0}}else throw Error("Invalid method config: invalid timeout")}if("maxRequestBytes"in e){if("number"!=typeof e.maxRequestBytes)throw Error("Invalid method config: invalid maxRequestBytes");r.maxRequestBytes=e.maxRequestBytes}if("maxResponseBytes"in e){if("number"!=typeof e.maxResponseBytes)throw Error("Invalid method config: invalid maxRequestBytes");r.maxResponseBytes=e.maxResponseBytes}if("retryPolicy"in e){if("hedgingPolicy"in e)throw Error("Invalid method config: retryPolicy and hedgingPolicy cannot both be specified");r.retryPolicy=l(e.retryPolicy)}else"hedgingPolicy"in e&&(r.hedgingPolicy=c(e.hedgingPolicy));return r}function h(e){if(!("maxTokens"in e)||"number"!=typeof e.maxTokens||e.maxTokens<=0||e.maxTokens>1e3)throw Error("Invalid retryThrottling: maxTokens must be a number in (0, 1000]");if(!("tokenRatio"in e)||"number"!=typeof e.tokenRatio||e.tokenRatio<=0)throw Error("Invalid retryThrottling: tokenRatio must be a number greater than 0");return{maxTokens:+e.maxTokens.toFixed(3),tokenRatio:+e.tokenRatio.toFixed(3)}}function d(e){let t={loadBalancingConfig:[],methodConfig:[]};if("loadBalancingPolicy"in e){if("string"==typeof e.loadBalancingPolicy)t.loadBalancingPolicy=e.loadBalancingPolicy;else throw Error("Invalid service config: invalid loadBalancingPolicy")}if("loadBalancingConfig"in e){if(Array.isArray(e.loadBalancingConfig))for(let r of e.loadBalancingConfig)t.loadBalancingConfig.push((0,s.validateLoadBalancingConfig)(r));else throw Error("Invalid service config: invalid loadBalancingConfig")}if("methodConfig"in e&&Array.isArray(e.methodConfig))for(let r of e.methodConfig)t.methodConfig.push(u(r));"retryThrottling"in e&&(t.retryThrottling=h(e.retryThrottling));let r=[];for(let e of t.methodConfig)for(let t of e.name){for(let e of r)if(t.service===e.service&&t.method===e.method)throw Error(`Invalid service config: duplicate name ${t.service}/${t.method}`);r.push(t)}return t}function g(e){if(!("serviceConfig"in e))throw Error("Invalid service config choice: missing service config");let t={serviceConfig:d(e.serviceConfig)};if("clientLanguage"in e){if(Array.isArray(e.clientLanguage))for(let r of(t.clientLanguage=[],e.clientLanguage))if("string"==typeof r)t.clientLanguage.push(r);else throw Error("Invalid service config choice: invalid clientLanguage");else throw Error("Invalid service config choice: invalid clientLanguage")}if("clientHostname"in e){if(Array.isArray(e.clientHostname))for(let r of(t.clientHostname=[],e.clientHostname))if("string"==typeof r)t.clientHostname.push(r);else throw Error("Invalid service config choice: invalid clientHostname");else throw Error("Invalid service config choice: invalid clientHostname")}if("percentage"in e){if("number"==typeof e.percentage&&0<=e.percentage&&e.percentage<=100)t.percentage=e.percentage;else throw Error("Invalid service config choice: invalid percentage")}let r=["clientLanguage","percentage","clientHostname","serviceConfig"];for(let t in e)if(!r.includes(t))throw Error(`Invalid service config choice: unexpected field ${t}`);return t}function f(e,t){if(!Array.isArray(e))throw Error("Invalid service config list");for(let r of e){let e=g(r);if("number"!=typeof e.percentage||!(t>e.percentage)){if(Array.isArray(e.clientHostname)){let t=!1;for(let r of e.clientHostname)r===i.hostname()&&(t=!0);if(!t)continue}if(Array.isArray(e.clientLanguage)){let t=!1;for(let r of e.clientLanguage)r===a&&(t=!0);if(!t)continue}return e.serviceConfig}}throw Error("No matching service config found")}function p(e,t){for(let r of e)if(r.length>0&&r[0].startsWith("grpc_config="))return f(JSON.parse(r.join("").substring(12)),t);return null}t.validateRetryThrottling=h,t.validateServiceConfig=d,t.extractAndSelectServiceConfig=p},4339:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatusBuilder=void 0;class r{constructor(){this.code=null,this.details=null,this.metadata=null}withCode(e){return this.code=e,this}withDetails(e){return this.details=e,this}withMetadata(e){return this.metadata=e,this}build(){let e={};return null!==this.code&&(e.code=this.code),null!==this.details&&(e.details=this.details),null!==this.metadata&&(e.metadata=this.metadata),e}}t.StatusBuilder=r},615:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.StreamDecoder=void 0,function(e){e[e.NO_DATA=0]="NO_DATA",e[e.READING_SIZE=1]="READING_SIZE",e[e.READING_MESSAGE=2]="READING_MESSAGE"}(r||(r={}));class i{constructor(e){this.maxReadMessageLength=e,this.readState=r.NO_DATA,this.readCompressFlag=Buffer.alloc(1),this.readPartialSize=Buffer.alloc(4),this.readSizeRemaining=4,this.readMessageSize=0,this.readPartialMessage=[],this.readMessageRemaining=0}write(e){let t,i=0,n=[];for(;i<e.length;)switch(this.readState){case r.NO_DATA:this.readCompressFlag=e.slice(i,i+1),i+=1,this.readState=r.READING_SIZE,this.readPartialSize.fill(0),this.readSizeRemaining=4,this.readMessageSize=0,this.readMessageRemaining=0,this.readPartialMessage=[];break;case r.READING_SIZE:if(t=Math.min(e.length-i,this.readSizeRemaining),e.copy(this.readPartialSize,4-this.readSizeRemaining,i,i+t),this.readSizeRemaining-=t,i+=t,0===this.readSizeRemaining){if(this.readMessageSize=this.readPartialSize.readUInt32BE(0),-1!==this.maxReadMessageLength&&this.readMessageSize>this.maxReadMessageLength)throw Error(`Received message larger than max (${this.readMessageSize} vs ${this.maxReadMessageLength})`);if(this.readMessageRemaining=this.readMessageSize,this.readMessageRemaining>0)this.readState=r.READING_MESSAGE;else{let e=Buffer.concat([this.readCompressFlag,this.readPartialSize],5);this.readState=r.NO_DATA,n.push(e)}}break;case r.READING_MESSAGE:if(t=Math.min(e.length-i,this.readMessageRemaining),this.readPartialMessage.push(e.slice(i,i+t)),this.readMessageRemaining-=t,i+=t,0===this.readMessageRemaining){let e=[this.readCompressFlag,this.readPartialSize].concat(this.readPartialMessage),t=Buffer.concat(e,this.readMessageSize+5);this.readState=r.NO_DATA,n.push(t)}break;default:throw Error("Unexpected read state")}return n}}t.StreamDecoder=i},4955:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringToSubchannelAddress=t.subchannelAddressToString=t.subchannelAddressEqual=t.isTcpSubchannelAddress=void 0;let i=r(8216);function n(e){return"port"in e}function s(e,t){return!e&&!t||!!e&&!!t&&(n(e)?n(t)&&e.host===t.host&&e.port===t.port:!n(t)&&e.path===t.path)}function o(e){return n(e)?e.host+":"+e.port:e.path}t.isTcpSubchannelAddress=n,t.subchannelAddressEqual=s,t.subchannelAddressToString=o;let a=443;function A(e,t){return(0,i.isIP)(e)?{host:e,port:null!=t?t:a}:{path:e}}t.stringToSubchannelAddress=A},4354:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Http2SubchannelCall=void 0;let i=r(2694),n=r(9801),s=r(9572),o=r(6281),a=r(615),A=r(5792),l=r(9572),c="subchannel_call";function u(e){for(let[t,r]of Object.entries(n.constants.errno))if(r===e)return t;return"Unknown system error "+e}class h{constructor(e,t,r,n,A){var l;this.http2Stream=e,this.callEventTracker=t,this.listener=r,this.transport=n,this.callId=A,this.isReadFilterPending=!1,this.isPushPending=!1,this.canPush=!1,this.readsClosed=!1,this.statusOutput=!1,this.unpushedReadMessages=[],this.mappedStatusCode=s.Status.UNKNOWN,this.finalStatus=null,this.internalError=null;let c=null!==(l=n.getOptions()["grpc.max_receive_message_length"])&&void 0!==l?l:s.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH;this.decoder=new a.StreamDecoder(c),e.on("response",(e,t)=>{let r="";for(let t of Object.keys(e))r+="		"+t+": "+e[t]+"\n";switch(this.trace("Received server headers:\n"+r),e[":status"]){case 400:this.mappedStatusCode=s.Status.INTERNAL;break;case 401:this.mappedStatusCode=s.Status.UNAUTHENTICATED;break;case 403:this.mappedStatusCode=s.Status.PERMISSION_DENIED;break;case 404:this.mappedStatusCode=s.Status.UNIMPLEMENTED;break;case 429:case 502:case 503:case 504:this.mappedStatusCode=s.Status.UNAVAILABLE;break;default:this.mappedStatusCode=s.Status.UNKNOWN}if(t&i.constants.NGHTTP2_FLAG_END_STREAM)this.handleTrailers(e);else{let t;try{t=o.Metadata.fromHttp2Headers(e)}catch(e){this.endCall({code:s.Status.UNKNOWN,details:e.message,metadata:new o.Metadata});return}this.listener.onReceiveMetadata(t)}}),e.on("trailers",e=>{this.handleTrailers(e)}),e.on("data",e=>{let t;if(!this.statusOutput){this.trace("receive HTTP/2 data frame of length "+e.length);try{t=this.decoder.write(e)}catch(e){this.cancelWithStatus(s.Status.RESOURCE_EXHAUSTED,e.message);return}for(let e of t)this.trace("parsed message of length "+e.length),this.callEventTracker.addMessageReceived(),this.tryPush(e)}}),e.on("end",()=>{this.readsClosed=!0,this.maybeOutputStatus()}),e.on("close",()=>{process.nextTick(()=>{var t;let r;if(this.trace("HTTP/2 stream closed with code "+e.rstCode),(null===(t=this.finalStatus)||void 0===t?void 0:t.code)===s.Status.OK)return;let n="";switch(e.rstCode){case i.constants.NGHTTP2_NO_ERROR:if(null!==this.finalStatus)return;r=s.Status.INTERNAL,n=`Received RST_STREAM with code ${e.rstCode}`;break;case i.constants.NGHTTP2_REFUSED_STREAM:r=s.Status.UNAVAILABLE,n="Stream refused by server";break;case i.constants.NGHTTP2_CANCEL:r=s.Status.CANCELLED,n="Call cancelled";break;case i.constants.NGHTTP2_ENHANCE_YOUR_CALM:r=s.Status.RESOURCE_EXHAUSTED,n="Bandwidth exhausted or memory limit exceeded";break;case i.constants.NGHTTP2_INADEQUATE_SECURITY:r=s.Status.PERMISSION_DENIED,n="Protocol not secure enough";break;case i.constants.NGHTTP2_INTERNAL_ERROR:r=s.Status.INTERNAL,null===this.internalError?n=`Received RST_STREAM with code ${e.rstCode} (Internal server error)`:"ECONNRESET"===this.internalError.code||"ETIMEDOUT"===this.internalError.code?(r=s.Status.UNAVAILABLE,n=this.internalError.message):n=`Received RST_STREAM with code ${e.rstCode} triggered by internal client error: ${this.internalError.message}`;break;default:r=s.Status.INTERNAL,n=`Received RST_STREAM with code ${e.rstCode}`}this.endCall({code:r,details:n,metadata:new o.Metadata,rstCode:e.rstCode})})}),e.on("error",e=>{"ERR_HTTP2_STREAM_ERROR"!==e.code&&(this.trace("Node error event: message="+e.message+" code="+e.code+" errno="+u(e.errno)+" syscall="+e.syscall),this.internalError=e),this.callEventTracker.onStreamEnd(!1)})}onDisconnect(){this.endCall({code:s.Status.UNAVAILABLE,details:"Connection dropped",metadata:new o.Metadata})}outputStatus(){this.statusOutput||(this.statusOutput=!0,this.trace("ended with status: code="+this.finalStatus.code+' details="'+this.finalStatus.details+'"'),this.callEventTracker.onCallEnd(this.finalStatus),process.nextTick(()=>{this.listener.onReceiveStatus(this.finalStatus)}),this.http2Stream.resume())}trace(e){A.trace(l.LogVerbosity.DEBUG,c,"["+this.callId+"] "+e)}endCall(e){(null===this.finalStatus||this.finalStatus.code===s.Status.OK)&&(this.finalStatus=e,this.maybeOutputStatus()),this.destroyHttp2Stream()}maybeOutputStatus(){null===this.finalStatus||this.finalStatus.code===s.Status.OK&&(!this.readsClosed||0!==this.unpushedReadMessages.length||this.isReadFilterPending||this.isPushPending)||this.outputStatus()}push(e){this.trace("pushing to reader message of length "+(e instanceof Buffer?e.length:null)),this.canPush=!1,this.isPushPending=!0,process.nextTick(()=>{this.isPushPending=!1,this.statusOutput||(this.listener.onReceiveMessage(e),this.maybeOutputStatus())})}tryPush(e){this.canPush?(this.http2Stream.pause(),this.push(e)):(this.trace("unpushedReadMessages.push message of length "+e.length),this.unpushedReadMessages.push(e))}handleTrailers(e){let t;this.callEventTracker.onStreamEnd(!0);let r="";for(let t of Object.keys(e))r+="		"+t+": "+e[t]+"\n";this.trace("Received server trailers:\n"+r);try{t=o.Metadata.fromHttp2Headers(e)}catch(e){t=new o.Metadata}let i=t.getMap(),n=this.mappedStatusCode;if(n===s.Status.UNKNOWN&&"string"==typeof i["grpc-status"]){let e=Number(i["grpc-status"]);e in s.Status&&(n=e,this.trace("received status code "+e+" from server")),t.remove("grpc-status")}let a="";if("string"==typeof i["grpc-message"]){try{a=decodeURI(i["grpc-message"])}catch(e){a=i["grpc-message"]}t.remove("grpc-message"),this.trace('received status details string "'+a+'" from server')}let A={code:n,details:a,metadata:t};this.endCall(A)}destroyHttp2Stream(){var e;if(!this.http2Stream.destroyed){let t;t=(null===(e=this.finalStatus)||void 0===e?void 0:e.code)===s.Status.OK?i.constants.NGHTTP2_NO_ERROR:i.constants.NGHTTP2_CANCEL,this.trace("close http2 stream with code "+t),this.http2Stream.close(t)}}cancelWithStatus(e,t){this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),this.endCall({code:e,details:t,metadata:new o.Metadata})}getStatus(){return this.finalStatus}getPeer(){return this.transport.getPeerName()}getCallNumber(){return this.callId}startRead(){if(null!==this.finalStatus&&this.finalStatus.code!==s.Status.OK){this.readsClosed=!0,this.maybeOutputStatus();return}if(this.canPush=!0,this.unpushedReadMessages.length>0){let e=this.unpushedReadMessages.shift();this.push(e);return}this.http2Stream.resume()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length);let r=t=>{process.nextTick(()=>{var r;let i=s.Status.UNAVAILABLE;(null==t?void 0:t.code)==="ERR_STREAM_WRITE_AFTER_END"&&(i=s.Status.INTERNAL),t&&this.cancelWithStatus(i,`Write error: ${t.message}`),null===(r=e.callback)||void 0===r||r.call(e)})};this.trace("sending data chunk of length "+t.length),this.callEventTracker.addMessageSent();try{this.http2Stream.write(t,r)}catch(e){this.endCall({code:s.Status.UNAVAILABLE,details:`Write failed with error ${e.message}`,metadata:new o.Metadata})}}halfClose(){this.trace("end() called"),this.trace("calling end() on HTTP/2 stream"),this.http2Stream.end()}}t.Http2SubchannelCall=h},487:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseSubchannelWrapper=void 0;class r{constructor(e){this.child=e}getConnectivityState(){return this.child.getConnectivityState()}addConnectivityStateListener(e){this.child.addConnectivityStateListener(e)}removeConnectivityStateListener(e){this.child.removeConnectivityStateListener(e)}startConnecting(){this.child.startConnecting()}getAddress(){return this.child.getAddress()}throttleKeepalive(e){this.child.throttleKeepalive(e)}ref(){this.child.ref()}unref(){this.child.unref()}getChannelzRef(){return this.child.getChannelzRef()}getRealSubchannel(){return this.child.getRealSubchannel()}realSubchannelEquals(e){return this.getRealSubchannel()===e.getRealSubchannel()}}t.BaseSubchannelWrapper=r},7328:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSubchannelPool=t.SubchannelPool=void 0;let i=r(9455),n=r(389),s=r(4955),o=r(5541),a=r(6983),A=1e4;class l{constructor(){this.pool=Object.create(null),this.cleanupTimer=null}unrefUnusedSubchannels(){let e=!0;for(let t in this.pool){let r=this.pool[t].filter(e=>!e.subchannel.unrefIfOneRef());r.length>0&&(e=!1),this.pool[t]=r}e&&null!==this.cleanupTimer&&(clearInterval(this.cleanupTimer),this.cleanupTimer=null)}ensureCleanupTask(){var e,t;null===this.cleanupTimer&&(this.cleanupTimer=setInterval(()=>{this.unrefUnusedSubchannels()},A),null===(t=(e=this.cleanupTimer).unref)||void 0===t||t.call(e))}getOrCreateSubchannel(e,t,r,A){this.ensureCleanupTask();let l=(0,o.uriToString)(e);if(l in this.pool){for(let e of this.pool[l])if((0,s.subchannelAddressEqual)(t,e.subchannelAddress)&&(0,i.channelOptionsEqual)(r,e.channelArguments)&&A._equals(e.channelCredentials))return e.subchannel}let c=new n.Subchannel(e,t,r,A,new a.Http2SubchannelConnector(e));return l in this.pool||(this.pool[l]=[]),this.pool[l].push({subchannelAddress:t,channelArguments:r,channelCredentials:A,subchannel:c}),c.ref(),c}}t.SubchannelPool=l;let c=new l;function u(e){return e?c:new l}t.getSubchannelPool=u},389:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Subchannel=void 0;let i=r(2409),n=r(1742),s=r(5792),o=r(9572),a=r(5541),A=r(4955),l=r(5962),c="subchannel",u=2147483647;class h{constructor(e,t,r,s,o){var a;this.channelTarget=e,this.subchannelAddress=t,this.options=r,this.credentials=s,this.connector=o,this.connectivityState=i.ConnectivityState.IDLE,this.transport=null,this.continueConnecting=!1,this.stateListeners=new Set,this.refcount=0,this.channelzEnabled=!0,this.callTracker=new l.ChannelzCallTracker,this.childrenTracker=new l.ChannelzChildrenTracker,this.streamTracker=new l.ChannelzCallTracker;let c={initialDelay:r["grpc.initial_reconnect_backoff_ms"],maxDelay:r["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new n.BackoffTimeout(()=>{this.handleBackoffTimer()},c),this.backoffTimeout.unref(),this.subchannelAddressString=(0,A.subchannelAddressToString)(t),this.keepaliveTime=null!==(a=r["grpc.keepalive_time_ms"])&&void 0!==a?a:-1,0===r["grpc.enable_channelz"]&&(this.channelzEnabled=!1),this.channelzTrace=new l.ChannelzTrace,this.channelzRef=(0,l.registerChannelzSubchannel)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Subchannel created"),this.trace("Subchannel constructed with options "+JSON.stringify(r,void 0,2))}getChannelzInfo(){return{state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists(),target:this.subchannelAddressString}}trace(e){s.trace(o.LogVerbosity.DEBUG,c,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}refTrace(e){s.trace(o.LogVerbosity.DEBUG,"subchannel_refcount","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}handleBackoffTimer(){this.continueConnecting?this.transitionToState([i.ConnectivityState.TRANSIENT_FAILURE],i.ConnectivityState.CONNECTING):this.transitionToState([i.ConnectivityState.TRANSIENT_FAILURE],i.ConnectivityState.IDLE)}startBackoff(){this.backoffTimeout.runOnce()}stopBackoff(){this.backoffTimeout.stop(),this.backoffTimeout.reset()}startConnectingInternal(){let e=this.options;if(e["grpc.keepalive_time_ms"]){let t=Math.min(this.keepaliveTime,u);e=Object.assign(Object.assign({},e),{"grpc.keepalive_time_ms":t})}this.connector.connect(this.subchannelAddress,this.credentials,e).then(e=>{this.transitionToState([i.ConnectivityState.CONNECTING],i.ConnectivityState.READY)?(this.transport=e,this.channelzEnabled&&this.childrenTracker.refChild(e.getChannelzRef()),e.addDisconnectListener(e=>{this.transitionToState([i.ConnectivityState.READY],i.ConnectivityState.IDLE),e&&this.keepaliveTime>0&&(this.keepaliveTime*=2,s.log(o.LogVerbosity.ERROR,`Connection to ${(0,a.uriToString)(this.channelTarget)} at ${this.subchannelAddressString} rejected by server because of excess pings. Increasing ping interval to ${this.keepaliveTime} ms`))})):e.shutdown()},e=>{this.transitionToState([i.ConnectivityState.CONNECTING],i.ConnectivityState.TRANSIENT_FAILURE,`${e}`)})}transitionToState(e,t,r){var n,s;if(-1===e.indexOf(this.connectivityState))return!1;this.trace(i.ConnectivityState[this.connectivityState]+" -> "+i.ConnectivityState[t]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+i.ConnectivityState[t]);let o=this.connectivityState;switch(this.connectivityState=t,t){case i.ConnectivityState.READY:this.stopBackoff();break;case i.ConnectivityState.CONNECTING:this.startBackoff(),this.startConnectingInternal(),this.continueConnecting=!1;break;case i.ConnectivityState.TRANSIENT_FAILURE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),null===(n=this.transport)||void 0===n||n.shutdown(),this.transport=null,this.backoffTimeout.isRunning()||process.nextTick(()=>{this.handleBackoffTimer()});break;case i.ConnectivityState.IDLE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),null===(s=this.transport)||void 0===s||s.shutdown(),this.transport=null;break;default:throw Error(`Invalid state: unknown ConnectivityState ${t}`)}for(let e of this.stateListeners)e(this,o,t,this.keepaliveTime,r);return!0}ref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount+1)),this.refcount+=1}unref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount-1)),this.refcount-=1,0===this.refcount&&(this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Shutting down"),this.channelzEnabled&&(0,l.unregisterChannelzRef)(this.channelzRef),process.nextTick(()=>{this.transitionToState([i.ConnectivityState.CONNECTING,i.ConnectivityState.READY],i.ConnectivityState.IDLE)}))}unrefIfOneRef(){return 1===this.refcount&&(this.unref(),!0)}createCall(e,t,r,i){let n;if(!this.transport)throw Error("Cannot create call, subchannel not READY");return this.channelzEnabled?(this.callTracker.addCallStarted(),this.streamTracker.addCallStarted(),n={onCallEnd:e=>{e.code===o.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()}}):n={},this.transport.createCall(e,t,r,i,n)}startConnecting(){process.nextTick(()=>{this.transitionToState([i.ConnectivityState.IDLE],i.ConnectivityState.CONNECTING)||this.connectivityState!==i.ConnectivityState.TRANSIENT_FAILURE||(this.continueConnecting=!0)})}getConnectivityState(){return this.connectivityState}addConnectivityStateListener(e){this.stateListeners.add(e)}removeConnectivityStateListener(e){this.stateListeners.delete(e)}resetBackoff(){process.nextTick(()=>{this.backoffTimeout.reset(),this.transitionToState([i.ConnectivityState.TRANSIENT_FAILURE],i.ConnectivityState.CONNECTING)})}getAddress(){return this.subchannelAddressString}getChannelzRef(){return this.channelzRef}getRealSubchannel(){return this}realSubchannelEquals(e){return e.getRealSubchannel()===this}throttleKeepalive(e){e>this.keepaliveTime&&(this.keepaliveTime=e)}}t.Subchannel=h},606:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultRootsData=t.CIPHER_SUITES=void 0;let i=r(2048);t.CIPHER_SUITES=process.env.GRPC_SSL_CIPHER_SUITES;let n=process.env.GRPC_DEFAULT_SSL_ROOTS_FILE_PATH,s=null;function o(){return n?(null===s&&(s=i.readFileSync(n)),s):null}t.getDefaultRootsData=o},6983:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Http2SubchannelConnector=void 0;let i=r(2694),n=r(2452),s=r(5962),o=r(9572),a=r(5242),A=r(5792),l=r(4063),c=r(4955),u=r(5541),h=r(8216),d=r(4354),g=r(1801),f="transport",p="transport_flowctrl",E=r(1513).i8,{HTTP2_HEADER_AUTHORITY:C,HTTP2_HEADER_CONTENT_TYPE:I,HTTP2_HEADER_METHOD:m,HTTP2_HEADER_PATH:B,HTTP2_HEADER_TE:y,HTTP2_HEADER_USER_AGENT:Q}=i.constants,w=2e4,v=Buffer.from("too_many_pings","ascii");class b{constructor(e,t,r,n){this.session=e,this.options=r,this.remoteName=n,this.keepaliveTimeMs=-1,this.keepaliveTimeoutMs=w,this.keepaliveTimerId=null,this.pendingSendKeepalivePing=!1,this.keepaliveTimeoutId=null,this.keepaliveWithoutCalls=!1,this.activeCalls=new Set,this.disconnectListeners=[],this.disconnectHandled=!1,this.channelzEnabled=!0,this.streamTracker=new s.ChannelzCallTracker,this.keepalivesSent=0,this.messagesSent=0,this.messagesReceived=0,this.lastMessageSentTimestamp=null,this.lastMessageReceivedTimestamp=null,this.subchannelAddressString=(0,c.subchannelAddressToString)(t),0===r["grpc.enable_channelz"]&&(this.channelzEnabled=!1),this.channelzRef=(0,s.registerChannelzSocket)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.userAgent=[r["grpc.primary_user_agent"],`grpc-node-js/${E}`,r["grpc.secondary_user_agent"]].filter(e=>e).join(" "),"grpc.keepalive_time_ms"in r&&(this.keepaliveTimeMs=r["grpc.keepalive_time_ms"]),"grpc.keepalive_timeout_ms"in r&&(this.keepaliveTimeoutMs=r["grpc.keepalive_timeout_ms"]),"grpc.keepalive_permit_without_calls"in r?this.keepaliveWithoutCalls=1===r["grpc.keepalive_permit_without_calls"]:this.keepaliveWithoutCalls=!1,e.once("close",()=>{this.trace("session closed"),this.stopKeepalivePings(),this.handleDisconnect()}),e.once("goaway",(e,t,r)=>{let n=!1;e===i.constants.NGHTTP2_ENHANCE_YOUR_CALM&&r&&r.equals(v)&&(n=!0),this.trace("connection closed by GOAWAY with code "+e+" and data "+(null==r?void 0:r.toString())),this.reportDisconnectToOwner(n)}),e.once("error",e=>{this.trace("connection closed with error "+e.message)}),A.isTracerEnabled(f)&&(e.on("remoteSettings",t=>{this.trace("new settings received"+(this.session!==e?" on the old connection":"")+": "+JSON.stringify(t))}),e.on("localSettings",t=>{this.trace("local settings acknowledged by remote"+(this.session!==e?" on the old connection":"")+": "+JSON.stringify(t))})),this.keepaliveWithoutCalls&&this.maybeStartKeepalivePingTimer()}getChannelzInfo(){var e,t,r;let i;let n=this.session.socket,s=n.remoteAddress?(0,c.stringToSubchannelAddress)(n.remoteAddress,n.remotePort):null,o=n.localAddress?(0,c.stringToSubchannelAddress)(n.localAddress,n.localPort):null;if(this.session.encrypted){let t=n,r=t.getCipher(),s=t.getCertificate(),o=t.getPeerCertificate();i={cipherSuiteStandardName:null!==(e=r.standardName)&&void 0!==e?e:null,cipherSuiteOtherName:r.standardName?null:r.name,localCertificate:s&&"raw"in s?s.raw:null,remoteCertificate:o&&"raw"in o?o.raw:null}}else i=null;return{remoteAddress:s,localAddress:o,security:i,remoteName:this.remoteName,streamsStarted:this.streamTracker.callsStarted,streamsSucceeded:this.streamTracker.callsSucceeded,streamsFailed:this.streamTracker.callsFailed,messagesSent:this.messagesSent,messagesReceived:this.messagesReceived,keepAlivesSent:this.keepalivesSent,lastLocalStreamCreatedTimestamp:this.streamTracker.lastCallStartedTimestamp,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:this.lastMessageSentTimestamp,lastMessageReceivedTimestamp:this.lastMessageReceivedTimestamp,localFlowControlWindow:null!==(t=this.session.state.localWindowSize)&&void 0!==t?t:null,remoteFlowControlWindow:null!==(r=this.session.state.remoteWindowSize)&&void 0!==r?r:null}}trace(e){A.trace(o.LogVerbosity.DEBUG,f,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}keepaliveTrace(e){A.trace(o.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}flowControlTrace(e){A.trace(o.LogVerbosity.DEBUG,p,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}internalsTrace(e){A.trace(o.LogVerbosity.DEBUG,"transport_internals","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}reportDisconnectToOwner(e){this.disconnectHandled||(this.disconnectHandled=!0,this.disconnectListeners.forEach(t=>t(e)))}handleDisconnect(){this.reportDisconnectToOwner(!1),setImmediate(()=>{for(let e of this.activeCalls)e.onDisconnect()})}addDisconnectListener(e){this.disconnectListeners.push(e)}clearKeepaliveTimer(){this.keepaliveTimerId&&(clearTimeout(this.keepaliveTimerId),this.keepaliveTimerId=null)}clearKeepaliveTimeout(){this.keepaliveTimeoutId&&(clearTimeout(this.keepaliveTimeoutId),this.keepaliveTimeoutId=null)}canSendPing(){return this.keepaliveTimeMs>0&&(this.keepaliveWithoutCalls||this.activeCalls.size>0)}maybeSendPing(){var e,t;if(this.clearKeepaliveTimer(),!this.canSendPing()){this.pendingSendKeepalivePing=!0;return}this.channelzEnabled&&(this.keepalivesSent+=1),this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms"),this.keepaliveTimeoutId||(this.keepaliveTimeoutId=setTimeout(()=>{this.keepaliveTrace("Ping timeout passed without response"),this.handleDisconnect()},this.keepaliveTimeoutMs),null===(t=(e=this.keepaliveTimeoutId).unref)||void 0===t||t.call(e));try{this.session.ping((e,t,r)=>{e&&(this.keepaliveTrace("Ping failed with error "+e.message),this.handleDisconnect()),this.keepaliveTrace("Received ping response"),this.clearKeepaliveTimeout(),this.maybeStartKeepalivePingTimer()})}catch(e){this.handleDisconnect()}}maybeStartKeepalivePingTimer(){var e,t;this.canSendPing()&&(this.pendingSendKeepalivePing?(this.pendingSendKeepalivePing=!1,this.maybeSendPing()):this.keepaliveTimerId||this.keepaliveTimeoutId||(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),this.keepaliveTimerId=null===(t=(e=setTimeout(()=>{this.maybeSendPing()},this.keepaliveTimeMs)).unref)||void 0===t?void 0:t.call(e)))}stopKeepalivePings(){this.keepaliveTimerId&&(clearTimeout(this.keepaliveTimerId),this.keepaliveTimerId=null),this.clearKeepaliveTimeout()}removeActiveCall(e){this.activeCalls.delete(e),0===this.activeCalls.size&&this.session.unref()}addActiveCall(e){this.activeCalls.add(e),1!==this.activeCalls.size||(this.session.ref(),this.keepaliveWithoutCalls||this.maybeStartKeepalivePingTimer())}createCall(e,t,r,i,n){let s,o,a;let A=e.toHttp2Headers();A[C]=t,A[Q]=this.userAgent,A[I]="application/grpc",A[m]="POST",A[B]=r,A[y]="trailers";try{s=this.session.request(A)}catch(e){throw this.handleDisconnect(),e}return this.flowControlTrace("local window size: "+this.session.state.localWindowSize+" remote window size: "+this.session.state.remoteWindowSize),this.internalsTrace("session.closed="+this.session.closed+" session.destroyed="+this.session.destroyed+" session.socket.destroyed="+this.session.socket.destroyed),this.channelzEnabled?(this.streamTracker.addCallStarted(),o={addMessageSent:()=>{var e;this.messagesSent+=1,this.lastMessageSentTimestamp=new Date,null===(e=n.addMessageSent)||void 0===e||e.call(n)},addMessageReceived:()=>{var e;this.messagesReceived+=1,this.lastMessageReceivedTimestamp=new Date,null===(e=n.addMessageReceived)||void 0===e||e.call(n)},onCallEnd:e=>{var t;null===(t=n.onCallEnd)||void 0===t||t.call(n,e),this.removeActiveCall(a)},onStreamEnd:e=>{var t;e?this.streamTracker.addCallSucceeded():this.streamTracker.addCallFailed(),null===(t=n.onStreamEnd)||void 0===t||t.call(n,e)}}):o={addMessageSent:()=>{var e;null===(e=n.addMessageSent)||void 0===e||e.call(n)},addMessageReceived:()=>{var e;null===(e=n.addMessageReceived)||void 0===e||e.call(n)},onCallEnd:e=>{var t;null===(t=n.onCallEnd)||void 0===t||t.call(n,e),this.removeActiveCall(a)},onStreamEnd:e=>{var t;null===(t=n.onStreamEnd)||void 0===t||t.call(n,e)}},a=new d.Http2SubchannelCall(s,o,i,this,(0,g.getNextCallNumber)()),this.addActiveCall(a),a}getChannelzRef(){return this.channelzRef}getPeerName(){return this.subchannelAddressString}getOptions(){return this.options}shutdown(){this.session.close(),(0,s.unregisterChannelzRef)(this.channelzRef)}}class S{constructor(e){this.channelTarget=e,this.session=null,this.isShutdown=!1}trace(e){A.trace(o.LogVerbosity.DEBUG,f,(0,u.uriToString)(this.channelTarget)+" "+e)}createSession(e,t,r,s){return this.isShutdown?Promise.reject():new Promise((o,a)=>{var A,d,g;let f;s.realTarget?(f=(0,u.uriToString)(s.realTarget),this.trace("creating HTTP/2 session through proxy to "+(0,u.uriToString)(s.realTarget))):(f=null,this.trace("creating HTTP/2 session to "+(0,c.subchannelAddressToString)(e)));let p=(0,l.getDefaultAuthority)(null!==(A=s.realTarget)&&void 0!==A?A:this.channelTarget),E=t._getConnectionOptions()||{};E.maxSendHeaderBlockLength=Number.MAX_SAFE_INTEGER,"grpc-node.max_session_memory"in r?E.maxSessionMemory=r["grpc-node.max_session_memory"]:E.maxSessionMemory=Number.MAX_SAFE_INTEGER;let C="http://";if("secureContext"in E){if(C="https://",r["grpc.ssl_target_name_override"]){let e=r["grpc.ssl_target_name_override"];E.checkServerIdentity=(t,r)=>(0,n.checkServerIdentity)(e,r),E.servername=e}else{let e=null!==(g=null===(d=(0,u.splitHostPort)(p))||void 0===d?void 0:d.host)&&void 0!==g?g:"localhost";E.servername=e}s.socket&&(E.createConnection=(e,t)=>s.socket)}else E.createConnection=(t,r)=>s.socket?s.socket:h.connect(e);E=Object.assign(Object.assign(Object.assign({},E),e),{enableTrace:1===r["grpc-node.tls_enable_trace"]});let I=i.connect(C+p,E);this.session=I;let m="Failed to connect";I.unref(),I.once("connect",()=>{I.removeAllListeners(),o(new b(I,e,r,f)),this.session=null}),I.once("close",()=>{this.session=null,setImmediate(()=>{a(`${m} (${new Date().toISOString()})`)})}),I.once("error",e=>{m=e.message,this.trace("connection failed with error "+m)})})}connect(e,t,r){var i,s;if(this.isShutdown)return Promise.reject();let o=t._getConnectionOptions()||{};if("secureContext"in o){if(o.ALPNProtocols=["h2"],r["grpc.ssl_target_name_override"]){let e=r["grpc.ssl_target_name_override"];o.checkServerIdentity=(t,r)=>(0,n.checkServerIdentity)(e,r),o.servername=e}else if("grpc.http_connect_target"in r){let e=(0,l.getDefaultAuthority)(null!==(i=(0,u.parseUri)(r["grpc.http_connect_target"]))&&void 0!==i?i:{path:"localhost"}),t=(0,u.splitHostPort)(e);o.servername=null!==(s=null==t?void 0:t.host)&&void 0!==s?s:e}r["grpc-node.tls_enable_trace"]&&(o.enableTrace=!0)}return(0,a.getProxiedConnection)(e,r,o).then(i=>this.createSession(e,t,r,i))}shutdown(){var e;this.isShutdown=!0,null===(e=this.session)||void 0===e||e.close(),this.session=null}}t.Http2SubchannelConnector=S},5541:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uriToString=t.splitHostPort=t.parseUri=void 0;let r=/^(?:([A-Za-z0-9+.-]+):)?(?:\/\/([^/]*)\/)?(.+)$/;function i(e){let t=r.exec(e);return null===t?null:{scheme:t[1],authority:t[2],path:t[3]}}t.parseUri=i;let n=/^\d+$/;function s(e){if(e.startsWith("[")){let t=e.indexOf("]");if(-1===t)return null;let r=e.substring(1,t);if(-1===r.indexOf(":"))return null;if(!(e.length>t+1))return{host:r};if(":"!==e[t+1])return null;{let i=e.substring(t+2);return n.test(i)?{host:r,port:+i}:null}}{let t=e.split(":");return 2!==t.length?{host:e}:n.test(t[1])?{host:t[0],port:+t[1]}:null}}function o(e){let t="";return void 0!==e.scheme&&(t+=e.scheme+":"),void 0!==e.authority&&(t+="//"+e.authority+"/"),t+=e.path}t.splitHostPort=s,t.uriToString=o},3716:(e,t,r)=>{"use strict";var i,n;i={value:!0},i=i=t.im=t.J_=i=t.Cp=i=i=void 0;let s=r(9739),o=r(1101),a=r(2607),A=r(8720);i=r(29),i=function(e){return"@type"in e&&"string"==typeof e["@type"]},function(e){e.IDEMPOTENCY_UNKNOWN="IDEMPOTENCY_UNKNOWN",e.NO_SIDE_EFFECTS="NO_SIDE_EFFECTS",e.IDEMPOTENT="IDEMPOTENT"}(n=t.Cp||(t.Cp={}));let l={longs:String,enums:String,bytes:String,defaults:!0,oneofs:!0,json:!0};function c(e,t){return""===e?t:e+"."+t}function u(e){return e instanceof o.Service||e instanceof o.Type||e instanceof o.Enum}function h(e){return e instanceof o.Namespace||e instanceof o.Root}function d(e,t){let r=c(t,e.name);return u(e)?[[r,e]]:h(e)&&void 0!==e.nested?Object.keys(e.nested).map(t=>d(e.nested[t],r)).reduce((e,t)=>e.concat(t),[]):[]}function g(e,t){return function(r){return e.toObject(e.decode(r),t)}}function f(e){return function(t){if(Array.isArray(t))throw Error(`Failed to serialize message: expected object with ${e.name} structure, got array instead`);let r=e.fromObject(t);return e.encode(r).finish()}}function p(e){return(e||[]).reduce((e,t)=>{for(let[r,i]of Object.entries(t))"uninterpreted_option"===r?e.uninterpreted_option.push(t.uninterpreted_option):e[r]=i;return e},{deprecated:!1,idempotency_level:n.IDEMPOTENCY_UNKNOWN,uninterpreted_option:[]})}function E(e,t,r,i){let n=e.resolvedRequestType,o=e.resolvedResponseType;return{path:"/"+t+"/"+e.name,requestStream:!!e.requestStream,responseStream:!!e.responseStream,requestSerialize:f(n),requestDeserialize:g(n,r),responseSerialize:f(o),responseDeserialize:g(o,r),originalName:s(e.name),requestType:I(n,i),responseType:I(o,i),options:p(e.parsedOptions)}}function C(e,t,r,i){let n={};for(let s of e.methodsArray)n[s.name]=E(s,t,r,i);return n}function I(e,t){let r=e.toDescriptor("proto3");return{format:"Protocol Buffer 3 DescriptorProto",type:r.$type.toObject(r,l),fileDescriptorProtos:t}}function m(e,t){let r=e.toDescriptor("proto3");return{format:"Protocol Buffer 3 EnumDescriptorProto",type:r.$type.toObject(r,l),fileDescriptorProtos:t}}function B(e,t,r,i){if(e instanceof o.Service)return C(e,t,r,i);if(e instanceof o.Type)return I(e,i);if(e instanceof o.Enum)return m(e,i);throw Error("Type mismatch in reflection object handling")}function y(e,t){let r={};e.resolveAll();let i=e.toDescriptor("proto3").file.map(e=>Buffer.from(a.FileDescriptorProto.encode(e).finish()));for(let[n,s]of d(e,""))r[n]=B(s,n,t,i);return r}function Q(e,t){t=t||{};let r=o.Root.fromDescriptor(e);return r.resolveAll(),y(r,t)}function w(e,t){return y((0,A.loadProtosWithOptionsSync)(e,t),t)}function v(e,t){t=t||{};let r=o.Root.fromJSON(e);return r.resolveAll(),y(r,t)}i=function(e,t){return(0,A.loadProtosWithOptions)(e,t).then(e=>y(e,t))},t.J_=w,t.im=v,i=function(e,t){return Q(a.FileDescriptorSet.decode(e),t)},i=function(e,t){return Q(a.FileDescriptorSet.fromObject(e),t)},(0,A.addCommonProtos)()},8720:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addCommonProtos=t.loadProtosWithOptionsSync=t.loadProtosWithOptions=void 0;let i=r(2048),n=r(5315),s=r(1101);function o(e,t){let r=e.resolvePath;e.resolvePath=(e,s)=>{if(n.isAbsolute(s))return s;for(let e of t){let t=n.join(e,s);try{return i.accessSync(t,i.constants.R_OK),t}catch(e){continue}}return process.emitWarning(`${s} not found in any of the include paths ${t}`),r(e,s)}}async function a(e,t){let r=new s.Root;if((t=t||{}).includeDirs){if(!Array.isArray(t.includeDirs))return Promise.reject(Error("The includeDirs option must be an array"));o(r,t.includeDirs)}let i=await r.load(e,t);return i.resolveAll(),i}function A(e,t){let r=new s.Root;if((t=t||{}).includeDirs){if(!Array.isArray(t.includeDirs))throw Error("The includeDirs option must be an array");o(r,t.includeDirs)}let i=r.loadSync(e,t);return i.resolveAll(),i}function l(){let e=r(6541),t=r(9987),i=r(7674),n=r(3795);s.common("api",e.nested.google.nested.protobuf.nested),s.common("descriptor",t.nested.google.nested.protobuf.nested),s.common("source_context",i.nested.google.nested.protobuf.nested),s.common("type",n.nested.google.nested.protobuf.nested)}t.loadProtosWithOptions=a,t.loadProtosWithOptionsSync=A,t.addCommonProtos=l},1417:e=>{"use strict";function t(e,t){for(var r=Array(arguments.length-1),i=0,n=2,s=!0;n<arguments.length;)r[i++]=arguments[n++];return new Promise(function(n,o){r[i]=function(e){if(s){if(s=!1,e)o(e);else{for(var t=Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];n.apply(null,t)}}};try{e.apply(t||null,r)}catch(e){s&&(s=!1,o(e))}})}e.exports=t},5386:(e,t)=>{"use strict";var r=t;r.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var i=Array(64),n=Array(123),s=0;s<64;)n[i[s]=s<26?s+65:s<52?s+71:s<62?s-4:s-59|43]=s++;r.encode=function(e,t,r){for(var n,s=null,o=[],a=0,A=0;t<r;){var l=e[t++];switch(A){case 0:o[a++]=i[l>>2],n=(3&l)<<4,A=1;break;case 1:o[a++]=i[n|l>>4],n=(15&l)<<2,A=2;break;case 2:o[a++]=i[n|l>>6],o[a++]=i[63&l],A=0}a>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,o)),a=0)}return(A&&(o[a++]=i[n],o[a++]=61,1===A&&(o[a++]=61)),s)?(a&&s.push(String.fromCharCode.apply(String,o.slice(0,a))),s.join("")):String.fromCharCode.apply(String,o.slice(0,a))};var o="invalid encoding";r.decode=function(e,t,r){for(var i,s=r,a=0,A=0;A<e.length;){var l=e.charCodeAt(A++);if(61===l&&a>1)break;if(void 0===(l=n[l]))throw Error(o);switch(a){case 0:i=l,a=1;break;case 1:t[r++]=i<<2|(48&l)>>4,i=l,a=2;break;case 2:t[r++]=(15&i)<<4|(60&l)>>2,i=l,a=3;break;case 3:t[r++]=(3&i)<<6|l,a=0}}if(1===a)throw Error(o);return r-s},r.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},696:e=>{"use strict";function t(e,r){"string"==typeof e&&(r=e,e=void 0);var i=[];function n(e){if("string"!=typeof e){var r=s();if(t.verbose&&console.log("codegen: "+r),r="return "+r,e){for(var o=Object.keys(e),a=Array(o.length+1),A=Array(o.length),l=0;l<o.length;)a[l]=o[l],A[l]=e[o[l++]];return a[l]=r,Function.apply(null,a).apply(null,A)}return Function(r)()}for(var c=Array(arguments.length-1),u=0;u<c.length;)c[u]=arguments[++u];if(u=0,e=e.replace(/%([%dfijs])/g,function(e,t){var r=c[u++];switch(t){case"d":case"f":return String(Number(r));case"i":return String(Math.floor(r));case"j":return JSON.stringify(r);case"s":return String(r)}return"%"}),u!==c.length)throw Error("parameter count mismatch");return i.push(e),n}function s(t){return"function "+(t||r||"")+"("+(e&&e.join(",")||"")+"){\n  "+i.join("\n  ")+"\n}"}return n.toString=s,n}e.exports=t,t.verbose=!1},3478:e=>{"use strict";function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],i=0;i<r.length;)r[i].fn===t?r.splice(i,1):++i;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],i=1;i<arguments.length;)r.push(arguments[i++]);for(i=0;i<t.length;)t[i].fn.apply(t[i++].ctx,r)}return this}},7828:(e,t,r)=>{"use strict";e.exports=s;var i=r(1417),n=r(1374)("fs");function s(e,t,r){return("function"==typeof t?(r=t,t={}):t||(t={}),r)?!t.xhr&&n&&n.readFile?n.readFile(e,function(i,n){return i&&"undefined"!=typeof XMLHttpRequest?s.xhr(e,t,r):i?r(i):r(null,t.binary?n:n.toString("utf8"))}):s.xhr(e,t,r):i(s,this,e,t)}s.xhr=function(e,t,r){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4===i.readyState){if(0!==i.status&&200!==i.status)return r(Error("status "+i.status));if(t.binary){var e=i.response;if(!e){e=[];for(var n=0;n<i.responseText.length;++n)e.push(255&i.responseText.charCodeAt(n))}return r(null,"undefined"!=typeof Uint8Array?new Uint8Array(e):e)}return r(null,i.responseText)}},t.binary&&("overrideMimeType"in i&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.responseType="arraybuffer"),i.open("GET",e),i.send()}},5256:e=>{"use strict";function t(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),i=128===r[3];function n(e,i,n){t[0]=e,i[n]=r[0],i[n+1]=r[1],i[n+2]=r[2],i[n+3]=r[3]}function s(e,i,n){t[0]=e,i[n]=r[3],i[n+1]=r[2],i[n+2]=r[1],i[n+3]=r[0]}function o(e,i){return r[0]=e[i],r[1]=e[i+1],r[2]=e[i+2],r[3]=e[i+3],t[0]}function a(e,i){return r[3]=e[i],r[2]=e[i+1],r[1]=e[i+2],r[0]=e[i+3],t[0]}e.writeFloatLE=i?n:s,e.writeFloatBE=i?s:n,e.readFloatLE=i?o:a,e.readFloatBE=i?a:o}():function(){function t(e,t,r,i){var n=t<0?1:0;if(n&&(t=-t),0===t)e(1/t>0?0:2147483648,r,i);else if(isNaN(t))e(2143289344,r,i);else if(t>34028234663852886e22)e((n<<31|2139095040)>>>0,r,i);else if(t<11754943508222875e-54)e((n<<31|Math.round(t/1401298464324817e-60))>>>0,r,i);else{var s=Math.floor(Math.log(t)/Math.LN2),o=8388607&Math.round(t*Math.pow(2,-s)*8388608);e((n<<31|s+127<<23|o)>>>0,r,i)}}function o(e,t,r){var i=e(t,r),n=(i>>31)*2+1,s=i>>>23&255,o=8388607&i;return 255===s?o?NaN:1/0*n:0===s?1401298464324817e-60*n*o:n*Math.pow(2,s-150)*(o+8388608)}e.writeFloatLE=t.bind(null,r),e.writeFloatBE=t.bind(null,i),e.readFloatLE=o.bind(null,n),e.readFloatBE=o.bind(null,s)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),i=128===r[7];function n(e,i,n){t[0]=e,i[n]=r[0],i[n+1]=r[1],i[n+2]=r[2],i[n+3]=r[3],i[n+4]=r[4],i[n+5]=r[5],i[n+6]=r[6],i[n+7]=r[7]}function s(e,i,n){t[0]=e,i[n]=r[7],i[n+1]=r[6],i[n+2]=r[5],i[n+3]=r[4],i[n+4]=r[3],i[n+5]=r[2],i[n+6]=r[1],i[n+7]=r[0]}function o(e,i){return r[0]=e[i],r[1]=e[i+1],r[2]=e[i+2],r[3]=e[i+3],r[4]=e[i+4],r[5]=e[i+5],r[6]=e[i+6],r[7]=e[i+7],t[0]}function a(e,i){return r[7]=e[i],r[6]=e[i+1],r[5]=e[i+2],r[4]=e[i+3],r[3]=e[i+4],r[2]=e[i+5],r[1]=e[i+6],r[0]=e[i+7],t[0]}e.writeDoubleLE=i?n:s,e.writeDoubleBE=i?s:n,e.readDoubleLE=i?o:a,e.readDoubleBE=i?a:o}():function(){function t(e,t,r,i,n,s){var o,a=i<0?1:0;if(a&&(i=-i),0===i)e(0,n,s+t),e(1/i>0?0:2147483648,n,s+r);else if(isNaN(i))e(0,n,s+t),e(2146959360,n,s+r);else if(i>17976931348623157e292)e(0,n,s+t),e((a<<31|2146435072)>>>0,n,s+r);else if(i<22250738585072014e-324)e((o=i/5e-324)>>>0,n,s+t),e((a<<31|o/4294967296)>>>0,n,s+r);else{var A=Math.floor(Math.log(i)/Math.LN2);1024===A&&(A=1023),e(4503599627370496*(o=i*Math.pow(2,-A))>>>0,n,s+t),e((a<<31|A+1023<<20|1048576*o&1048575)>>>0,n,s+r)}}function o(e,t,r,i,n){var s=e(i,n+t),o=e(i,n+r),a=(o>>31)*2+1,A=o>>>20&2047,l=4294967296*(1048575&o)+s;return 2047===A?l?NaN:1/0*a:0===A?5e-324*a*l:a*Math.pow(2,A-1075)*(l+4503599627370496)}e.writeDoubleLE=t.bind(null,r,0,4),e.writeDoubleBE=t.bind(null,i,4,0),e.readDoubleLE=o.bind(null,n,0,4),e.readDoubleBE=o.bind(null,s,4,0)}(),e}function r(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function i(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function n(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function s(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},1374:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},2727:(e,t)=>{"use strict";var r=t,i=r.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},n=r.normalize=function(e){var t=(e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),r=i(e),n="";r&&(n=t.shift()+"/");for(var s=0;s<t.length;)".."===t[s]?s>0&&".."!==t[s-1]?t.splice(--s,2):r?t.splice(s,1):++s:"."===t[s]?t.splice(s,1):++s;return n+t.join("/")};r.resolve=function(e,t,r){return(r||(t=n(t)),i(t))?t:(r||(e=n(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?n(e+"/"+t):t)}},6733:e=>{"use strict";function t(e,t,r){var i=r||8192,n=i>>>1,s=null,o=i;return function(r){if(r<1||r>n)return e(r);o+r>i&&(s=e(i),o=0);var a=t.call(s,o,o+=r);return 7&o&&(o=(7|o)+1),a}}e.exports=t},3670:(e,t)=>{"use strict";var r=t;r.length=function(e){for(var t=0,r=0,i=0;i<e.length;++i)(r=e.charCodeAt(i))<128?t+=1:r<2048?t+=2:(64512&r)==55296&&(64512&e.charCodeAt(i+1))==56320?(++i,t+=4):t+=3;return t},r.read=function(e,t,r){if(r-t<1)return"";for(var i,n=null,s=[],o=0;t<r;)(i=e[t++])<128?s[o++]=i:i>191&&i<224?s[o++]=(31&i)<<6|63&e[t++]:i>239&&i<365?(i=((7&i)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,s[o++]=55296+(i>>10),s[o++]=56320+(1023&i)):s[o++]=(15&i)<<12|(63&e[t++])<<6|63&e[t++],o>8191&&((n||(n=[])).push(String.fromCharCode.apply(String,s)),o=0);return n?(o&&n.push(String.fromCharCode.apply(String,s.slice(0,o))),n.join("")):String.fromCharCode.apply(String,s.slice(0,o))},r.write=function(e,t,r){for(var i,n,s=r,o=0;o<e.length;++o)(i=e.charCodeAt(o))<128?t[r++]=i:(i<2048?t[r++]=i>>6|192:((64512&i)==55296&&(64512&(n=e.charCodeAt(o+1)))==56320?(i=65536+((1023&i)<<10)+(1023&n),++o,t[r++]=i>>18|240,t[r++]=i>>12&63|128):t[r++]=i>>12|224,t[r++]=i>>6&63|128),t[r++]=63&i|128);return r-s}},9739:e=>{var t=1/0,r="[object Symbol]",i=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,n=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,s="\ud800-\udfff",o="\\u0300-\\u036f\\ufe20-\\ufe23",a="\\u20d0-\\u20f0",A="\\u2700-\\u27bf",l="a-z\\xdf-\\xf6\\xf8-\\xff",c="A-Z\\xc0-\\xd6\\xd8-\\xde",u="\\ufe0e\\ufe0f",h="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",d="[']",g="["+s+"]",f="["+h+"]",p="["+o+a+"]",E="\\d+",C="["+A+"]",I="["+l+"]",m="[^"+s+h+E+A+l+c+"]",B="\ud83c[\udffb-\udfff]",y="[^"+s+"]",Q="(?:\ud83c[\udde6-\uddff]){2}",w="[\ud800-\udbff][\udc00-\udfff]",v="["+c+"]",b="\\u200d",S="(?:"+I+"|"+m+")",T="(?:"+v+"|"+m+")",D="(?:"+d+"(?:d|ll|m|re|s|t|ve))?",R="(?:"+d+"(?:D|LL|M|RE|S|T|VE))?",k="(?:"+p+"|"+B+")?",N="["+u+"]?",F="(?:"+b+"(?:"+[y,Q,w].join("|")+")"+N+k+")*",M=N+k+F,L="(?:"+[C,Q,w].join("|")+")"+M,U="(?:"+[y+p+"?",p,Q,w,g].join("|")+")",_=RegExp(d,"g"),x=RegExp(p,"g"),O=RegExp(B+"(?="+B+")|"+U+M,"g"),P=RegExp([v+"?"+I+"+"+D+"(?="+[f,v,"$"].join("|")+")",T+"+"+R+"(?="+[f,v+S,"$"].join("|")+")",v+"?"+S+"+"+D,v+"+"+R,E,L].join("|"),"g"),V=RegExp("["+b+s+o+a+u+"]"),G=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Y={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"ss"},H="object"==typeof global&&global&&global.Object===Object&&global,J="object"==typeof self&&self&&self.Object===Object&&self,q=H||J||Function("return this")();function W(e,t,r,i){var n=-1,s=e?e.length:0;for(i&&s&&(r=e[++n]);++n<s;)r=t(r,e[n],n,e);return r}function j(e){return e.split("")}function z(e){return e.match(i)||[]}var K=function(e){return function(t){return null==e?void 0:e[t]}}(Y);function Z(e){return V.test(e)}function X(e){return G.test(e)}function $(e){return Z(e)?ee(e):j(e)}function ee(e){return e.match(O)||[]}function et(e){return e.match(P)||[]}var er=Object.prototype.toString,ei=q.Symbol,en=ei?ei.prototype:void 0,es=en?en.toString:void 0;function eo(e,t,r){var i=-1,n=e.length;t<0&&(t=-t>n?0:n+t),(r=r>n?n:r)<0&&(r+=n),n=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(n);++i<n;)s[i]=e[i+t];return s}function ea(e){if("string"==typeof e)return e;if(eu(e))return es?es.call(e):"";var r=e+"";return"0"==r&&1/e==-t?"-0":r}function eA(e,t,r){var i=e.length;return r=void 0===r?i:r,!t&&r>=i?e:eo(e,t,r)}function el(e){return function(t){var r=Z(t=eh(t))?$(t):void 0,i=r?r[0]:t.charAt(0),n=r?eA(r,1).join(""):t.slice(1);return i[e]()+n}}function ec(e){return!!e&&"object"==typeof e}function eu(e){return"symbol"==typeof e||ec(e)&&er.call(e)==r}function eh(e){return null==e?"":ea(e)}var ed=function(e){return function(t){return W(eE(ef(t).replace(_,"")),e,"")}}(function(e,t,r){return t=t.toLowerCase(),e+(r?eg(t):t)});function eg(e){return ep(eh(e).toLowerCase())}function ef(e){return(e=eh(e))&&e.replace(n,K).replace(x,"")}var ep=el("toUpperCase");function eE(e,t,r){return(e=eh(e),void 0===(t=r?void 0:t))?X(e)?et(e):z(e):e.match(t)||[]}e.exports=ed},2607:(e,t,r)=>{"use strict";var i=r(1101);e.exports=t=i.descriptor=i.Root.fromJSON(r(9987)).lookup(".google.protobuf");var n=i.Namespace,s=i.Root,o=i.Enum,a=i.Type,A=i.Field,l=i.MapField,c=i.OneOf,u=i.Service,h=i.Method;function d(e,r,i){var l=t.FileDescriptorProto.create({name:e.filename||(e.fullName.substring(1).replace(/\./g,"_")||"root")+".proto"});R(i,l),e instanceof s||(l.package=e.fullName.substring(1));for(var c,h=0;h<e.nestedArray.length;++h)(c=e._nestedArray[h])instanceof a?l.messageType.push(c.toDescriptor(i)):c instanceof o?l.enumType.push(c.toDescriptor()):c instanceof A?l.extension.push(c.toDescriptor(i)):c instanceof u?l.service.push(c.toDescriptor()):c instanceof n&&d(c,r,i);l.options=b(e.options,t.FileOptions),l.messageType.length+l.enumType.length+l.extension.length+l.service.length&&r.push(l)}s.fromDescriptor=function(e){"number"==typeof e.length&&(e=t.FileDescriptorSet.decode(e));var r=new s;if(e.file)for(var i,n,l,c=0;c<e.file.length;++c){n=r,(i=e.file[c]).package&&i.package.length&&(n=r.define(i.package));var h=D(i);if(i.name&&i.name.length&&r.files.push(n.filename=i.name),i.messageType)for(l=0;l<i.messageType.length;++l)n.add(a.fromDescriptor(i.messageType[l],h));if(i.enumType)for(l=0;l<i.enumType.length;++l)n.add(o.fromDescriptor(i.enumType[l],h));if(i.extension)for(l=0;l<i.extension.length;++l)n.add(A.fromDescriptor(i.extension[l],h));if(i.service)for(l=0;l<i.service.length;++l)n.add(u.fromDescriptor(i.service[l],h));var d=w(i.options,t.FileOptions);if(d){var g=Object.keys(d);for(l=0;l<g.length;++l)n.setOption(g[l],d[g[l]])}}return r.resolveAll()},s.prototype.toDescriptor=function(e){var r=t.FileDescriptorSet.create();return d(this,r.file,e),r};var g=0;a.fromDescriptor=function(e,r,i){"number"==typeof e.length&&(e=t.DescriptorProto.decode(e));var n,s=new a(e.name.length?e.name:"Type"+g++,w(e.options,t.MessageOptions));if(i||(s._edition=r),e.oneofDecl)for(n=0;n<e.oneofDecl.length;++n)s.add(c.fromDescriptor(e.oneofDecl[n]));if(e.field)for(n=0;n<e.field.length;++n){var l=A.fromDescriptor(e.field[n],r,!0);s.add(l),e.field[n].hasOwnProperty("oneofIndex")&&s.oneofsArray[e.field[n].oneofIndex].add(l)}if(e.extension)for(n=0;n<e.extension.length;++n)s.add(A.fromDescriptor(e.extension[n],r,!0));if(e.nestedType)for(n=0;n<e.nestedType.length;++n)s.add(a.fromDescriptor(e.nestedType[n],r,!0)),e.nestedType[n].options&&e.nestedType[n].options.mapEntry&&s.setOption("map_entry",!0);if(e.enumType)for(n=0;n<e.enumType.length;++n)s.add(o.fromDescriptor(e.enumType[n],r,!0));if(e.extensionRange&&e.extensionRange.length)for(n=0,s.extensions=[];n<e.extensionRange.length;++n)s.extensions.push([e.extensionRange[n].start,e.extensionRange[n].end]);if(e.reservedRange&&e.reservedRange.length||e.reservedName&&e.reservedName.length){if(s.reserved=[],e.reservedRange)for(n=0;n<e.reservedRange.length;++n)s.reserved.push([e.reservedRange[n].start,e.reservedRange[n].end]);if(e.reservedName)for(n=0;n<e.reservedName.length;++n)s.reserved.push(e.reservedName[n])}return s},a.prototype.toDescriptor=function(e){var r,i,n=t.DescriptorProto.create({name:this.name});for(i=0;i<this.fieldsArray.length;++i)if(n.field.push(r=this._fieldsArray[i].toDescriptor(e)),this._fieldsArray[i]instanceof l){var s=y(this._fieldsArray[i].keyType,this._fieldsArray[i].resolvedKeyType,!1),c=y(this._fieldsArray[i].type,this._fieldsArray[i].resolvedType,!1),u=11===c||14===c?this._fieldsArray[i].resolvedType&&S(this.parent,this._fieldsArray[i].resolvedType)||this._fieldsArray[i].type:void 0;n.nestedType.push(t.DescriptorProto.create({name:r.typeName,field:[t.FieldDescriptorProto.create({name:"key",number:1,label:1,type:s}),t.FieldDescriptorProto.create({name:"value",number:2,label:1,type:c,typeName:u})],options:t.MessageOptions.create({mapEntry:!0})}))}for(i=0;i<this.oneofsArray.length;++i)n.oneofDecl.push(this._oneofsArray[i].toDescriptor());for(i=0;i<this.nestedArray.length;++i)this._nestedArray[i]instanceof A?n.field.push(this._nestedArray[i].toDescriptor(e)):this._nestedArray[i]instanceof a?n.nestedType.push(this._nestedArray[i].toDescriptor(e)):this._nestedArray[i]instanceof o&&n.enumType.push(this._nestedArray[i].toDescriptor());if(this.extensions)for(i=0;i<this.extensions.length;++i)n.extensionRange.push(t.DescriptorProto.ExtensionRange.create({start:this.extensions[i][0],end:this.extensions[i][1]}));if(this.reserved)for(i=0;i<this.reserved.length;++i)"string"==typeof this.reserved[i]?n.reservedName.push(this.reserved[i]):n.reservedRange.push(t.DescriptorProto.ReservedRange.create({start:this.reserved[i][0],end:this.reserved[i][1]}));return n.options=b(this.options,t.MessageOptions),n};var f=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/;A.fromDescriptor=function(e,r,i){if("number"==typeof e.length&&(e=t.DescriptorProto.decode(e)),"number"!=typeof e.number)throw Error("missing field id");switch(n=e.typeName&&e.typeName.length?e.typeName:m(e.type),e.label){case 1:s=void 0;break;case 2:s="required";break;case 3:s="repeated";break;default:throw Error("illegal label: "+e.label)}var n,s,o=e.extendee;void 0!==e.extendee&&(o=o.length?o:void 0);var a=new A(e.name.length?e.name:"field"+e.number,e.number,n,s,o);if(i||(a._edition=r),a.options=w(e.options,t.FieldOptions),e.proto3_optional&&(a.options.proto3_optional=!0),e.defaultValue&&e.defaultValue.length){var l=e.defaultValue;switch(l){case"true":case"TRUE":l=!0;break;case"false":case"FALSE":l=!1;break;default:f.exec(l)&&(l=parseInt(l))}a.setOption("default",l)}return B(e.type)&&("proto3"===r?e.options&&!e.options.packed&&a.setOption("packed",!1):(!r||"proto2"===r)&&e.options&&e.options.packed&&a.setOption("packed",!0)),a},A.prototype.toDescriptor=function(e){var r=t.FieldDescriptorProto.create({name:this.name,number:this.id});if(this.map)r.type=11,r.typeName=i.util.ucFirst(this.name),r.label=3;else{switch(r.type=y(this.type,this.resolve().resolvedType,this.delimited)){case 10:case 11:case 14:r.typeName=this.resolvedType?S(this.parent,this.resolvedType):this.type}"repeated"===this.rule?r.label=3:this.required&&"proto2"===e?r.label=2:r.label=1}if(r.extendee=this.extensionField?this.extensionField.parent.fullName:this.extend,this.partOf&&(r.oneofIndex=this.parent.oneofsArray.indexOf(this.partOf))<0)throw Error("missing oneof");return this.options&&(r.options=b(this.options,t.FieldOptions),null!=this.options.default&&(r.defaultValue=String(this.options.default)),this.options.proto3_optional&&(r.proto3_optional=!0)),"proto3"===e?this.packed||((r.options||(r.options=t.FieldOptions.create())).packed=!1):(!e||"proto2"===e)&&this.packed&&((r.options||(r.options=t.FieldOptions.create())).packed=!0),r};var p=0;o.fromDescriptor=function(e,r,i){"number"==typeof e.length&&(e=t.EnumDescriptorProto.decode(e));var n={};if(e.value)for(var s=0;s<e.value.length;++s){var a=e.value[s].name,A=e.value[s].number||0;n[a&&a.length?a:"NAME"+A]=A}var l=new o(e.name&&e.name.length?e.name:"Enum"+p++,n,w(e.options,t.EnumOptions));return i||(l._edition=r),l},o.prototype.toDescriptor=function(){for(var e=[],r=0,i=Object.keys(this.values);r<i.length;++r)e.push(t.EnumValueDescriptorProto.create({name:i[r],number:this.values[i[r]]}));return t.EnumDescriptorProto.create({name:this.name,value:e,options:b(this.options,t.EnumOptions)})};var E=0;c.fromDescriptor=function(e){return"number"==typeof e.length&&(e=t.OneofDescriptorProto.decode(e)),new c(e.name&&e.name.length?e.name:"oneof"+E++)},c.prototype.toDescriptor=function(){return t.OneofDescriptorProto.create({name:this.name})};var C=0;u.fromDescriptor=function(e,r,i){"number"==typeof e.length&&(e=t.ServiceDescriptorProto.decode(e));var n=new u(e.name&&e.name.length?e.name:"Service"+C++,w(e.options,t.ServiceOptions));if(i||(n._edition=r),e.method)for(var s=0;s<e.method.length;++s)n.add(h.fromDescriptor(e.method[s]));return n},u.prototype.toDescriptor=function(){for(var e=[],r=0;r<this.methodsArray.length;++r)e.push(this._methodsArray[r].toDescriptor());return t.ServiceDescriptorProto.create({name:this.name,method:e,options:b(this.options,t.ServiceOptions)})};var I=0;function m(e){switch(e){case 1:return"double";case 2:return"float";case 3:return"int64";case 4:return"uint64";case 5:return"int32";case 6:return"fixed64";case 7:return"fixed32";case 8:return"bool";case 9:return"string";case 12:return"bytes";case 13:return"uint32";case 15:return"sfixed32";case 16:return"sfixed64";case 17:return"sint32";case 18:return"sint64"}throw Error("illegal type: "+e)}function B(e){switch(e){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 13:case 14:case 15:case 16:case 17:case 18:return!0}return!1}function y(e,t,r){switch(e){case"double":return 1;case"float":return 2;case"int64":return 3;case"uint64":return 4;case"int32":return 5;case"fixed64":return 6;case"fixed32":return 7;case"bool":return 8;case"string":return 9;case"bytes":return 12;case"uint32":return 13;case"sfixed32":return 15;case"sfixed64":return 16;case"sint32":return 17;case"sint64":return 18}if(t instanceof o)return 14;if(t instanceof a)return r?10:11;throw Error("illegal type: "+e)}function Q(e,t){for(var r,i,n={},s=0;s<t.fieldsArray.length;++s)if("uninterpretedOption"!==(i=(r=t._fieldsArray[s]).name)&&Object.prototype.hasOwnProperty.call(e,i)){var A=T(i);r.resolvedType instanceof a?n[A]=Q(e[i],r.resolvedType):r.resolvedType instanceof o?n[A]=r.resolvedType.valuesById[e[i]]:n[A]=e[i]}return n}function w(e,t){if(e)return Q(t.toObject(e),t)}function v(e,t){for(var r={},n=Object.keys(e),s=0;s<n.length;++s){var o=n[s],A=i.util.camelCase(o);if(Object.prototype.hasOwnProperty.call(t.fields,A)){var l=t.fields[A];l.resolvedType instanceof a?r[A]=v(e[o],l.resolvedType):r[A]=e[o],l.repeated&&!Array.isArray(r[A])&&(r[A]=[r[A]])}}return r}function b(e,t){if(e)return t.fromObject(v(e,t))}function S(e,t){var r=e.fullName.split("."),i=t.fullName.split("."),o=0,a=0,A=i.length-1;if(!(e instanceof s)&&t instanceof n)for(;o<r.length&&a<A&&r[o]===i[a];){var l=t.lookup(r[o++],!0);if(null!==l&&l!==t)break;++a}else for(;o<r.length&&a<A&&r[o]===i[a];++o,++a);return i.slice(a).join(".")}function T(e){return e.substring(0,1)+e.substring(1).replace(/([A-Z])(?=[a-z]|$)/g,function(e,t){return"_"+t.toLowerCase()})}function D(e){if("editions"===e.syntax){if(e.edition===t.Edition.EDITION_2023)return"2023";throw Error("Unsupported edition "+e.edition)}return"proto3"===e.syntax?"proto3":"proto2"}function R(e,r){if(e){if("proto2"===e||"proto3"===e)r.syntax=e;else if(r.syntax="editions","2023"===e)r.edition=t.Edition.EDITION_2023;else throw Error("Unsupported edition "+e)}}h.fromDescriptor=function(e){return"number"==typeof e.length&&(e=t.MethodDescriptorProto.decode(e)),new h(e.name&&e.name.length?e.name:"Method"+I++,"rpc",e.inputType,e.outputType,!!e.clientStreaming,!!e.serverStreaming,w(e.options,t.MethodOptions))},h.prototype.toDescriptor=function(){return t.MethodDescriptorProto.create({name:this.name,inputType:this.resolvedRequestType?this.resolvedRequestType.fullName:this.requestType,outputType:this.resolvedResponseType?this.resolvedResponseType.fullName:this.responseType,clientStreaming:this.requestStream,serverStreaming:this.responseStream,options:b(this.options,t.MethodOptions)})}},1101:(e,t,r)=>{"use strict";e.exports=r(8582)},3980:e=>{"use strict";e.exports=i;var t,r=/\/|\./;function i(e,t){r.test(e)||(e="google/protobuf/"+e+".proto",t={nested:{google:{nested:{protobuf:{nested:t}}}}}),i[e]=t}i("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}),i("duration",{Duration:t={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),i("timestamp",{Timestamp:t}),i("empty",{Empty:{fields:{}}}),i("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),i("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),i("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),i.get=function(e){return i[e]||null}},5711:(e,t,r)=>{"use strict";var i=t,n=r(1114),s=r(4615);function o(e,t,r,i){var s=!1;if(t.resolvedType){if(t.resolvedType instanceof n){e("switch(d%s){",i);for(var o=t.resolvedType.values,a=Object.keys(o),A=0;A<a.length;++A)o[a[A]]!==t.typeDefault||s||(e("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',i,i,i),t.repeated||e("break"),s=!0),e("case%j:",a[A])("case %i:",o[a[A]])("m%s=%j",i,o[a[A]])("break");e("}")}else e('if(typeof d%s!=="object")',i)("throw TypeError(%j)",t.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",i,r,i)}else{var l=!1;switch(t.type){case"double":case"float":e("m%s=Number(d%s)",i,i);break;case"uint32":case"fixed32":e("m%s=d%s>>>0",i,i);break;case"int32":case"sint32":case"sfixed32":e("m%s=d%s|0",i,i);break;case"uint64":l=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",i,i,l)('else if(typeof d%s==="string")',i)("m%s=parseInt(d%s,10)",i,i)('else if(typeof d%s==="number")',i)("m%s=d%s",i,i)('else if(typeof d%s==="object")',i)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",i,i,i,l?"true":"");break;case"bytes":e('if(typeof d%s==="string")',i)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",i,i,i)("else if(d%s.length >= 0)",i)("m%s=d%s",i,i);break;case"string":e("m%s=String(d%s)",i,i);break;case"bool":e("m%s=Boolean(d%s)",i,i)}}return e}function a(e,t,r,i){if(t.resolvedType)t.resolvedType instanceof n?e("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",i,r,i,i,r,i,i):e("d%s=types[%i].toObject(m%s,o)",i,r,i);else{var s=!1;switch(t.type){case"double":case"float":e("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",i,i,i,i);break;case"uint64":s=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e('if(typeof m%s==="number")',i)("d%s=o.longs===String?String(m%s):m%s",i,i,i)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",i,i,i,i,s?"true":"",i);break;case"bytes":e("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",i,i,i,i,i);break;default:e("d%s=m%s",i,i)}}return e}i.fromObject=function(e){var t=e.fieldsArray,r=s.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return r("return new this.ctor");r("var m=new this.ctor");for(var i=0;i<t.length;++i){var a=t[i].resolve(),A=s.safeProp(a.name);a.map?(r("if(d%s){",A)('if(typeof d%s!=="object")',A)("throw TypeError(%j)",a.fullName+": object expected")("m%s={}",A)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",A),o(r,a,i,A+"[ks[i]]")("}")("}")):a.repeated?(r("if(d%s){",A)("if(!Array.isArray(d%s))",A)("throw TypeError(%j)",a.fullName+": array expected")("m%s=[]",A)("for(var i=0;i<d%s.length;++i){",A),o(r,a,i,A+"[i]")("}")("}")):(a.resolvedType instanceof n||r("if(d%s!=null){",A),o(r,a,i,A),a.resolvedType instanceof n||r("}"))}return r("return m")},i.toObject=function(e){var t=e.fieldsArray.slice().sort(s.compareFieldsById);if(!t.length)return s.codegen()("return {}");for(var r=s.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),i=[],o=[],A=[],l=0;l<t.length;++l)t[l].partOf||(t[l].resolve().repeated?i:t[l].map?o:A).push(t[l]);if(i.length){for(r("if(o.arrays||o.defaults){"),l=0;l<i.length;++l)r("d%s=[]",s.safeProp(i[l].name));r("}")}if(o.length){for(r("if(o.objects||o.defaults){"),l=0;l<o.length;++l)r("d%s={}",s.safeProp(o[l].name));r("}")}if(A.length){for(r("if(o.defaults){"),l=0;l<A.length;++l){var c=A[l],u=s.safeProp(c.name);if(c.resolvedType instanceof n)r("d%s=o.enums===String?%j:%j",u,c.resolvedType.valuesById[c.typeDefault],c.typeDefault);else if(c.long)r("if(util.Long){")("var n=new util.Long(%i,%i,%j)",c.typeDefault.low,c.typeDefault.high,c.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",u)("}else")("d%s=o.longs===String?%j:%i",u,c.typeDefault.toString(),c.typeDefault.toNumber());else if(c.bytes){var h="["+Array.prototype.slice.call(c.typeDefault).join(",")+"]";r("if(o.bytes===String)d%s=%j",u,String.fromCharCode.apply(String,c.typeDefault))("else{")("d%s=%s",u,h)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",u,u)("}")}else r("d%s=%j",u,c.typeDefault)}r("}")}var d=!1;for(l=0;l<t.length;++l){var c=t[l],g=e._fieldsArray.indexOf(c),u=s.safeProp(c.name);c.map?(d||(d=!0,r("var ks2")),r("if(m%s&&(ks2=Object.keys(m%s)).length){",u,u)("d%s={}",u)("for(var j=0;j<ks2.length;++j){"),a(r,c,g,u+"[ks2[j]]")("}")):c.repeated?(r("if(m%s&&m%s.length){",u,u)("d%s=[]",u)("for(var j=0;j<m%s.length;++j){",u),a(r,c,g,u+"[j]")("}")):(r("if(m%s!=null&&m.hasOwnProperty(%j)){",u,c.name),a(r,c,g,u),c.partOf&&r("if(o.oneofs)")("d%s=%j",s.safeProp(c.partOf.name),c.name)),r("}")}return r("return d")}},1526:(e,t,r)=>{"use strict";e.exports=a;var i=r(1114),n=r(6160),s=r(4615);function o(e){return"missing required '"+e.name+"'"}function a(e){for(var t=s.codegen(["r","l","e"],e.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(e.fieldsArray.filter(function(e){return e.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()")("if(t===e)")("break")("switch(t>>>3){"),r=0;r<e.fieldsArray.length;++r){var a=e._fieldsArray[r].resolve(),A=a.resolvedType instanceof i?"int32":a.type,l="m"+s.safeProp(a.name);t("case %i: {",a.id),a.map?(t("if(%s===util.emptyObject)",l)("%s={}",l)("var c2 = r.uint32()+r.pos"),void 0!==n.defaults[a.keyType]?t("k=%j",n.defaults[a.keyType]):t("k=null"),void 0!==n.defaults[A]?t("value=%j",n.defaults[A]):t("value=null"),t("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",a.keyType)("case 2:"),void 0===n.basic[A]?t("value=types[%i].decode(r,r.uint32())",r):t("value=r.%s()",A),t("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),t(void 0!==n.long[a.keyType]?'%s[typeof k==="object"?util.longToHash(k):k]=value':"%s[k]=value",l)):a.repeated?(t("if(!(%s&&%s.length))",l,l)("%s=[]",l),void 0!==n.packed[A]&&t("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",l,A)("}else"),void 0===n.basic[A]?t(a.delimited?"%s.push(types[%i].decode(r,undefined,((t&~7)|4)))":"%s.push(types[%i].decode(r,r.uint32()))",l,r):t("%s.push(r.%s())",l,A)):void 0===n.basic[A]?t(a.delimited?"%s=types[%i].decode(r,undefined,((t&~7)|4))":"%s=types[%i].decode(r,r.uint32())",l,r):t("%s=r.%s()",l,A),t("break")("}")}for(t("default:")("r.skipType(t&7)")("break")("}")("}"),r=0;r<e._fieldsArray.length;++r){var c=e._fieldsArray[r];c.required&&t("if(!m.hasOwnProperty(%j))",c.name)("throw util.ProtocolError(%j,{instance:m})",o(c))}return t("return m")}},8455:(e,t,r)=>{"use strict";e.exports=a;var i=r(1114),n=r(6160),s=r(4615);function o(e,t,r,i){return t.delimited?e("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",r,i,(t.id<<3|3)>>>0,(t.id<<3|4)>>>0):e("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",r,i,(t.id<<3|2)>>>0)}function a(e){for(var t,r,a=s.codegen(["m","w"],e.name+"$encode")("if(!w)")("w=Writer.create()"),A=e.fieldsArray.slice().sort(s.compareFieldsById),t=0;t<A.length;++t){var l=A[t].resolve(),c=e._fieldsArray.indexOf(l),u=l.resolvedType instanceof i?"int32":l.type,h=n.basic[u];r="m"+s.safeProp(l.name),l.map?(a("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",r,l.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",r)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(l.id<<3|2)>>>0,8|n.mapKey[l.keyType],l.keyType),void 0===h?a("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",c,r):a(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|h,u,r),a("}")("}")):l.repeated?(a("if(%s!=null&&%s.length){",r,r),l.packed&&void 0!==n.packed[u]?a("w.uint32(%i).fork()",(l.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",r)("w.%s(%s[i])",u,r)("w.ldelim()"):(a("for(var i=0;i<%s.length;++i)",r),void 0===h?o(a,l,c,r+"[i]"):a("w.uint32(%i).%s(%s[i])",(l.id<<3|h)>>>0,u,r)),a("}")):(l.optional&&a("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",r,l.name),void 0===h?o(a,l,c,r):a("w.uint32(%i).%s(%s)",(l.id<<3|h)>>>0,u,r))}return a("return w")}},1114:(e,t,r)=>{"use strict";e.exports=o;var i=r(3514);((o.prototype=Object.create(i.prototype)).constructor=o).className="Enum";var n=r(4943),s=r(4615);function o(e,t,r,n,s,o){if(i.call(this,e,r),t&&"object"!=typeof t)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=n,this.comments=s||{},this.valuesOptions=o,this._valuesFeatures={},this.reserved=void 0,t)for(var a=Object.keys(t),A=0;A<a.length;++A)"number"==typeof t[a[A]]&&(this.valuesById[this.values[a[A]]=t[a[A]]]=a[A])}o.prototype._resolveFeatures=function(e){return e=this._edition||e,i.prototype._resolveFeatures.call(this,e),Object.keys(this.values).forEach(e=>{var t=Object.assign({},this._features);this._valuesFeatures[e]=Object.assign(t,this.valuesOptions&&this.valuesOptions[e]&&this.valuesOptions[e].features)}),this},o.fromJSON=function(e,t){var r=new o(e,t.values,t.options,t.comment,t.comments);return r.reserved=t.reserved,t.edition&&(r._edition=t.edition),r._defaultEdition="proto3",r},o.prototype.toJSON=function(e){var t=!!e&&!!e.keepComments;return s.toObject(["edition",this._editionToJSON(),"options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])},o.prototype.add=function(e,t,r,i){if(!s.isString(e))throw TypeError("name must be a string");if(!s.isInteger(t))throw TypeError("id must be an integer");if(void 0!==this.values[e])throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(void 0!==this.valuesById[t]){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return i&&(void 0===this.valuesOptions&&(this.valuesOptions={}),this.valuesOptions[e]=i||null),this.comments[e]=r||null,this},o.prototype.remove=function(e){if(!s.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(null==t)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this.valuesOptions&&delete this.valuesOptions[e],this},o.prototype.isReservedId=function(e){return n.isReservedId(this.reserved,e)},o.prototype.isReservedName=function(e){return n.isReservedName(this.reserved,e)}},7510:(e,t,r)=>{"use strict";e.exports=l;var i,n=r(3514);((l.prototype=Object.create(n.prototype)).constructor=l).className="Field";var s=r(1114),o=r(6160),a=r(4615),A=/^required|optional|repeated$/;function l(e,t,r,i,s,l,c){if(a.isObject(i)?(c=s,l=i,i=s=void 0):a.isObject(s)&&(c=l,l=s,s=void 0),n.call(this,e,l),!a.isInteger(t)||t<0)throw TypeError("id must be a non-negative integer");if(!a.isString(r))throw TypeError("type must be a string");if(void 0!==i&&!A.test(i=i.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==s&&!a.isString(s))throw TypeError("extend must be a string");"proto3_optional"===i&&(i="optional"),this.rule=i&&"optional"!==i?i:void 0,this.type=r,this.id=t,this.extend=s||void 0,this.repeated="repeated"===i,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!a.Long&&void 0!==o.long[r],this.bytes="bytes"===r,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this.comment=c}l.fromJSON=function(e,t){var r=new l(e,t.id,t.type,t.rule,t.extend,t.options,t.comment);return t.edition&&(r._edition=t.edition),r._defaultEdition="proto3",r},Object.defineProperty(l.prototype,"required",{get:function(){return"LEGACY_REQUIRED"===this._features.field_presence}}),Object.defineProperty(l.prototype,"optional",{get:function(){return!this.required}}),Object.defineProperty(l.prototype,"delimited",{get:function(){return this.resolvedType instanceof i&&"DELIMITED"===this._features.message_encoding}}),Object.defineProperty(l.prototype,"packed",{get:function(){return"PACKED"===this._features.repeated_field_encoding}}),Object.defineProperty(l.prototype,"hasPresence",{get:function(){return!this.repeated&&!this.map&&(this.partOf||this.declaringField||this.extensionField||"IMPLICIT"!==this._features.field_presence)}}),l.prototype.setOption=function(e,t,r){return n.prototype.setOption.call(this,e,t,r)},l.prototype.toJSON=function(e){var t=!!e&&!!e.keepComments;return a.toObject(["edition",this._editionToJSON(),"rule","optional"!==this.rule&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},l.prototype.resolve=function(){if(this.resolved)return this;if(void 0===(this.typeDefault=o.defaults[this.type])?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof i?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof s&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof s||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=a.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var e;a.base64.test(this.typeDefault)?a.base64.decode(this.typeDefault,e=a.newBuffer(a.base64.length(this.typeDefault)),0):a.utf8.write(this.typeDefault,e=a.newBuffer(a.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=a.emptyObject:this.repeated?this.defaultValue=a.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof i&&(this.parent.ctor.prototype[this.name]=this.defaultValue),n.prototype.resolve.call(this)},l.prototype._inferLegacyProtoFeatures=function(e){if("proto2"!==e&&"proto3"!==e)return{};var t={};if("required"===this.rule&&(t.field_presence="LEGACY_REQUIRED"),this.parent&&void 0===o.defaults[this.type]){var r=this.parent.get(this.type.split(".").pop());r&&r instanceof i&&r.group&&(t.message_encoding="DELIMITED")}return!0===this.getOption("packed")?t.repeated_field_encoding="PACKED":!1===this.getOption("packed")&&(t.repeated_field_encoding="EXPANDED"),t},l.prototype._resolveFeatures=function(e){return n.prototype._resolveFeatures.call(this,this._edition||e)},l.d=function(e,t,r,i){return"function"==typeof t?t=a.decorateType(t).name:t&&"object"==typeof t&&(t=a.decorateEnum(t).name),function(n,s){a.decorateType(n.constructor).add(new l(s,e,t,r,{default:i}))}},l._configure=function(e){i=e}},4630:(e,t,r)=>{"use strict";var i=e.exports=r(8690);function n(e,t,r){return"function"==typeof t?(r=t,t=new i.Root):t||(t=new i.Root),t.load(e,r)}function s(e,t){return t||(t=new i.Root),t.loadSync(e)}i.build="light",i.load=n,i.loadSync=s,i.encoder=r(8455),i.decoder=r(1526),i.verifier=r(1506),i.converter=r(5711),i.ReflectionObject=r(3514),i.Namespace=r(4943),i.Root=r(4343),i.Enum=r(1114),i.Type=r(3839),i.Field=r(7510),i.OneOf=r(2695),i.MapField=r(9538),i.Service=r(1631),i.Method=r(6539),i.Message=r(2936),i.wrappers=r(9579),i.types=r(6160),i.util=r(4615),i.ReflectionObject._configure(i.Root),i.Namespace._configure(i.Type,i.Service,i.Enum),i.Root._configure(i.Type),i.Field._configure(i.Type)},8690:(e,t,r)=>{"use strict";var i=t;function n(){i.util._configure(),i.Writer._configure(i.BufferWriter),i.Reader._configure(i.BufferReader)}i.build="minimal",i.Writer=r(8458),i.BufferWriter=r(8386),i.Reader=r(2279),i.BufferReader=r(424),i.util=r(745),i.rpc=r(4774),i.roots=r(9694),i.configure=n,n()},8582:(e,t,r)=>{"use strict";var i=e.exports=r(4630);i.build="full",i.tokenize=r(9867),i.parse=r(6614),i.common=r(3980),i.Root._configure(i.Type,i.parse,i.common)},9538:(e,t,r)=>{"use strict";e.exports=o;var i=r(7510);((o.prototype=Object.create(i.prototype)).constructor=o).className="MapField";var n=r(6160),s=r(4615);function o(e,t,r,n,o,a){if(i.call(this,e,t,n,void 0,void 0,o,a),!s.isString(r))throw TypeError("keyType must be a string");this.keyType=r,this.resolvedKeyType=null,this.map=!0}o.fromJSON=function(e,t){return new o(e,t.id,t.keyType,t.type,t.options,t.comment)},o.prototype.toJSON=function(e){var t=!!e&&!!e.keepComments;return s.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},o.prototype.resolve=function(){if(this.resolved)return this;if(void 0===n.mapKey[this.keyType])throw Error("invalid key type: "+this.keyType);return i.prototype.resolve.call(this)},o.d=function(e,t,r){return"function"==typeof r?r=s.decorateType(r).name:r&&"object"==typeof r&&(r=s.decorateEnum(r).name),function(i,n){s.decorateType(i.constructor).add(new o(n,e,t,r))}}},2936:(e,t,r)=>{"use strict";e.exports=n;var i=r(745);function n(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)this[t[r]]=e[t[r]]}n.create=function(e){return this.$type.create(e)},n.encode=function(e,t){return this.$type.encode(e,t)},n.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)},n.decode=function(e){return this.$type.decode(e)},n.decodeDelimited=function(e){return this.$type.decodeDelimited(e)},n.verify=function(e){return this.$type.verify(e)},n.fromObject=function(e){return this.$type.fromObject(e)},n.toObject=function(e,t){return this.$type.toObject(e,t)},n.prototype.toJSON=function(){return this.$type.toObject(this,i.toJSONOptions)}},6539:(e,t,r)=>{"use strict";e.exports=s;var i=r(3514);((s.prototype=Object.create(i.prototype)).constructor=s).className="Method";var n=r(4615);function s(e,t,r,s,o,a,A,l,c){if(n.isObject(o)?(A=o,o=a=void 0):n.isObject(a)&&(A=a,a=void 0),!(void 0===t||n.isString(t)))throw TypeError("type must be a string");if(!n.isString(r))throw TypeError("requestType must be a string");if(!n.isString(s))throw TypeError("responseType must be a string");i.call(this,e,A),this.type=t||"rpc",this.requestType=r,this.requestStream=!!o||void 0,this.responseType=s,this.responseStream=!!a||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=l,this.parsedOptions=c}s.fromJSON=function(e,t){return new s(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment,t.parsedOptions)},s.prototype.toJSON=function(e){var t=!!e&&!!e.keepComments;return n.toObject(["type","rpc"!==this.type&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:void 0,"parsedOptions",this.parsedOptions])},s.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),i.prototype.resolve.call(this))}},4943:(e,t,r)=>{"use strict";e.exports=u;var i,n,s,o=r(3514);((u.prototype=Object.create(o.prototype)).constructor=u).className="Namespace";var a=r(7510),A=r(4615),l=r(2695);function c(e,t){if(e&&e.length){for(var r={},i=0;i<e.length;++i)r[e[i].name]=e[i].toJSON(t);return r}}function u(e,t){o.call(this,e,t),this.nested=void 0,this._nestedArray=null,this._lookupCache={},this._needsRecursiveFeatureResolution=!0,this._needsRecursiveResolve=!0}function h(e){e._nestedArray=null,e._lookupCache={};for(var t=e;t=t.parent;)t._lookupCache={};return e}u.fromJSON=function(e,t){return new u(e,t.options).addJSON(t.nested)},u.arrayToJSON=c,u.isReservedId=function(e,t){if(e){for(var r=0;r<e.length;++r)if("string"!=typeof e[r]&&e[r][0]<=t&&e[r][1]>t)return!0}return!1},u.isReservedName=function(e,t){if(e){for(var r=0;r<e.length;++r)if(e[r]===t)return!0}return!1},Object.defineProperty(u.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=A.toArray(this.nested))}}),u.prototype.toJSON=function(e){return A.toObject(["options",this.options,"nested",c(this.nestedArray,e)])},u.prototype.addJSON=function(e){var t=this;if(e)for(var r,o=Object.keys(e),A=0;A<o.length;++A)r=e[o[A]],t.add((void 0!==r.fields?i.fromJSON:void 0!==r.values?s.fromJSON:void 0!==r.methods?n.fromJSON:void 0!==r.id?a.fromJSON:u.fromJSON)(o[A],r));return this},u.prototype.get=function(e){return this.nested&&this.nested[e]||null},u.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof s)return this.nested[e].values;throw Error("no such enum: "+e)},u.prototype.add=function(e){if(!(e instanceof a&&void 0!==e.extend||e instanceof i||e instanceof l||e instanceof s||e instanceof n||e instanceof u))throw TypeError("object must be a valid nested object");if(this.nested){var t=this.get(e.name);if(t){if(t instanceof u&&e instanceof u&&!(t instanceof i||t instanceof n)){for(var r=t.nestedArray,o=0;o<r.length;++o)e.add(r[o]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}else throw Error("duplicate name '"+e.name+"' in "+this)}}else this.nested={};this.nested[e.name]=e,this instanceof i||this instanceof n||this instanceof s||this instanceof a||e._edition||(e._edition=e._defaultEdition),this._needsRecursiveFeatureResolution=!0,this._needsRecursiveResolve=!0;for(var A=this;A=A.parent;)A._needsRecursiveFeatureResolution=!0,A._needsRecursiveResolve=!0;return e.onAdd(this),h(this)},u.prototype.remove=function(e){if(!(e instanceof o))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),h(this)},u.prototype.define=function(e,t){if(A.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&""===e[0])throw Error("path must be relative");for(var r=this;e.length>0;){var i=e.shift();if(r.nested&&r.nested[i]){if(!((r=r.nested[i])instanceof u))throw Error("path conflicts with non-namespace objects")}else r.add(r=new u(i))}return t&&r.addJSON(t),r},u.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;this._resolveFeaturesRecursive(this._edition);var e=this.nestedArray,t=0;for(this.resolve();t<e.length;)e[t]instanceof u?e[t++].resolveAll():e[t++].resolve();return this._needsRecursiveResolve=!1,this},u.prototype._resolveFeaturesRecursive=function(e){return this._needsRecursiveFeatureResolution&&(this._needsRecursiveFeatureResolution=!1,e=this._edition||e,o.prototype._resolveFeaturesRecursive.call(this,e),this.nestedArray.forEach(t=>{t._resolveFeaturesRecursive(e)})),this},u.prototype.lookup=function(e,t,r){if("boolean"==typeof t?(r=t,t=void 0):t&&!Array.isArray(t)&&(t=[t]),A.isString(e)&&e.length){if("."===e)return this.root;e=e.split(".")}else if(!e.length)return this;var i=e.join(".");if(""===e[0])return this.root.lookup(e.slice(1),t);var n=this.root._fullyQualifiedObjects&&this.root._fullyQualifiedObjects["."+i];if(n&&(!t||t.indexOf(n.constructor)>-1)||(n=this._lookupImpl(e,i))&&(!t||t.indexOf(n.constructor)>-1))return n;if(r)return null;for(var s=this;s.parent;){if((n=s.parent._lookupImpl(e,i))&&(!t||t.indexOf(n.constructor)>-1))return n;s=s.parent}return null},u.prototype._lookupImpl=function(e,t){if(Object.prototype.hasOwnProperty.call(this._lookupCache,t))return this._lookupCache[t];var r=this.get(e[0]),i=null;if(r)1===e.length?i=r:r instanceof u&&(e=e.slice(1),i=r._lookupImpl(e,e.join(".")));else for(var n=0;n<this.nestedArray.length;++n)this._nestedArray[n]instanceof u&&(r=this._nestedArray[n]._lookupImpl(e,t))&&(i=r);return this._lookupCache[t]=i,i},u.prototype.lookupType=function(e){var t=this.lookup(e,[i]);if(!t)throw Error("no such type: "+e);return t},u.prototype.lookupEnum=function(e){var t=this.lookup(e,[s]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t},u.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[i,s]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t},u.prototype.lookupService=function(e){var t=this.lookup(e,[n]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t},u._configure=function(e,t,r){i=e,n=t,s=r}},3514:(e,t,r)=>{"use strict";e.exports=l,l.className="ReflectionObject";let i=r(2695);var n,s=r(4615),o={enum_type:"OPEN",field_presence:"EXPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY"},a={enum_type:"CLOSED",field_presence:"EXPLICIT",json_format:"LEGACY_BEST_EFFORT",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"EXPANDED",utf8_validation:"NONE"},A={enum_type:"OPEN",field_presence:"IMPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY"};function l(e,t){if(!s.isString(e))throw TypeError("name must be a string");if(t&&!s.isObject(t))throw TypeError("options must be an object");this.options=t,this.parsedOptions=null,this.name=e,this._edition=null,this._defaultEdition="proto2",this._features={},this._featuresResolved=!1,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(l.prototype,{root:{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}},fullName:{get:function(){for(var e=[this.name],t=this.parent;t;)e.unshift(t.name),t=t.parent;return e.join(".")}}}),l.prototype.toJSON=function(){throw Error()},l.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof n&&t._handleAdd(this)},l.prototype.onRemove=function(e){var t=e.root;t instanceof n&&t._handleRemove(this),this.parent=null,this.resolved=!1},l.prototype.resolve=function(){return this.resolved||this.root instanceof n&&(this.resolved=!0),this},l.prototype._resolveFeaturesRecursive=function(e){return this._resolveFeatures(this._edition||e)},l.prototype._resolveFeatures=function(e){if(!this._featuresResolved){var t={};if(!e)throw Error("Unknown edition for "+this.fullName);var r=Object.assign(this.options?Object.assign({},this.options.features):{},this._inferLegacyProtoFeatures(e));if(this._edition){if("proto2"===e)t=Object.assign({},a);else if("proto3"===e)t=Object.assign({},A);else if("2023"===e)t=Object.assign({},o);else throw Error("Unknown edition: "+e);this._features=Object.assign(t,r||{}),this._featuresResolved=!0;return}if(this.partOf instanceof i){var n=Object.assign({},this.partOf._features);this._features=Object.assign(n,r||{})}else if(this.declaringField);else if(this.parent){var s=Object.assign({},this.parent._features);this._features=Object.assign(s,r||{})}else throw Error("Unable to find a parent for "+this.fullName);this.extensionField&&(this.extensionField._features=this._features),this._featuresResolved=!0}},l.prototype._inferLegacyProtoFeatures=function(){return{}},l.prototype.getOption=function(e){if(this.options)return this.options[e]},l.prototype.setOption=function(e,t,r){return this.options||(this.options={}),/^features\./.test(e)?s.setProperty(this.options,e,t,r):r&&void 0!==this.options[e]||(this.getOption(e)!==t&&(this.resolved=!1),this.options[e]=t),this},l.prototype.setParsedOption=function(e,t,r){this.parsedOptions||(this.parsedOptions=[]);var i=this.parsedOptions;if(r){var n=i.find(function(t){return Object.prototype.hasOwnProperty.call(t,e)});if(n){var o=n[e];s.setProperty(o,r,t)}else(n={})[e]=s.setProperty({},r,t),i.push(n)}else{var a={};a[e]=t,i.push(a)}return this},l.prototype.setOptions=function(e,t){if(e)for(var r=Object.keys(e),i=0;i<r.length;++i)this.setOption(r[i],e[r[i]],t);return this},l.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e},l.prototype._editionToJSON=function(){if(this._edition&&"proto3"!==this._edition)return this._edition},l._configure=function(e){n=e}},2695:(e,t,r)=>{"use strict";e.exports=o;var i=r(3514);((o.prototype=Object.create(i.prototype)).constructor=o).className="OneOf";var n=r(7510),s=r(4615);function o(e,t,r,n){if(Array.isArray(t)||(r=t,t=void 0),i.call(this,e,r),!(void 0===t||Array.isArray(t)))throw TypeError("fieldNames must be an Array");this.oneof=t||[],this.fieldsArray=[],this.comment=n}function a(e){if(e.parent)for(var t=0;t<e.fieldsArray.length;++t)e.fieldsArray[t].parent||e.parent.add(e.fieldsArray[t])}o.fromJSON=function(e,t){return new o(e,t.oneof,t.options,t.comment)},o.prototype.toJSON=function(e){var t=!!e&&!!e.keepComments;return s.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:void 0])},o.prototype.add=function(e){if(!(e instanceof n))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,a(this),this},o.prototype.remove=function(e){if(!(e instanceof n))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),(t=this.oneof.indexOf(e.name))>-1&&this.oneof.splice(t,1),e.partOf=null,this},o.prototype.onAdd=function(e){i.prototype.onAdd.call(this,e);for(var t=this,r=0;r<this.oneof.length;++r){var n=e.get(this.oneof[r]);n&&!n.partOf&&(n.partOf=t,t.fieldsArray.push(n))}a(this)},o.prototype.onRemove=function(e){for(var t,r=0;r<this.fieldsArray.length;++r)(t=this.fieldsArray[r]).parent&&t.parent.remove(t);i.prototype.onRemove.call(this,e)},Object.defineProperty(o.prototype,"isProto3Optional",{get:function(){if(null==this.fieldsArray||1!==this.fieldsArray.length)return!1;var e=this.fieldsArray[0];return null!=e.options&&!0===e.options.proto3_optional}}),o.d=function(){for(var e=Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return function(t,r){s.decorateType(t.constructor).add(new o(r,e)),Object.defineProperty(t,r,{get:s.oneOfGetter(e),set:s.oneOfSetter(e)})}}},6614:(e,t,r)=>{"use strict";e.exports=w,w.filename=null,w.defaults={keepCase:!1};var i=r(9867),n=r(4343),s=r(3839),o=r(7510),a=r(9538),A=r(2695),l=r(1114),c=r(1631),u=r(6539),h=r(3514),d=r(6160),g=r(4615),f=/^[1-9][0-9]*$/,p=/^-?[1-9][0-9]*$/,E=/^0[x][0-9a-fA-F]+$/,C=/^-?0[x][0-9a-fA-F]+$/,I=/^0[0-7]+$/,m=/^-?0[0-7]+$/,B=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,y=/^[a-zA-Z_][a-zA-Z_0-9]*$/,Q=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/;function w(e,t,r){t instanceof n||(r=t,t=new n),r||(r=w.defaults);var v,b,S,T,D=r.preferTrailingComment||!1,R=i(e,r.alternateCommentMode||!1),k=R.next,N=R.push,F=R.peek,M=R.skip,L=R.cmnt,U=!0,_="proto2",x=t,O=[],P={},V=r.keepCase?function(e){return e}:g.camelCase;function G(){O.forEach(e=>{e._edition=_,Object.keys(P).forEach(t=>{void 0===e.getOption(t)&&e.setOption(t,P[t],!0)})})}function Y(e,t,r){var i=w.filename;return r||(w.filename=null),Error("illegal "+(t||"token")+" '"+e+"' ("+(i?i+", ":"")+"line "+R.line+")")}function H(){var e,t=[];do{if('"'!==(e=k())&&"'"!==e)throw Y(e);t.push(k()),M(e),e=F()}while('"'===e||"'"===e);return t.join("")}function J(e){var t=k();switch(t){case"'":case'"':return N(t),H();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return W(t,!0)}catch(r){if(e&&Q.test(t))return t;throw Y(t,"value")}}function q(e,t){do if(t&&('"'===(r=F())||"'"===r)){var r,i,n=H();if(e.push(n),_>=2023)throw Y(n,"id")}else try{e.push([i=j(k()),M("to",!0)?j(k()):i])}catch(i){if(t&&Q.test(r)&&_>=2023)e.push(r);else throw i}while(M(",",!0));var s={options:void 0};s.setOption=function(e,t){void 0===this.options&&(this.options={}),this.options[e]=t},ee(s,function(e){if("option"===e)eA(s,e),M(";");else throw Y(e)},function(){eh(s)})}function W(e,t){var r=1;switch("-"===e.charAt(0)&&(r=-1,e=e.substring(1)),e){case"inf":case"INF":case"Inf":return 1/0*r;case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(f.test(e))return r*parseInt(e,10);if(E.test(e))return r*parseInt(e,16);if(I.test(e))return r*parseInt(e,8);if(B.test(e))return r*parseFloat(e);throw Y(e,"number",t)}function j(e,t){switch(e){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!t&&"-"===e.charAt(0))throw Y(e,"id");if(p.test(e))return parseInt(e,10);if(C.test(e))return parseInt(e,16);if(m.test(e))return parseInt(e,8);throw Y(e,"id")}function z(){if(void 0!==b)throw Y("package");if(b=k(),!Q.test(b))throw Y(b,"name");x=x.define(b),M(";")}function K(){var e,t=F();switch(t){case"weak":e=T||(T=[]),k();break;case"public":k();default:e=S||(S=[])}t=H(),M(";"),e.push(t)}function Z(){if(M("="),(_=H())<2023)throw Y(_,"syntax");M(";")}function X(){if(M("="),!["2023"].includes(_=H()))throw Y(_,"edition");M(";")}function $(e,t){switch(t){case"option":return eA(e,t),M(";"),!0;case"message":return et(e,t),!0;case"enum":return eo(e,t),!0;case"service":return ed(e,t),!0;case"extend":return ef(e,t),!0}return!1}function ee(e,t,r){var i,n=R.line;if(e&&("string"!=typeof e.comment&&(e.comment=L()),e.filename=w.filename),M("{",!0)){for(;"}"!==(i=k());)t(i);M(";",!0)}else r&&r(),M(";"),e&&("string"!=typeof e.comment||D)&&(e.comment=L(n)||e.comment)}function et(e,t){if(!y.test(t=k()))throw Y(t,"type name");var r=new s(t);ee(r,function(e){if(!$(r,e))switch(e){case"map":en(r,e);break;case"required":if("proto2"!==_)throw Y(e);case"repeated":er(r,e);break;case"optional":if("proto3"===_)er(r,"proto3_optional");else if("proto2"!==_)throw Y(e);else er(r,"optional");break;case"oneof":es(r,e);break;case"extensions":q(r.extensions||(r.extensions=[]));break;case"reserved":q(r.reserved||(r.reserved=[]),!0);break;default:if("proto2"===_||!Q.test(e))throw Y(e);N(e),er(r,"optional")}}),e.add(r),e===x&&O.push(r)}function er(e,t,r){var i=k();if("group"===i){ei(e,t);return}for(;i.endsWith(".")||F().startsWith(".");)i+=k();if(!Q.test(i))throw Y(i,"type");var n=k();if(!y.test(n))throw Y(n,"name");n=V(n),M("=");var s=new o(n,j(k()),i,t,r);if(ee(s,function(e){if("option"===e)eA(s,e),M(";");else throw Y(e)},function(){eh(s)}),"proto3_optional"===t){var a=new A("_"+n);s.setOption("proto3_optional",!0),a.add(s),e.add(a)}else e.add(s);e===x&&O.push(s)}function ei(e,t){if(_>=2023)throw Y("group");var r=k();if(!y.test(r))throw Y(r,"name");var i=g.lcFirst(r);r===i&&(r=g.ucFirst(r)),M("=");var n=j(k()),a=new s(r);a.group=!0;var A=new o(i,n,r,t);A.filename=w.filename,ee(a,function(e){switch(e){case"option":eA(a,e),M(";");break;case"required":case"repeated":er(a,e);break;case"optional":"proto3"===_?er(a,"proto3_optional"):er(a,"optional");break;case"message":et(a,e);break;case"enum":eo(a,e);break;case"reserved":q(a.reserved||(a.reserved=[]),!0);break;default:throw Y(e)}}),e.add(a).add(A)}function en(e){M("<");var t=k();if(void 0===d.mapKey[t])throw Y(t,"type");M(",");var r=k();if(!Q.test(r))throw Y(r,"type");M(">");var i=k();if(!y.test(i))throw Y(i,"name");M("=");var n=new a(V(i),j(k()),t,r);ee(n,function(e){if("option"===e)eA(n,e),M(";");else throw Y(e)},function(){eh(n)}),e.add(n)}function es(e,t){if(!y.test(t=k()))throw Y(t,"name");var r=new A(V(t));ee(r,function(e){"option"===e?(eA(r,e),M(";")):(N(e),er(r,"optional"))}),e.add(r)}function eo(e,t){if(!y.test(t=k()))throw Y(t,"name");var r=new l(t);ee(r,function(e){switch(e){case"option":eA(r,e),M(";");break;case"reserved":q(r.reserved||(r.reserved=[]),!0),void 0===r.reserved&&(r.reserved=[]);break;default:ea(r,e)}}),e.add(r),e===x&&O.push(r)}function ea(e,t){if(!y.test(t))throw Y(t,"name");M("=");var r=j(k(),!0),i={options:void 0};i.getOption=function(e){return this.options[e]},i.setOption=function(e,t){h.prototype.setOption.call(i,e,t)},i.setParsedOption=function(){},ee(i,function(e){if("option"===e)eA(i,e),M(";");else throw Y(e)},function(){eh(i)}),e.add(t,r,i.comment,i.parsedOptions||i.options)}function eA(e,t){var r,i,n=!0;for("option"===t&&(t=k());"="!==t;){if("("===t){var s=k();M(")"),t="("+s+")"}if(n){if(n=!1,t.includes(".")&&!t.includes("(")){var o=t.split(".");r=o[0]+".",t=o[1];continue}r=t}else i=i?i+=t:t;t=k()}var a=el(e,i?r.concat(i):r);i=i&&"."===i[0]?i.slice(1):i,eu(e,r=r&&"."===r[r.length-1]?r.slice(0,-1):r,a,i)}function el(e,t){if(M("{",!0)){for(var r={};!M("}",!0);){if(!y.test(v=k()))throw Y(v,"name");if(null===v)throw Y(v,"end of input");var i,n,s=v;if(M(":",!0),"{"===F())i=el(e,t+"."+v);else if("["===F()){if(i=[],M("[",!0)){do n=J(!0),i.push(n);while(M(",",!0));M("]"),void 0!==n&&ec(e,t+"."+v,n)}}else i=J(!0),ec(e,t+"."+v,i);var o=r[s];o&&(i=[].concat(o).concat(i)),r[s]=i,M(",",!0),M(";",!0)}return r}var a=J(!0);return ec(e,t,a),a}function ec(e,t,r){if(x===e&&/^features\./.test(t)){P[t]=r;return}e.setOption&&e.setOption(t,r)}function eu(e,t,r,i){e.setParsedOption&&e.setParsedOption(t,r,i)}function eh(e){if(M("[",!0)){do eA(e,"option");while(M(",",!0));M("]")}return e}function ed(e,t){if(!y.test(t=k()))throw Y(t,"service name");var r=new c(t);ee(r,function(e){if(!$(r,e)){if("rpc"===e)eg(r,e);else throw Y(e)}}),e.add(r),e===x&&O.push(r)}function eg(e,t){var r=L(),i=t;if(!y.test(t=k()))throw Y(t,"name");var n,s,o,a,A=t;if(M("("),M("stream",!0)&&(s=!0),!Q.test(t=k())||(n=t,M(")"),M("returns"),M("("),M("stream",!0)&&(a=!0),!Q.test(t=k())))throw Y(t);o=t,M(")");var l=new u(A,i,n,o,s,a);l.comment=r,ee(l,function(e){if("option"===e)eA(l,e),M(";");else throw Y(e)}),e.add(l)}function ef(e,t){if(!Q.test(t=k()))throw Y(t,"reference");var r=t;ee(null,function(t){switch(t){case"required":case"repeated":er(e,t,r);break;case"optional":"proto3"===_?er(e,"proto3_optional",r):er(e,"optional",r);break;default:if("proto2"===_||!Q.test(t))throw Y(t);N(t),er(e,"optional",r)}})}for(;null!==(v=k());)switch(v){case"package":if(!U)throw Y(v);z();break;case"import":if(!U)throw Y(v);K();break;case"syntax":if(!U)throw Y(v);Z();break;case"edition":if(!U)throw Y(v);X();break;case"option":eA(x,v),M(";",!0);break;default:if($(x,v)){U=!1;continue}throw Y(v)}return G(),w.filename=null,{package:b,imports:S,weakImports:T,root:t}}},2279:(e,t,r)=>{"use strict";e.exports=A;var i,n=r(745),s=n.LongBits,o=n.utf8;function a(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function A(e){this.buf=e,this.pos=0,this.len=e.length}var l="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new A(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new A(e);throw Error("illegal buffer")},c=function(){return n.Buffer?function(e){return(A.create=function(e){return n.Buffer.isBuffer(e)?new i(e):l(e)})(e)}:l};function u(){var e=new s(0,0),t=0;if(this.len-this.pos>4){for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;t=0}else{for(;t<3;++t){if(this.pos>=this.len)throw a(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}if(this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw a(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function h(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function d(){if(this.pos+8>this.len)throw a(this,8);return new s(h(this.buf,this.pos+=4),h(this.buf,this.pos+=4))}A.create=c(),A.prototype._slice=n.Array.prototype.subarray||n.Array.prototype.slice,A.prototype.uint32=function(){var e=4294967295;return function(){if(e=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(e=(e|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return e}}(),A.prototype.int32=function(){return 0|this.uint32()},A.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},A.prototype.bool=function(){return 0!==this.uint32()},A.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return h(this.buf,this.pos+=4)},A.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return 0|h(this.buf,this.pos+=4)},A.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var e=n.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},A.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var e=n.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},A.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw a(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(t,r);if(t===r){var i=n.Buffer;return i?i.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,t,r)},A.prototype.string=function(){var e=this.bytes();return o.read(e,0,e.length)},A.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw a(this,e);this.pos+=e}else do if(this.pos>=this.len)throw a(this);while(128&this.buf[this.pos++]);return this},A.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},A._configure=function(e){i=e,A.create=c(),i._configure();var t=n.Long?"toLong":"toNumber";n.merge(A.prototype,{int64:function(){return u.call(this)[t](!1)},uint64:function(){return u.call(this)[t](!0)},sint64:function(){return u.call(this).zzDecode()[t](!1)},fixed64:function(){return d.call(this)[t](!0)},sfixed64:function(){return d.call(this)[t](!1)}})}},424:(e,t,r)=>{"use strict";e.exports=s;var i=r(2279);(s.prototype=Object.create(i.prototype)).constructor=s;var n=r(745);function s(e){i.call(this,e)}s._configure=function(){n.Buffer&&(s.prototype._slice=n.Buffer.prototype.slice)},s.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},s._configure()},4343:(e,t,r)=>{"use strict";e.exports=u;var i,n,s,o=r(4943);((u.prototype=Object.create(o.prototype)).constructor=u).className="Root";var a=r(7510),A=r(1114),l=r(2695),c=r(4615);function u(e){o.call(this,"",e),this.deferred=[],this.files=[],this._edition="proto2",this._fullyQualifiedObjects={}}function h(){}u.fromJSON=function(e,t){return t||(t=new u),e.options&&t.setOptions(e.options),t.addJSON(e.nested).resolveAll()},u.prototype.resolvePath=c.path.resolve,u.prototype.fetch=c.fetch,u.prototype.load=function e(t,r,i){"function"==typeof r&&(i=r,r=void 0);var o=this;if(!i)return c.asPromise(e,o,t,r);var a=i===h;function A(e,t){if(i){if(a)throw e;t&&t.resolveAll();var r=i;i=null,r(e,t)}}function l(e){var t=e.lastIndexOf("google/protobuf/");if(t>-1){var r=e.substring(t);if(r in s)return r}return null}function u(e,t){try{if(c.isString(t)&&"{"===t.charAt(0)&&(t=JSON.parse(t)),c.isString(t)){n.filename=e;var i,s=n(t,o,r),u=0;if(s.imports)for(;u<s.imports.length;++u)(i=l(s.imports[u])||o.resolvePath(e,s.imports[u]))&&d(i);if(s.weakImports)for(u=0;u<s.weakImports.length;++u)(i=l(s.weakImports[u])||o.resolvePath(e,s.weakImports[u]))&&d(i,!0)}else o.setOptions(t.options).addJSON(t.nested)}catch(e){A(e)}a||g||A(null,o)}function d(e,t){if(e=l(e)||e,!(o.files.indexOf(e)>-1)){if(o.files.push(e),e in s){a?u(e,s[e]):(++g,setTimeout(function(){--g,u(e,s[e])}));return}if(a){var r;try{r=c.fs.readFileSync(e).toString("utf8")}catch(e){t||A(e);return}u(e,r)}else++g,o.fetch(e,function(r,n){if(--g,i){if(r){t?g||A(null,o):A(r);return}u(e,n)}})}}var g=0;c.isString(t)&&(t=[t]);for(var f,p=0;p<t.length;++p)(f=o.resolvePath("",t[p]))&&d(f);return a?o.resolveAll():g||A(null,o),o},u.prototype.loadSync=function(e,t){if(!c.isNode)throw Error("not supported");return this.load(e,t,h)},u.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(e){return"'extend "+e.extend+"' in "+e.parent.fullName}).join(", "));return o.prototype.resolveAll.call(this)};var d=/^[A-Z]/;function g(e,t){var r=t.parent.lookup(t.extend);if(r){var i=new a(t.fullName,t.id,t.type,t.rule,void 0,t.options);return!!r.get(i.name)||(i.declaringField=t,t.extensionField=i,r.add(i),!0)}return!1}u.prototype._handleAdd=function(e){if(e instanceof a)void 0===e.extend||e.extensionField||g(this,e)||this.deferred.push(e);else if(e instanceof A)d.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof l)){if(e instanceof i)for(var t=0;t<this.deferred.length;)g(this,this.deferred[t])?this.deferred.splice(t,1):++t;for(var r=0;r<e.nestedArray.length;++r)this._handleAdd(e._nestedArray[r]);d.test(e.name)&&(e.parent[e.name]=e)}(e instanceof i||e instanceof A||e instanceof a)&&(this._fullyQualifiedObjects[e.fullName]=e)},u.prototype._handleRemove=function(e){if(e instanceof a){if(void 0!==e.extend){if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);t>-1&&this.deferred.splice(t,1)}}}else if(e instanceof A)d.test(e.name)&&delete e.parent[e.name];else if(e instanceof o){for(var r=0;r<e.nestedArray.length;++r)this._handleRemove(e._nestedArray[r]);d.test(e.name)&&delete e.parent[e.name]}delete this._fullyQualifiedObjects[e.fullName]},u._configure=function(e,t,r){i=e,n=t,s=r}},9694:e=>{"use strict";e.exports={}},4774:(e,t,r)=>{"use strict";t.Service=r(3829)},3829:(e,t,r)=>{"use strict";e.exports=n;var i=r(745);function n(e,t,r){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");i.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=!!t,this.responseDelimited=!!r}(n.prototype=Object.create(i.EventEmitter.prototype)).constructor=n,n.prototype.rpcCall=function e(t,r,n,s,o){if(!s)throw TypeError("request must be specified");var a=this;if(!o)return i.asPromise(e,a,t,r,n,s);if(!a.rpcImpl){setTimeout(function(){o(Error("already ended"))},0);return}try{return a.rpcImpl(t,r[a.requestDelimited?"encodeDelimited":"encode"](s).finish(),function(e,r){if(e)return a.emit("error",e,t),o(e);if(null===r){a.end(!0);return}if(!(r instanceof n))try{r=n[a.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return a.emit("error",e,t),o(e)}return a.emit("data",r,t),o(null,r)})}catch(e){a.emit("error",e,t),setTimeout(function(){o(e)},0);return}},n.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},1631:(e,t,r)=>{"use strict";e.exports=a;var i=r(4943);((a.prototype=Object.create(i.prototype)).constructor=a).className="Service";var n=r(6539),s=r(4615),o=r(4774);function a(e,t){i.call(this,e,t),this.methods={},this._methodsArray=null}function A(e){return e._methodsArray=null,e}a.fromJSON=function(e,t){var r=new a(e,t.options);if(t.methods)for(var i=Object.keys(t.methods),s=0;s<i.length;++s)r.add(n.fromJSON(i[s],t.methods[i[s]]));return t.nested&&r.addJSON(t.nested),t.edition&&(r._edition=t.edition),r.comment=t.comment,r._defaultEdition="proto3",r},a.prototype.toJSON=function(e){var t=i.prototype.toJSON.call(this,e),r=!!e&&!!e.keepComments;return s.toObject(["edition",this._editionToJSON(),"options",t&&t.options||void 0,"methods",i.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||void 0,"comment",r?this.comment:void 0])},Object.defineProperty(a.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=s.toArray(this.methods))}}),a.prototype.get=function(e){return this.methods[e]||i.prototype.get.call(this,e)},a.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;i.prototype.resolve.call(this);for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return this},a.prototype._resolveFeaturesRecursive=function(e){return this._needsRecursiveFeatureResolution&&(e=this._edition||e,i.prototype._resolveFeaturesRecursive.call(this,e),this.methodsArray.forEach(t=>{t._resolveFeaturesRecursive(e)})),this},a.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof n?(this.methods[e.name]=e,e.parent=this,A(this)):i.prototype.add.call(this,e)},a.prototype.remove=function(e){if(e instanceof n){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,A(this)}return i.prototype.remove.call(this,e)},a.prototype.create=function(e,t,r){for(var i,n=new o.Service(e,t,r),a=0;a<this.methodsArray.length;++a){var A=s.lcFirst((i=this._methodsArray[a]).resolve().name).replace(/[^$\w_]/g,"");n[A]=s.codegen(["r","c"],s.isReserved(A)?A+"_":A)("return this.rpcCall(m,q,s,r,c)")({m:i,q:i.resolvedRequestType.ctor,s:i.resolvedResponseType.ctor})}return n}},9867:e=>{"use strict";e.exports=u;var t=/[\s{}=;:[\],'"()<>]/g,r=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,i=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,n=/^ *[*/]+ */,s=/^\s*\*?\/*/,o=/\n/g,a=/\s/,A=/\\(.?)/g,l={0:"\0",r:"\r",n:"\n",t:"	"};function c(e){return e.replace(A,function(e,t){switch(t){case"\\":case"":return t;default:return l[t]||""}})}function u(e,A){e=e.toString();var l=0,u=e.length,h=1,d=0,g={},f=[],p=null;function E(e){return Error("illegal "+e+" (line "+h+")")}function C(){var t="'"===p?i:r;t.lastIndex=l-1;var n=t.exec(e);if(!n)throw E("string");return l=t.lastIndex,w(p),p=null,c(n[1])}function I(t){return e.charAt(t)}function m(t,r,i){var a,l,c={type:e.charAt(t++),lineEmpty:!1,leading:i},u=t-(a=A?2:3);do if(--u<0||"\n"===(l=e.charAt(u))){c.lineEmpty=!0;break}while(" "===l||"	"===l);for(var f=e.substring(t,r).split(o),p=0;p<f.length;++p)f[p]=f[p].replace(A?s:n,"").trim();c.text=f.join("\n").trim(),g[h]=c,d=h}function B(t){var r=y(t),i=e.substring(t,r);return/^\s*\/\//.test(i)}function y(e){for(var t=e;t<u&&"\n"!==I(t);)t++;return t}function Q(){if(f.length>0)return f.shift();if(p)return C();var r,i,n,s,o,c=0===l;do{if(l===u)return null;for(r=!1;a.test(n=I(l));)if("\n"===n&&(c=!0,++h),++l===u)return null;if("/"===I(l)){if(++l===u)throw E("comment");if("/"===I(l)){if(A){if(s=l,o=!1,B(l-1)){o=!0;do if((l=y(l))===u||(l++,!c))break;while(B(l))}else l=Math.min(u,y(l)+1);o&&(m(s,l,c),c=!0),h++,r=!0}else{for(o="/"===I(s=l+1);"\n"!==I(++l);)if(l===u)return null;++l,o&&(m(s,l-1,c),c=!0),++h,r=!0}}else{if("*"!==(n=I(l)))return"/";s=l+1,o=A||"*"===I(s);do{if("\n"===n&&++h,++l===u)throw E("comment");i=n,n=I(l)}while("*"!==i||"/"!==n);++l,o&&(m(s,l-2,c),c=!0),r=!0}}}while(r);var d=l;if(t.lastIndex=0,!t.test(I(d++)))for(;d<u&&!t.test(I(d));)++d;var g=e.substring(l,l=d);return('"'===g||"'"===g)&&(p=g),g}function w(e){f.push(e)}function v(){if(!f.length){var e=Q();if(null===e)return null;w(e)}return f[0]}function b(e,t){var r=v();if(r===e)return Q(),!0;if(!t)throw E("token '"+r+"', '"+e+"' expected");return!1}function S(e){var t,r=null;return void 0===e?(t=g[h-1],delete g[h-1],t&&(A||"*"===t.type||t.lineEmpty)&&(r=t.leading?t.text:null)):(d<e&&v(),t=g[e],delete g[e],t&&!t.lineEmpty&&(A||"/"===t.type)&&(r=t.leading?null:t.text)),r}return Object.defineProperty({next:Q,peek:v,push:w,skip:b,cmnt:S},"line",{get:function(){return h}})}u.unescape=c},3839:(e,t,r)=>{"use strict";e.exports=C;var i=r(4943);((C.prototype=Object.create(i.prototype)).constructor=C).className="Type";var n=r(1114),s=r(2695),o=r(7510),a=r(9538),A=r(1631),l=r(2936),c=r(2279),u=r(8458),h=r(4615),d=r(8455),g=r(1526),f=r(1506),p=r(5711),E=r(9579);function C(e,t){i.call(this,e,t),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function I(e){return e._fieldsById=e._fieldsArray=e._oneofsArray=null,delete e.encode,delete e.decode,delete e.verify,e}Object.defineProperties(C.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var e=Object.keys(this.fields),t=0;t<e.length;++t){var r=this.fields[e[t]],i=r.id;if(this._fieldsById[i])throw Error("duplicate id "+i+" in "+this);this._fieldsById[i]=r}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=h.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=h.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=C.generateConstructor(this)())},set:function(e){var t=e.prototype;t instanceof l||((e.prototype=new l).constructor=e,h.merge(e.prototype,t)),e.$type=e.prototype.$type=this,h.merge(e,l,!0),this._ctor=e;for(var r=0;r<this.fieldsArray.length;++r)this._fieldsArray[r].resolve();var i={};for(r=0;r<this.oneofsArray.length;++r)i[this._oneofsArray[r].resolve().name]={get:h.oneOfGetter(this._oneofsArray[r].oneof),set:h.oneOfSetter(this._oneofsArray[r].oneof)};r&&Object.defineProperties(e.prototype,i)}}}),C.generateConstructor=function(e){for(var t,r=h.codegen(["p"],e.name),i=0;i<e.fieldsArray.length;++i)(t=e._fieldsArray[i]).map?r("this%s={}",h.safeProp(t.name)):t.repeated&&r("this%s=[]",h.safeProp(t.name));return r("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},C.fromJSON=function(e,t){var r=new C(e,t.options);r.extensions=t.extensions,r.reserved=t.reserved;for(var l=Object.keys(t.fields),c=0;c<l.length;++c)r.add((void 0!==t.fields[l[c]].keyType?a.fromJSON:o.fromJSON)(l[c],t.fields[l[c]]));if(t.oneofs)for(l=Object.keys(t.oneofs),c=0;c<l.length;++c)r.add(s.fromJSON(l[c],t.oneofs[l[c]]));if(t.nested)for(l=Object.keys(t.nested),c=0;c<l.length;++c){var u=t.nested[l[c]];r.add((void 0!==u.id?o.fromJSON:void 0!==u.fields?C.fromJSON:void 0!==u.values?n.fromJSON:void 0!==u.methods?A.fromJSON:i.fromJSON)(l[c],u))}return t.extensions&&t.extensions.length&&(r.extensions=t.extensions),t.reserved&&t.reserved.length&&(r.reserved=t.reserved),t.group&&(r.group=!0),t.comment&&(r.comment=t.comment),t.edition&&(r._edition=t.edition),r._defaultEdition="proto3",r},C.prototype.toJSON=function(e){var t=i.prototype.toJSON.call(this,e),r=!!e&&!!e.keepComments;return h.toObject(["edition",this._editionToJSON(),"options",t&&t.options||void 0,"oneofs",i.arrayToJSON(this.oneofsArray,e),"fields",i.arrayToJSON(this.fieldsArray.filter(function(e){return!e.declaringField}),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",t&&t.nested||void 0,"comment",r?this.comment:void 0])},C.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;i.prototype.resolveAll.call(this);var e=this.oneofsArray;for(r=0;r<e.length;)e[r++].resolve();for(var t=this.fieldsArray,r=0;r<t.length;)t[r++].resolve();return this},C.prototype._resolveFeaturesRecursive=function(e){return this._needsRecursiveFeatureResolution&&(e=this._edition||e,i.prototype._resolveFeaturesRecursive.call(this,e),this.oneofsArray.forEach(t=>{t._resolveFeatures(e)}),this.fieldsArray.forEach(t=>{t._resolveFeatures(e)})),this},C.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null},C.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof o&&void 0===e.extend){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),I(this)}return e instanceof s?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),I(this)):i.prototype.add.call(this,e)},C.prototype.remove=function(e){if(e instanceof o&&void 0===e.extend){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),I(this)}if(e instanceof s){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),I(this)}return i.prototype.remove.call(this,e)},C.prototype.isReservedId=function(e){return i.isReservedId(this.reserved,e)},C.prototype.isReservedName=function(e){return i.isReservedName(this.reserved,e)},C.prototype.create=function(e){return new this.ctor(e)},C.prototype.setup=function(){for(var e=this.fullName,t=[],r=0;r<this.fieldsArray.length;++r)t.push(this._fieldsArray[r].resolve().resolvedType);this.encode=d(this)({Writer:u,types:t,util:h}),this.decode=g(this)({Reader:c,types:t,util:h}),this.verify=f(this)({types:t,util:h}),this.fromObject=p.fromObject(this)({types:t,util:h}),this.toObject=p.toObject(this)({types:t,util:h});var i=E[e];if(i){var n=Object.create(this);n.fromObject=this.fromObject,this.fromObject=i.fromObject.bind(n),n.toObject=this.toObject,this.toObject=i.toObject.bind(n)}return this},C.prototype.encode=function(e,t){return this.setup().encode(e,t)},C.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()},C.prototype.decode=function(e,t){return this.setup().decode(e,t)},C.prototype.decodeDelimited=function(e){return e instanceof c||(e=c.create(e)),this.decode(e,e.uint32())},C.prototype.verify=function(e){return this.setup().verify(e)},C.prototype.fromObject=function(e){return this.setup().fromObject(e)},C.prototype.toObject=function(e,t){return this.setup().toObject(e,t)},C.d=function(e){return function(t){h.decorateType(t,e)}}},6160:(e,t,r)=>{"use strict";var i=t,n=r(4615),s=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function o(e,t){var r=0,i={};for(t|=0;r<e.length;)i[s[r+t]]=e[r++];return i}i.basic=o([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),i.defaults=o([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",n.emptyArray,null]),i.long=o([0,0,0,1,1],7),i.mapKey=o([0,0,0,5,5,0,0,0,1,1,0,2],2),i.packed=o([1,5,0,0,0,5,5,0,0,0,1,1,0])},4615:(e,t,r)=>{"use strict";var i,n,s=e.exports=r(745),o=r(9694);s.codegen=r(696),s.fetch=r(7828),s.path=r(2727),s.fs=s.inquire("fs"),s.toArray=function(e){if(e){for(var t=Object.keys(e),r=Array(t.length),i=0;i<t.length;)r[i]=e[t[i++]];return r}return[]},s.toObject=function(e){for(var t={},r=0;r<e.length;){var i=e[r++],n=e[r++];void 0!==n&&(t[i]=n)}return t};var a=/\\/g,A=/"/g;s.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)},s.safeProp=function(e){return!/^[$\w_]+$/.test(e)||s.isReserved(e)?'["'+e.replace(a,"\\\\").replace(A,'\\"')+'"]':"."+e},s.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var l=/_([a-z])/g;s.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(l,function(e,t){return t.toUpperCase()})},s.compareFieldsById=function(e,t){return e.id-t.id},s.decorateType=function(e,t){if(e.$type)return t&&e.$type.name!==t&&(s.decorateRoot.remove(e.$type),e.$type.name=t,s.decorateRoot.add(e.$type)),e.$type;i||(i=r(3839));var n=new i(t||e.name);return s.decorateRoot.add(n),n.ctor=e,Object.defineProperty(e,"$type",{value:n,enumerable:!1}),Object.defineProperty(e.prototype,"$type",{value:n,enumerable:!1}),n};var c=0;s.decorateEnum=function(e){if(e.$type)return e.$type;n||(n=r(1114));var t=new n("Enum"+c++,e);return s.decorateRoot.add(t),Object.defineProperty(e,"$type",{value:t,enumerable:!1}),t},s.setProperty=function(e,t,r,i){function n(e,t,r){var s=t.shift();if("__proto__"===s||"prototype"===s)return e;if(t.length>0)e[s]=n(e[s]||{},t,r);else{var o=e[s];if(o&&i)return e;o&&(r=[].concat(o).concat(r)),e[s]=r}return e}if("object"!=typeof e)throw TypeError("dst must be an object");if(!t)throw TypeError("path must be specified");return n(e,t=t.split("."),r)},Object.defineProperty(s,"decorateRoot",{get:function(){return o.decorated||(o.decorated=new(r(4343)))}})},3674:(e,t,r)=>{"use strict";e.exports=n;var i=r(745);function n(e,t){this.lo=e>>>0,this.hi=t>>>0}var s=n.zero=new n(0,0);s.toNumber=function(){return 0},s.zzEncode=s.zzDecode=function(){return this},s.length=function(){return 1};var o=n.zeroHash="\0\0\0\0\0\0\0\0";n.fromNumber=function(e){if(0===e)return s;var t=e<0;t&&(e=-e);var r=e>>>0,i=(e-r)/4294967296>>>0;return t&&(i=~i>>>0,r=~r>>>0,++r>4294967295&&(r=0,++i>4294967295&&(i=0))),new n(r,i)},n.from=function(e){if("number"==typeof e)return n.fromNumber(e);if(i.isString(e)){if(!i.Long)return n.fromNumber(parseInt(e,10));e=i.Long.fromString(e)}return e.low||e.high?new n(e.low>>>0,e.high>>>0):s},n.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=~this.lo+1>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},n.prototype.toLong=function(e){return i.Long?new i.Long(0|this.lo,0|this.hi,!!e):{low:0|this.lo,high:0|this.hi,unsigned:!!e}};var a=String.prototype.charCodeAt;n.fromHash=function(e){return e===o?s:new n((a.call(e,0)|a.call(e,1)<<8|a.call(e,2)<<16|a.call(e,3)<<24)>>>0,(a.call(e,4)|a.call(e,5)<<8|a.call(e,6)<<16|a.call(e,7)<<24)>>>0)},n.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},n.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},n.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},n.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}},745:function(e,t,r){"use strict";var i=t;function n(e,t,r){for(var i=Object.keys(t),n=0;n<i.length;++n)void 0!==e[i[n]]&&r||(e[i[n]]=t[i[n]]);return e}function s(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:Error().stack||""}),r&&n(this,r)}return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return e},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),t}i.asPromise=r(1417),i.base64=r(5386),i.EventEmitter=r(3478),i.float=r(5256),i.inquire=r(1374),i.utf8=r(3670),i.pool=r(6733),i.LongBits=r(3674),i.isNode=!!("undefined"!=typeof global&&global&&global.process&&global.process.versions&&global.process.versions.node),i.global=i.isNode&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,i.emptyArray=Object.freeze?Object.freeze([]):[],i.emptyObject=Object.freeze?Object.freeze({}):{},i.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},i.isString=function(e){return"string"==typeof e||e instanceof String},i.isObject=function(e){return e&&"object"==typeof e},i.isset=i.isSet=function(e,t){var r=e[t];return!!(null!=r&&e.hasOwnProperty(t))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},i.Buffer=function(){try{var e=i.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),i._Buffer_from=null,i._Buffer_allocUnsafe=null,i.newBuffer=function(e){return"number"==typeof e?i.Buffer?i._Buffer_allocUnsafe(e):new i.Array(e):i.Buffer?i._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},i.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,i.Long=i.global.dcodeIO&&i.global.dcodeIO.Long||i.global.Long||i.inquire("long"),i.key2Re=/^true|false|0|1$/,i.key32Re=/^-?(?:0|[1-9][0-9]*)$/,i.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,i.longToHash=function(e){return e?i.LongBits.from(e).toHash():i.LongBits.zeroHash},i.longFromHash=function(e,t){var r=i.LongBits.fromHash(e);return i.Long?i.Long.fromBits(r.lo,r.hi,t):r.toNumber(!!t)},i.merge=n,i.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},i.newError=s,i.ProtocolError=s("ProtocolError"),i.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},i.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},i.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},i._configure=function(){var e=i.Buffer;if(!e){i._Buffer_from=i._Buffer_allocUnsafe=null;return}i._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},i._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}}},1506:(e,t,r)=>{"use strict";e.exports=A;var i=r(1114),n=r(4615);function s(e,t){return e.name+": "+t+(e.repeated&&"array"!==t?"[]":e.map&&"object"!==t?"{k:"+e.keyType+"}":"")+" expected"}function o(e,t,r,n){if(t.resolvedType){if(t.resolvedType instanceof i){e("switch(%s){",n)("default:")("return%j",s(t,"enum value"));for(var o=Object.keys(t.resolvedType.values),a=0;a<o.length;++a)e("case %i:",t.resolvedType.values[o[a]]);e("break")("}")}else e("{")("var e=types[%i].verify(%s);",r,n)("if(e)")("return%j+e",t.name+".")("}")}else switch(t.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.isInteger(%s))",n)("return%j",s(t,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",n,n,n,n)("return%j",s(t,"integer|Long"));break;case"float":case"double":e('if(typeof %s!=="number")',n)("return%j",s(t,"number"));break;case"bool":e('if(typeof %s!=="boolean")',n)("return%j",s(t,"boolean"));break;case"string":e("if(!util.isString(%s))",n)("return%j",s(t,"string"));break;case"bytes":e('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',n,n,n)("return%j",s(t,"buffer"))}return e}function a(e,t,r){switch(t.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.key32Re.test(%s))",r)("return%j",s(t,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.key64Re.test(%s))",r)("return%j",s(t,"integer|Long key"));break;case"bool":e("if(!util.key2Re.test(%s))",r)("return%j",s(t,"boolean key"))}return e}function A(e){var t=n.codegen(["m"],e.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),r=e.oneofsArray,i={};r.length&&t("var p={}");for(var A=0;A<e.fieldsArray.length;++A){var l=e._fieldsArray[A].resolve(),c="m"+n.safeProp(l.name);if(l.optional&&t("if(%s!=null&&m.hasOwnProperty(%j)){",c,l.name),l.map)t("if(!util.isObject(%s))",c)("return%j",s(l,"object"))("var k=Object.keys(%s)",c)("for(var i=0;i<k.length;++i){"),a(t,l,"k[i]"),o(t,l,A,c+"[k[i]]")("}");else if(l.repeated)t("if(!Array.isArray(%s))",c)("return%j",s(l,"array"))("for(var i=0;i<%s.length;++i){",c),o(t,l,A,c+"[i]")("}");else{if(l.partOf){var u=n.safeProp(l.partOf.name);1===i[l.partOf.name]&&t("if(p%s===1)",u)("return%j",l.partOf.name+": multiple values"),i[l.partOf.name]=1,t("p%s=1",u)}o(t,l,A,c)}l.optional&&t("}")}return t("return null")}},9579:(e,t,r)=>{"use strict";var i=t,n=r(2936);i[".google.protobuf.Any"]={fromObject:function(e){if(e&&e["@type"]){var t=e["@type"].substring(e["@type"].lastIndexOf("/")+1),r=this.lookup(t);if(r){var i="."===e["@type"].charAt(0)?e["@type"].slice(1):e["@type"];return -1===i.indexOf("/")&&(i="/"+i),this.create({type_url:i,value:r.encode(r.fromObject(e)).finish()})}}return this.fromObject(e)},toObject:function(e,t){var r="type.googleapis.com/",i="",s="";if(t&&t.json&&e.type_url&&e.value){s=e.type_url.substring(e.type_url.lastIndexOf("/")+1),i=e.type_url.substring(0,e.type_url.lastIndexOf("/")+1);var o=this.lookup(s);o&&(e=o.decode(e.value))}if(!(e instanceof this.ctor)&&e instanceof n){var a=e.$type.toObject(e,t),A="."===e.$type.fullName[0]?e.$type.fullName.slice(1):e.$type.fullName;return""===i&&(i=r),s=i+A,a["@type"]=s,a}return this.toObject(e,t)}}},8458:(e,t,r)=>{"use strict";e.exports=u;var i,n=r(745),s=n.LongBits,o=n.base64,a=n.utf8;function A(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function l(){}function c(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function u(){this.len=0,this.head=new A(l,0,0),this.tail=this.head,this.states=null}var h=function(){return n.Buffer?function(){return(u.create=function(){return new i})()}:function(){return new u}};function d(e,t,r){t[r]=255&e}function g(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e}function f(e,t){this.len=e,this.next=void 0,this.val=t}function p(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function E(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}u.create=h(),u.alloc=function(e){return new n.Array(e)},n.Array!==Array&&(u.alloc=n.pool(u.alloc,n.Array.prototype.subarray)),u.prototype._push=function(e,t,r){return this.tail=this.tail.next=new A(e,t,r),this.len+=t,this},f.prototype=Object.create(A.prototype),f.prototype.fn=g,u.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new f((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},u.prototype.int32=function(e){return e<0?this._push(p,10,s.fromNumber(e)):this.uint32(e)},u.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},u.prototype.uint64=function(e){var t=s.from(e);return this._push(p,t.length(),t)},u.prototype.int64=u.prototype.uint64,u.prototype.sint64=function(e){var t=s.from(e).zzEncode();return this._push(p,t.length(),t)},u.prototype.bool=function(e){return this._push(d,1,e?1:0)},u.prototype.fixed32=function(e){return this._push(E,4,e>>>0)},u.prototype.sfixed32=u.prototype.fixed32,u.prototype.fixed64=function(e){var t=s.from(e);return this._push(E,4,t.lo)._push(E,4,t.hi)},u.prototype.sfixed64=u.prototype.fixed64,u.prototype.float=function(e){return this._push(n.float.writeFloatLE,4,e)},u.prototype.double=function(e){return this._push(n.float.writeDoubleLE,8,e)};var C=n.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var i=0;i<e.length;++i)t[r+i]=e[i]};u.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(d,1,0);if(n.isString(e)){var r=u.alloc(t=o.length(e));o.decode(e,r,0),e=r}return this.uint32(t)._push(C,t,e)},u.prototype.string=function(e){var t=a.length(e);return t?this.uint32(t)._push(a.write,t,e):this._push(d,1,0)},u.prototype.fork=function(){return this.states=new c(this),this.head=this.tail=new A(l,0,0),this.len=0,this},u.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new A(l,0,0),this.len=0),this},u.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},u.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},u._configure=function(e){i=e,u.create=h(),i._configure()}},8386:(e,t,r)=>{"use strict";e.exports=s;var i=r(8458);(s.prototype=Object.create(i.prototype)).constructor=s;var n=r(745);function s(){i.call(this)}function o(e,t,r){e.length<40?n.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}s._configure=function(){s.alloc=n._Buffer_allocUnsafe,s.writeBytesBuffer=n.Buffer&&n.Buffer.prototype instanceof Uint8Array&&"set"===n.Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var i=0;i<e.length;)t[r++]=e[i++]}},s.prototype.bytes=function(e){n.isString(e)&&(e=n._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(s.writeBytesBuffer,t,e),this},s.prototype.string=function(e){var t=n.Buffer.byteLength(e);return this.uint32(t),t&&this._push(o,t,e),this},s._configure()},3962:(e,t,r)=>{"use strict";var i;let n=r(2098),s=r(9296),o=r(304),a=r(5349),A=r(8031),l=r(7688),c=r(5791),u=r(1398),h=r(2665),d=r(7211),{InvalidArgumentError:g}=h,f=r(2368),p=r(6157),E=r(7676),C=r(9590),I=r(2417),m=r(5286),B=r(5986),{getGlobalDispatcher:y,setGlobalDispatcher:Q}=r(2051),w=r(4165),v=r(9200),b=r(1224);function S(e){return(t,r,i)=>{if("function"==typeof r&&(i=r,r=null),!t||"string"!=typeof t&&"object"!=typeof t&&!(t instanceof URL))throw new g("invalid url");if(null!=r&&"object"!=typeof r)throw new g("invalid opts");if(r&&null!=r.path){if("string"!=typeof r.path)throw new g("invalid opts.path");let e=r.path;r.path.startsWith("/")||(e=`/${e}`),t=new URL(d.parseOrigin(t).origin+e)}else r||(r="object"==typeof t?t:{}),t=d.parseURL(t);let{agent:n,dispatcher:s=y()}=r;if(n)throw new g("unsupported opts.agent. Did you mean opts.client?");return e.call(s,{...r,origin:t.origin,path:t.search?`${t.pathname}${t.search}`:t.pathname,method:r.method||(r.body?"PUT":"GET")},i)}}Object.assign(s.prototype,f),i=s,i=n,i=o,i=a,i=A,i=l,i=c,i=u,i=B,i=w,i=v,i=b,i={redirect:r(246),retry:r(3655),dump:r(8861)},i=p,i=h,i={parseHeaders:d.parseHeaders,headerNameToString:d.headerNameToString},i=Q,i=y;let T=r(6531).fetch;e.exports.he=async function(e,t){try{return await T(e,t)}catch(e){throw e&&"object"==typeof e&&Error.captureStackTrace(e),e}},e.exports.Headers=r(5609).Headers,e.exports.Response=r(1119).Response,r(2236).Request,r(744).FormData,i=globalThis.File??r(2254).File,r(3712).FileReader;let{setGlobalOrigin:D,getGlobalOrigin:R}=r(2047);i=D,i=R;let{CacheStorage:k}=r(8643),{kConstruct:N}=r(6635);i=new k(N);let{deleteCookie:F,getCookies:M,getSetCookies:L,setCookie:U}=r(5049);i=F,i=M,i=L,i=U;let{parseMIMEType:_,serializeAMimeType:x}=r(8097);i=_,i=x;let{CloseEvent:O,ErrorEvent:P,MessageEvent:V}=r(7826);r(2563).WebSocket,i=O,i=P,i=V,i=S(f.request),i=S(f.stream),i=S(f.pipeline),i=S(f.connect),i=S(f.upgrade),i=E,i=I,i=C,i=m;let{EventSource:G}=r(5444);i=G},1482:(e,t,r)=>{let{addAbortListener:i}=r(7211),{RequestAbortedError:n}=r(2665),s=Symbol("kListener"),o=Symbol("kSignal");function a(e){e.abort?e.abort(e[o]?.reason):e.reason=e[o]?.reason??new n,l(e)}function A(e,t){if(e.reason=null,e[o]=null,e[s]=null,t){if(t.aborted){a(e);return}e[o]=t,e[s]=()=>{a(e)},i(e[o],e[s])}}function l(e){e[o]&&("removeEventListener"in e[o]?e[o].removeEventListener("abort",e[s]):e[o].removeListener("abort",e[s]),e[o]=null,e[s]=null)}e.exports={addSignal:A,removeSignal:l}},9695:(e,t,r)=>{"use strict";let i=r(8061),{AsyncResource:n}=r(2761),{InvalidArgumentError:s,SocketError:o}=r(2665),a=r(7211),{addSignal:A,removeSignal:l}=r(1482);class c extends n{constructor(e,t){if(!e||"object"!=typeof e)throw new s("invalid opts");if("function"!=typeof t)throw new s("invalid callback");let{signal:r,opaque:i,responseHeaders:n}=e;if(r&&"function"!=typeof r.on&&"function"!=typeof r.addEventListener)throw new s("signal must be an EventEmitter or EventTarget");super("UNDICI_CONNECT"),this.opaque=i||null,this.responseHeaders=n||null,this.callback=t,this.abort=null,A(this,r)}onConnect(e,t){if(this.reason){e(this.reason);return}i(this.callback),this.abort=e,this.context=t}onHeaders(){throw new o("bad connect",null)}onUpgrade(e,t,r){let{callback:i,opaque:n,context:s}=this;l(this),this.callback=null;let o=t;null!=o&&(o="raw"===this.responseHeaders?a.parseRawHeaders(t):a.parseHeaders(t)),this.runInAsyncScope(i,null,null,{statusCode:e,headers:o,socket:r,opaque:n,context:s})}onError(e){let{callback:t,opaque:r}=this;l(this),t&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(t,null,e,{opaque:r})}))}}function u(e,t){if(void 0===t)return new Promise((t,r)=>{u.call(this,e,(e,i)=>e?r(e):t(i))});try{let r=new c(e,t);this.dispatch({...e,method:"CONNECT"},r)}catch(i){if("function"!=typeof t)throw i;let r=e?.opaque;queueMicrotask(()=>t(i,{opaque:r}))}}e.exports=u},9874:(e,t,r)=>{"use strict";let{Readable:i,Duplex:n,PassThrough:s}=r(4492),{InvalidArgumentError:o,InvalidReturnValueError:a,RequestAbortedError:A}=r(2665),l=r(7211),{AsyncResource:c}=r(2761),{addSignal:u,removeSignal:h}=r(1482),d=r(8061),g=Symbol("resume");class f extends i{constructor(){super({autoDestroy:!0}),this[g]=null}_read(){let{[g]:e}=this;e&&(this[g]=null,e())}_destroy(e,t){this._read(),t(e)}}class p extends i{constructor(e){super({autoDestroy:!0}),this[g]=e}_read(){this[g]()}_destroy(e,t){e||this._readableState.endEmitted||(e=new A),t(e)}}class E extends c{constructor(e,t){if(!e||"object"!=typeof e)throw new o("invalid opts");if("function"!=typeof t)throw new o("invalid handler");let{signal:r,method:i,opaque:s,onInfo:a,responseHeaders:c}=e;if(r&&"function"!=typeof r.on&&"function"!=typeof r.addEventListener)throw new o("signal must be an EventEmitter or EventTarget");if("CONNECT"===i)throw new o("invalid method");if(a&&"function"!=typeof a)throw new o("invalid onInfo callback");super("UNDICI_PIPELINE"),this.opaque=s||null,this.responseHeaders=c||null,this.handler=t,this.abort=null,this.context=null,this.onInfo=a||null,this.req=new f().on("error",l.nop),this.ret=new n({readableObjectMode:e.objectMode,autoDestroy:!0,read:()=>{let{body:e}=this;e?.resume&&e.resume()},write:(e,t,r)=>{let{req:i}=this;i.push(e,t)||i._readableState.destroyed?r():i[g]=r},destroy:(e,t)=>{let{body:r,req:i,res:n,ret:s,abort:o}=this;e||s._readableState.endEmitted||(e=new A),o&&e&&o(),l.destroy(r,e),l.destroy(i,e),l.destroy(n,e),h(this),t(e)}}).on("prefinish",()=>{let{req:e}=this;e.push(null)}),this.res=null,u(this,r)}onConnect(e,t){let{ret:r,res:i}=this;if(this.reason){e(this.reason);return}d(!i,"pipeline cannot be retried"),d(!r.destroyed),this.abort=e,this.context=t}onHeaders(e,t,r){let i;let{opaque:n,handler:s,context:o}=this;if(e<200){if(this.onInfo){let r="raw"===this.responseHeaders?l.parseRawHeaders(t):l.parseHeaders(t);this.onInfo({statusCode:e,headers:r})}return}this.res=new p(r);try{this.handler=null;let r="raw"===this.responseHeaders?l.parseRawHeaders(t):l.parseHeaders(t);i=this.runInAsyncScope(s,null,{statusCode:e,headers:r,opaque:n,body:this.res,context:o})}catch(e){throw this.res.on("error",l.nop),e}if(!i||"function"!=typeof i.on)throw new a("expected Readable");i.on("data",e=>{let{ret:t,body:r}=this;!t.push(e)&&r.pause&&r.pause()}).on("error",e=>{let{ret:t}=this;l.destroy(t,e)}).on("end",()=>{let{ret:e}=this;e.push(null)}).on("close",()=>{let{ret:e}=this;e._readableState.ended||l.destroy(e,new A)}),this.body=i}onData(e){let{res:t}=this;return t.push(e)}onComplete(e){let{res:t}=this;t.push(null)}onError(e){let{ret:t}=this;this.handler=null,l.destroy(t,e)}}function C(e,t){try{let r=new E(e,t);return this.dispatch({...e,body:r.req},r),r.ret}catch(e){return new s().destroy(e)}}e.exports=C},7724:(e,t,r)=>{"use strict";let i=r(8061),{Readable:n}=r(1656),{InvalidArgumentError:s,RequestAbortedError:o}=r(2665),a=r(7211),{getResolveErrorBodyCallback:A}=r(2330),{AsyncResource:l}=r(2761);class c extends l{constructor(e,t){if(!e||"object"!=typeof e)throw new s("invalid opts");let{signal:r,method:i,opaque:n,body:A,onInfo:l,responseHeaders:c,throwOnError:u,highWaterMark:h}=e;try{if("function"!=typeof t)throw new s("invalid callback");if(h&&("number"!=typeof h||h<0))throw new s("invalid highWaterMark");if(r&&"function"!=typeof r.on&&"function"!=typeof r.addEventListener)throw new s("signal must be an EventEmitter or EventTarget");if("CONNECT"===i)throw new s("invalid method");if(l&&"function"!=typeof l)throw new s("invalid onInfo callback");super("UNDICI_REQUEST")}catch(e){throw a.isStream(A)&&a.destroy(A.on("error",a.nop),e),e}this.method=i,this.responseHeaders=c||null,this.opaque=n||null,this.callback=t,this.res=null,this.abort=null,this.body=A,this.trailers={},this.context=null,this.onInfo=l||null,this.throwOnError=u,this.highWaterMark=h,this.signal=r,this.reason=null,this.removeAbortListener=null,a.isStream(A)&&A.on("error",e=>{this.onError(e)}),this.signal&&(this.signal.aborted?this.reason=this.signal.reason??new o:this.removeAbortListener=a.addAbortListener(this.signal,()=>{this.reason=this.signal.reason??new o,this.res?a.destroy(this.res,this.reason):this.abort&&this.abort(this.reason),this.removeAbortListener&&(this.res?.off("close",this.removeAbortListener),this.removeAbortListener(),this.removeAbortListener=null)}))}onConnect(e,t){if(this.reason){e(this.reason);return}i(this.callback),this.abort=e,this.context=t}onHeaders(e,t,r,i){let{callback:s,opaque:o,abort:l,context:c,responseHeaders:u,highWaterMark:h}=this,d="raw"===u?a.parseRawHeaders(t):a.parseHeaders(t);if(e<200){this.onInfo&&this.onInfo({statusCode:e,headers:d});return}let g="raw"===u?a.parseHeaders(t):d,f=g["content-type"],p=g["content-length"],E=new n({resume:r,abort:l,contentType:f,contentLength:"HEAD"!==this.method&&p?Number(p):null,highWaterMark:h});this.removeAbortListener&&E.on("close",this.removeAbortListener),this.callback=null,this.res=E,null!==s&&(this.throwOnError&&e>=400?this.runInAsyncScope(A,null,{callback:s,body:E,contentType:f,statusCode:e,statusMessage:i,headers:d}):this.runInAsyncScope(s,null,null,{statusCode:e,headers:d,trailers:this.trailers,opaque:o,body:E,context:c}))}onData(e){return this.res.push(e)}onComplete(e){a.parseHeaders(e,this.trailers),this.res.push(null)}onError(e){let{res:t,callback:r,body:i,opaque:n}=this;r&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(r,null,e,{opaque:n})})),t&&(this.res=null,queueMicrotask(()=>{a.destroy(t,e)})),i&&(this.body=null,a.destroy(i,e)),this.removeAbortListener&&(t?.off("close",this.removeAbortListener),this.removeAbortListener(),this.removeAbortListener=null)}}function u(e,t){if(void 0===t)return new Promise((t,r)=>{u.call(this,e,(e,i)=>e?r(e):t(i))});try{this.dispatch(e,new c(e,t))}catch(i){if("function"!=typeof t)throw i;let r=e?.opaque;queueMicrotask(()=>t(i,{opaque:r}))}}e.exports=u,e.exports.RequestHandler=c},3052:(e,t,r)=>{"use strict";let i=r(8061),{finished:n,PassThrough:s}=r(4492),{InvalidArgumentError:o,InvalidReturnValueError:a}=r(2665),A=r(7211),{getResolveErrorBodyCallback:l}=r(2330),{AsyncResource:c}=r(2761),{addSignal:u,removeSignal:h}=r(1482);class d extends c{constructor(e,t,r){if(!e||"object"!=typeof e)throw new o("invalid opts");let{signal:i,method:n,opaque:s,body:a,onInfo:l,responseHeaders:c,throwOnError:h}=e;try{if("function"!=typeof r)throw new o("invalid callback");if("function"!=typeof t)throw new o("invalid factory");if(i&&"function"!=typeof i.on&&"function"!=typeof i.addEventListener)throw new o("signal must be an EventEmitter or EventTarget");if("CONNECT"===n)throw new o("invalid method");if(l&&"function"!=typeof l)throw new o("invalid onInfo callback");super("UNDICI_STREAM")}catch(e){throw A.isStream(a)&&A.destroy(a.on("error",A.nop),e),e}this.responseHeaders=c||null,this.opaque=s||null,this.factory=t,this.callback=r,this.res=null,this.abort=null,this.context=null,this.trailers=null,this.body=a,this.onInfo=l||null,this.throwOnError=h||!1,A.isStream(a)&&a.on("error",e=>{this.onError(e)}),u(this,i)}onConnect(e,t){if(this.reason){e(this.reason);return}i(this.callback),this.abort=e,this.context=t}onHeaders(e,t,r,i){let o;let{factory:c,opaque:u,context:h,callback:d,responseHeaders:g}=this,f="raw"===g?A.parseRawHeaders(t):A.parseHeaders(t);if(e<200){this.onInfo&&this.onInfo({statusCode:e,headers:f});return}if(this.factory=null,this.throwOnError&&e>=400){let r=("raw"===g?A.parseHeaders(t):f)["content-type"];o=new s,this.callback=null,this.runInAsyncScope(l,null,{callback:d,body:o,contentType:r,statusCode:e,statusMessage:i,headers:f})}else{if(null===c)return;if(!(o=this.runInAsyncScope(c,null,{statusCode:e,headers:f,opaque:u,context:h}))||"function"!=typeof o.write||"function"!=typeof o.end||"function"!=typeof o.on)throw new a("expected Writable");n(o,{readable:!1},e=>{let{callback:t,res:r,opaque:i,trailers:n,abort:s}=this;this.res=null,(e||!r.readable)&&A.destroy(r,e),this.callback=null,this.runInAsyncScope(t,null,e||null,{opaque:i,trailers:n}),e&&s()})}return o.on("drain",r),this.res=o,!0!==(void 0!==o.writableNeedDrain?o.writableNeedDrain:o._writableState?.needDrain)}onData(e){let{res:t}=this;return!t||t.write(e)}onComplete(e){let{res:t}=this;h(this),t&&(this.trailers=A.parseHeaders(e),t.end())}onError(e){let{res:t,callback:r,opaque:i,body:n}=this;h(this),this.factory=null,t?(this.res=null,A.destroy(t,e)):r&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(r,null,e,{opaque:i})})),n&&(this.body=null,A.destroy(n,e))}}function g(e,t,r){if(void 0===r)return new Promise((r,i)=>{g.call(this,e,t,(e,t)=>e?i(e):r(t))});try{this.dispatch(e,new d(e,t,r))}catch(i){if("function"!=typeof r)throw i;let t=e?.opaque;queueMicrotask(()=>r(i,{opaque:t}))}}e.exports=g},2867:(e,t,r)=>{"use strict";let{InvalidArgumentError:i,SocketError:n}=r(2665),{AsyncResource:s}=r(2761),o=r(7211),{addSignal:a,removeSignal:A}=r(1482),l=r(8061);class c extends s{constructor(e,t){if(!e||"object"!=typeof e)throw new i("invalid opts");if("function"!=typeof t)throw new i("invalid callback");let{signal:r,opaque:n,responseHeaders:s}=e;if(r&&"function"!=typeof r.on&&"function"!=typeof r.addEventListener)throw new i("signal must be an EventEmitter or EventTarget");super("UNDICI_UPGRADE"),this.responseHeaders=s||null,this.opaque=n||null,this.callback=t,this.abort=null,this.context=null,a(this,r)}onConnect(e,t){if(this.reason){e(this.reason);return}l(this.callback),this.abort=e,this.context=null}onHeaders(){throw new n("bad upgrade",null)}onUpgrade(e,t,r){let{callback:i,opaque:n,context:s}=this;l.strictEqual(e,101),A(this),this.callback=null;let a="raw"===this.responseHeaders?o.parseRawHeaders(t):o.parseHeaders(t);this.runInAsyncScope(i,null,null,{headers:a,socket:r,opaque:n,context:s})}onError(e){let{callback:t,opaque:r}=this;A(this),t&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(t,null,e,{opaque:r})}))}}function u(e,t){if(void 0===t)return new Promise((t,r)=>{u.call(this,e,(e,i)=>e?r(e):t(i))});try{let r=new c(e,t);this.dispatch({...e,method:e.method||"GET",upgrade:e.protocol||"Websocket"},r)}catch(i){if("function"!=typeof t)throw i;let r=e?.opaque;queueMicrotask(()=>t(i,{opaque:r}))}}e.exports=u},2368:(e,t,r)=>{"use strict";e.exports.request=r(7724),e.exports.stream=r(3052),e.exports.pipeline=r(9874),e.exports.upgrade=r(2867),e.exports.connect=r(9695)},1656:(e,t,r)=>{"use strict";let i=r(8061),{Readable:n}=r(4492),{RequestAbortedError:s,NotSupportedError:o,InvalidArgumentError:a,AbortError:A}=r(2665),l=r(7211),{ReadableStreamFrom:c}=r(7211),u=Symbol("kConsume"),h=Symbol("kReading"),d=Symbol("kBody"),g=Symbol("kAbort"),f=Symbol("kContentType"),p=Symbol("kContentLength"),E=()=>{};class C extends n{constructor({resume:e,abort:t,contentType:r="",contentLength:i,highWaterMark:n=65536}){super({autoDestroy:!0,read:e,highWaterMark:n}),this._readableState.dataEmitted=!1,this[g]=t,this[u]=null,this[d]=null,this[f]=r,this[p]=i,this[h]=!1}destroy(e){return e||this._readableState.endEmitted||(e=new s),e&&this[g](),super.destroy(e)}_destroy(e,t){this[h]?t(e):setImmediate(()=>{t(e)})}on(e,...t){return("data"===e||"readable"===e)&&(this[h]=!0),super.on(e,...t)}addListener(e,...t){return this.on(e,...t)}off(e,...t){let r=super.off(e,...t);return("data"===e||"readable"===e)&&(this[h]=this.listenerCount("data")>0||this.listenerCount("readable")>0),r}removeListener(e,...t){return this.off(e,...t)}push(e){return this[u]&&null!==e?(v(this[u],e),!this[h]||super.push(e)):super.push(e)}async text(){return B(this,"text")}async json(){return B(this,"json")}async blob(){return B(this,"blob")}async arrayBuffer(){return B(this,"arrayBuffer")}async formData(){throw new o}get bodyUsed(){return l.isDisturbed(this)}get body(){return!this[d]&&(this[d]=c(this),this[u]&&(this[d].getReader(),i(this[d].locked))),this[d]}async dump(e){let t=Number.isFinite(e?.limit)?e.limit:131072,r=e?.signal;if(null!=r&&("object"!=typeof r||!("aborted"in r)))throw new a("signal must be an AbortSignal");return(r?.throwIfAborted(),this._readableState.closeEmitted)?null:await new Promise((e,i)=>{this[p]>t&&this.destroy(new A);let n=()=>{this.destroy(r.reason??new A)};r?.addEventListener("abort",n),this.on("close",function(){r?.removeEventListener("abort",n),r?.aborted?i(r.reason??new A):e(null)}).on("error",E).on("data",function(e){(t-=e.length)<=0&&this.destroy()}).resume()})}}function I(e){return e[d]&&!0===e[d].locked||e[u]}function m(e){return l.isDisturbed(e)||I(e)}async function B(e,t){return i(!e[u]),new Promise((r,i)=>{if(m(e)){let t=e._readableState;t.destroyed&&!1===t.closeEmitted?e.on("error",e=>{i(e)}).on("close",()=>{i(TypeError("unusable"))}):i(t.errored??TypeError("unusable"))}else queueMicrotask(()=>{e[u]={type:t,stream:e,resolve:r,reject:i,length:0,body:[]},e.on("error",function(e){b(this[u],e)}).on("close",function(){null!==this[u].body&&b(this[u],new s)}),y(e[u])})})}function y(e){if(null===e.body)return;let{_readableState:t}=e.stream;if(t.bufferIndex){let r=t.bufferIndex,i=t.buffer.length;for(let n=r;n<i;n++)v(e,t.buffer[n])}else for(let r of t.buffer)v(e,r);for(t.endEmitted?w(this[u]):e.stream.on("end",function(){w(this[u])}),e.stream.resume();null!=e.stream.read(););}function Q(e,t){if(0===e.length||0===t)return"";let r=1===e.length?e[0]:Buffer.concat(e,t),i=r.length,n=i>2&&239===r[0]&&187===r[1]&&191===r[2]?3:0;return r.utf8Slice(n,i)}function w(e){let{type:t,body:r,resolve:i,stream:n,length:s}=e;try{if("text"===t)i(Q(r,s));else if("json"===t)i(JSON.parse(Q(r,s)));else if("arrayBuffer"===t){let e=new Uint8Array(s),t=0;for(let i of r)e.set(i,t),t+=i.byteLength;i(e.buffer)}else"blob"===t&&i(new Blob(r,{type:n[f]}));b(e)}catch(e){n.destroy(e)}}function v(e,t){e.length+=t.length,e.body.push(t)}function b(e,t){null!==e.body&&(t?e.reject(t):e.resolve(),e.type=null,e.stream=null,e.resolve=null,e.reject=null,e.length=0,e.body=null)}e.exports={Readable:C,chunksDecode:Q}},2330:(e,t,r)=>{let i=r(8061),{ResponseStatusCodeError:n}=r(2665),{chunksDecode:s}=r(1656),o=131072;async function a({callback:e,body:t,contentType:r,statusCode:a,statusMessage:c,headers:u}){let h;i(t);let d=[],g=0;try{for await(let e of t)if(d.push(e),(g+=e.length)>o){d=[],g=0;break}}catch{d=[],g=0}let f=`Response status code ${a}${c?`: ${c}`:""}`;if(204===a||!r||!g){queueMicrotask(()=>e(new n(f,a,u)));return}let p=Error.stackTraceLimit;Error.stackTraceLimit=0;try{A(r)?h=JSON.parse(s(d,g)):l(r)&&(h=s(d,g))}catch{}finally{Error.stackTraceLimit=p}queueMicrotask(()=>e(new n(f,a,u,h)))}let A=e=>e.length>15&&"/"===e[11]&&"a"===e[0]&&"p"===e[1]&&"p"===e[2]&&"l"===e[3]&&"i"===e[4]&&"c"===e[5]&&"a"===e[6]&&"t"===e[7]&&"i"===e[8]&&"o"===e[9]&&"n"===e[10]&&"j"===e[12]&&"s"===e[13]&&"o"===e[14]&&"n"===e[15],l=e=>e.length>4&&"/"===e[4]&&"t"===e[0]&&"e"===e[1]&&"x"===e[2]&&"t"===e[3];e.exports={getResolveErrorBodyCallback:a,isContentTypeApplicationJson:A,isContentTypeText:l}},6157:(e,t,r)=>{"use strict";let i,n;let s=r(7503),o=r(8061),a=r(7211),{InvalidArgumentError:A,ConnectTimeoutError:l}=r(2665);function c({allowH2:e,maxCachedSessions:t,socketPath:l,timeout:c,session:d,...g}){if(null!=t&&(!Number.isInteger(t)||t<0))throw new A("maxCachedSessions must be a positive integer or zero");let f={path:l,...g},p=new n(null==t?100:t);return c=null==c?1e4:c,e=null!=e&&e,function({hostname:t,host:n,protocol:A,port:l,servername:g,localAddress:E,httpSocket:C},I){let m;if("https:"===A){i||(i=r(1764));let s=(g=g||f.servername||a.getServerName(n)||null)||t,A=d||p.get(s)||null;o(s),(m=i.connect({highWaterMark:16384,...f,servername:g,session:A,localAddress:E,ALPNProtocols:e?["http/1.1","h2"]:["http/1.1"],socket:C,port:l||443,host:t})).on("session",function(e){p.set(s,e)})}else o(!C,"httpSocket can only be sent on TLS update"),m=s.connect({highWaterMark:65536,...f,localAddress:E,port:l||80,host:t});if(null==f.keepAlive||f.keepAlive){let e=void 0===f.keepAliveInitialDelay?6e4:f.keepAliveInitialDelay;m.setKeepAlive(!0,e)}let B=u(()=>h(m),c);return m.setNoDelay(!0).once("https:"===A?"secureConnect":"connect",function(){if(B(),I){let e=I;I=null,e(null,this)}}).on("error",function(e){if(B(),I){let t=I;I=null,t(e)}}),m}}function u(e,t){if(!t)return()=>{};let r=null,i=null,n=setTimeout(()=>{r=setImmediate(()=>{"win32"===process.platform?i=setImmediate(()=>e()):e()})},t);return()=>{clearTimeout(n),clearImmediate(r),clearImmediate(i)}}function h(e){let t="Connect Timeout Error";Array.isArray(e.autoSelectFamilyAttemptedAddresses)&&(t+=` (attempted addresses: ${e.autoSelectFamilyAttemptedAddresses.join(", ")})`),a.destroy(e,new l(t))}global.FinalizationRegistry&&!(process.env.NODE_V8_COVERAGE||process.env.UNDICI_NO_FG)?n=class{constructor(e){this._maxCachedSessions=e,this._sessionCache=new Map,this._sessionRegistry=new global.FinalizationRegistry(e=>{if(this._sessionCache.size<this._maxCachedSessions)return;let t=this._sessionCache.get(e);void 0!==t&&void 0===t.deref()&&this._sessionCache.delete(e)})}get(e){let t=this._sessionCache.get(e);return t?t.deref():null}set(e,t){0!==this._maxCachedSessions&&(this._sessionCache.set(e,new WeakRef(t)),this._sessionRegistry.register(t,e))}}:n=class{constructor(e){this._maxCachedSessions=e,this._sessionCache=new Map}get(e){return this._sessionCache.get(e)}set(e,t){if(0!==this._maxCachedSessions){if(this._sessionCache.size>=this._maxCachedSessions){let{value:e}=this._sessionCache.keys().next();this._sessionCache.delete(e)}this._sessionCache.set(e,t)}}},e.exports=c},7654:e=>{"use strict";let t={},r=["Accept","Accept-Encoding","Accept-Language","Accept-Ranges","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Age","Allow","Alt-Svc","Alt-Used","Authorization","Cache-Control","Clear-Site-Data","Connection","Content-Disposition","Content-Encoding","Content-Language","Content-Length","Content-Location","Content-Range","Content-Security-Policy","Content-Security-Policy-Report-Only","Content-Type","Cookie","Cross-Origin-Embedder-Policy","Cross-Origin-Opener-Policy","Cross-Origin-Resource-Policy","Date","Device-Memory","Downlink","ECT","ETag","Expect","Expect-CT","Expires","Forwarded","From","Host","If-Match","If-Modified-Since","If-None-Match","If-Range","If-Unmodified-Since","Keep-Alive","Last-Modified","Link","Location","Max-Forwards","Origin","Permissions-Policy","Pragma","Proxy-Authenticate","Proxy-Authorization","RTT","Range","Referer","Referrer-Policy","Refresh","Retry-After","Sec-WebSocket-Accept","Sec-WebSocket-Extensions","Sec-WebSocket-Key","Sec-WebSocket-Protocol","Sec-WebSocket-Version","Server","Server-Timing","Service-Worker-Allowed","Service-Worker-Navigation-Preload","Set-Cookie","SourceMap","Strict-Transport-Security","Supports-Loading-Mode","TE","Timing-Allow-Origin","Trailer","Transfer-Encoding","Upgrade","Upgrade-Insecure-Requests","User-Agent","Vary","Via","WWW-Authenticate","X-Content-Type-Options","X-DNS-Prefetch-Control","X-Frame-Options","X-Permitted-Cross-Domain-Policies","X-Powered-By","X-Requested-With","X-XSS-Protection"];for(let e=0;e<r.length;++e){let i=r[e],n=i.toLowerCase();t[i]=t[n]=n}Object.setPrototypeOf(t,null),e.exports={wellknownHeaderNames:r,headerNameLowerCasedRecord:t}},1549:(e,t,r)=>{"use strict";let i=r(5714),n=r(7261),s=n.debuglog("undici"),o=n.debuglog("fetch"),a=n.debuglog("websocket"),A=!1,l={beforeConnect:i.channel("undici:client:beforeConnect"),connected:i.channel("undici:client:connected"),connectError:i.channel("undici:client:connectError"),sendHeaders:i.channel("undici:client:sendHeaders"),create:i.channel("undici:request:create"),bodySent:i.channel("undici:request:bodySent"),headers:i.channel("undici:request:headers"),trailers:i.channel("undici:request:trailers"),error:i.channel("undici:request:error"),open:i.channel("undici:websocket:open"),close:i.channel("undici:websocket:close"),socketError:i.channel("undici:websocket:socket_error"),ping:i.channel("undici:websocket:ping"),pong:i.channel("undici:websocket:pong")};if(s.enabled||o.enabled){let e=o.enabled?o:s;i.channel("undici:client:beforeConnect").subscribe(t=>{let{connectParams:{version:r,protocol:i,port:n,host:s}}=t;e("connecting to %s using %s%s",`${s}${n?`:${n}`:""}`,i,r)}),i.channel("undici:client:connected").subscribe(t=>{let{connectParams:{version:r,protocol:i,port:n,host:s}}=t;e("connected to %s using %s%s",`${s}${n?`:${n}`:""}`,i,r)}),i.channel("undici:client:connectError").subscribe(t=>{let{connectParams:{version:r,protocol:i,port:n,host:s},error:o}=t;e("connection to %s using %s%s errored - %s",`${s}${n?`:${n}`:""}`,i,r,o.message)}),i.channel("undici:client:sendHeaders").subscribe(t=>{let{request:{method:r,path:i,origin:n}}=t;e("sending request to %s %s/%s",r,n,i)}),i.channel("undici:request:headers").subscribe(t=>{let{request:{method:r,path:i,origin:n},response:{statusCode:s}}=t;e("received response to %s %s/%s - HTTP %d",r,n,i,s)}),i.channel("undici:request:trailers").subscribe(t=>{let{request:{method:r,path:i,origin:n}}=t;e("trailers received from %s %s/%s",r,n,i)}),i.channel("undici:request:error").subscribe(t=>{let{request:{method:r,path:i,origin:n},error:s}=t;e("request to %s %s/%s errored - %s",r,n,i,s.message)}),A=!0}if(a.enabled){if(!A){let e=s.enabled?s:a;i.channel("undici:client:beforeConnect").subscribe(t=>{let{connectParams:{version:r,protocol:i,port:n,host:s}}=t;e("connecting to %s%s using %s%s",s,n?`:${n}`:"",i,r)}),i.channel("undici:client:connected").subscribe(t=>{let{connectParams:{version:r,protocol:i,port:n,host:s}}=t;e("connected to %s%s using %s%s",s,n?`:${n}`:"",i,r)}),i.channel("undici:client:connectError").subscribe(t=>{let{connectParams:{version:r,protocol:i,port:n,host:s},error:o}=t;e("connection to %s%s using %s%s errored - %s",s,n?`:${n}`:"",i,r,o.message)}),i.channel("undici:client:sendHeaders").subscribe(t=>{let{request:{method:r,path:i,origin:n}}=t;e("sending request to %s %s/%s",r,n,i)})}i.channel("undici:websocket:open").subscribe(e=>{let{address:{address:t,port:r}}=e;a("connection opened %s%s",t,r?`:${r}`:"")}),i.channel("undici:websocket:close").subscribe(e=>{let{websocket:t,code:r,reason:i}=e;a("closed connection to %s - %s %s",t.url,r,i)}),i.channel("undici:websocket:socket_error").subscribe(e=>{a("connection errored - %s",e.message)}),i.channel("undici:websocket:ping").subscribe(e=>{a("ping received")}),i.channel("undici:websocket:pong").subscribe(e=>{a("pong received")})}e.exports={channels:l}},2665:e=>{"use strict";class t extends Error{constructor(e){super(e),this.name="UndiciError",this.code="UND_ERR"}}class r extends t{constructor(e){super(e),this.name="ConnectTimeoutError",this.message=e||"Connect Timeout Error",this.code="UND_ERR_CONNECT_TIMEOUT"}}class i extends t{constructor(e){super(e),this.name="HeadersTimeoutError",this.message=e||"Headers Timeout Error",this.code="UND_ERR_HEADERS_TIMEOUT"}}class n extends t{constructor(e){super(e),this.name="HeadersOverflowError",this.message=e||"Headers Overflow Error",this.code="UND_ERR_HEADERS_OVERFLOW"}}class s extends t{constructor(e){super(e),this.name="BodyTimeoutError",this.message=e||"Body Timeout Error",this.code="UND_ERR_BODY_TIMEOUT"}}class o extends t{constructor(e,t,r,i){super(e),this.name="ResponseStatusCodeError",this.message=e||"Response Status Code Error",this.code="UND_ERR_RESPONSE_STATUS_CODE",this.body=i,this.status=t,this.statusCode=t,this.headers=r}}class a extends t{constructor(e){super(e),this.name="InvalidArgumentError",this.message=e||"Invalid Argument Error",this.code="UND_ERR_INVALID_ARG"}}class A extends t{constructor(e){super(e),this.name="InvalidReturnValueError",this.message=e||"Invalid Return Value Error",this.code="UND_ERR_INVALID_RETURN_VALUE"}}class l extends t{constructor(e){super(e),this.name="AbortError",this.message=e||"The operation was aborted"}}class c extends l{constructor(e){super(e),this.name="AbortError",this.message=e||"Request aborted",this.code="UND_ERR_ABORTED"}}class u extends t{constructor(e){super(e),this.name="InformationalError",this.message=e||"Request information",this.code="UND_ERR_INFO"}}class h extends t{constructor(e){super(e),this.name="RequestContentLengthMismatchError",this.message=e||"Request body length does not match content-length header",this.code="UND_ERR_REQ_CONTENT_LENGTH_MISMATCH"}}class d extends t{constructor(e){super(e),this.name="ResponseContentLengthMismatchError",this.message=e||"Response body length does not match content-length header",this.code="UND_ERR_RES_CONTENT_LENGTH_MISMATCH"}}class g extends t{constructor(e){super(e),this.name="ClientDestroyedError",this.message=e||"The client is destroyed",this.code="UND_ERR_DESTROYED"}}class f extends t{constructor(e){super(e),this.name="ClientClosedError",this.message=e||"The client is closed",this.code="UND_ERR_CLOSED"}}class p extends t{constructor(e,t){super(e),this.name="SocketError",this.message=e||"Socket error",this.code="UND_ERR_SOCKET",this.socket=t}}class E extends t{constructor(e){super(e),this.name="NotSupportedError",this.message=e||"Not supported error",this.code="UND_ERR_NOT_SUPPORTED"}}class C extends t{constructor(e){super(e),this.name="MissingUpstreamError",this.message=e||"No upstream has been added to the BalancedPool",this.code="UND_ERR_BPL_MISSING_UPSTREAM"}}class I extends Error{constructor(e,t,r){super(e),this.name="HTTPParserError",this.code=t?`HPE_${t}`:void 0,this.data=r?r.toString():void 0}}class m extends t{constructor(e){super(e),this.name="ResponseExceededMaxSizeError",this.message=e||"Response content exceeded max size",this.code="UND_ERR_RES_EXCEEDED_MAX_SIZE"}}class B extends t{constructor(e,t,{headers:r,data:i}){super(e),this.name="RequestRetryError",this.message=e||"Request retry error",this.code="UND_ERR_REQ_RETRY",this.statusCode=t,this.data=i,this.headers=r}}class y extends t{constructor(e,t,r){super(t,{cause:e,...r??{}}),this.name="SecureProxyConnectionError",this.message=t||"Secure Proxy Connection failed",this.code="UND_ERR_PRX_TLS",this.cause=e}}e.exports={AbortError:l,HTTPParserError:I,UndiciError:t,HeadersTimeoutError:i,HeadersOverflowError:n,BodyTimeoutError:s,RequestContentLengthMismatchError:h,ConnectTimeoutError:r,ResponseStatusCodeError:o,InvalidArgumentError:a,InvalidReturnValueError:A,RequestAbortedError:c,ClientDestroyedError:g,ClientClosedError:f,InformationalError:u,SocketError:p,NotSupportedError:E,ResponseContentLengthMismatchError:d,BalancedPoolMissingUpstreamError:C,ResponseExceededMaxSizeError:m,RequestRetryError:B,SecureProxyConnectionError:y}},4976:(e,t,r)=>{"use strict";let{InvalidArgumentError:i,NotSupportedError:n}=r(2665),s=r(8061),{isValidHTTPToken:o,isValidHeaderValue:a,isStream:A,destroy:l,isBuffer:c,isFormDataLike:u,isIterable:h,isBlobLike:d,buildURL:g,validateHandler:f,getServerName:p,normalizedMethodRecords:E}=r(7211),{channels:C}=r(1549),{headerNameLowerCasedRecord:I}=r(7654),m=/[^\u0021-\u00ff]/,B=Symbol("handler");class y{constructor(e,{path:t,method:r,body:n,headers:s,query:a,idempotent:I,blocking:y,upgrade:w,headersTimeout:v,bodyTimeout:b,reset:S,throwOnError:T,expectContinue:D,servername:R},k){if("string"!=typeof t)throw new i("path must be a string");if("/"===t[0]||t.startsWith("http://")||t.startsWith("https://")||"CONNECT"===r){if(m.test(t))throw new i("invalid request path")}else throw new i("path must be an absolute URL or start with a slash");if("string"!=typeof r)throw new i("method must be a string");if(void 0===E[r]&&!o(r))throw new i("invalid request method");if(w&&"string"!=typeof w)throw new i("upgrade must be a string");if(null!=v&&(!Number.isFinite(v)||v<0))throw new i("invalid headersTimeout");if(null!=b&&(!Number.isFinite(b)||b<0))throw new i("invalid bodyTimeout");if(null!=S&&"boolean"!=typeof S)throw new i("invalid reset");if(null!=D&&"boolean"!=typeof D)throw new i("invalid expectContinue");if(this.headersTimeout=v,this.bodyTimeout=b,this.throwOnError=!0===T,this.method=r,this.abort=null,null==n)this.body=null;else if(A(n)){this.body=n;let e=this.body._readableState;e&&e.autoDestroy||(this.endHandler=function(){l(this)},this.body.on("end",this.endHandler)),this.errorHandler=e=>{this.abort?this.abort(e):this.error=e},this.body.on("error",this.errorHandler)}else if(c(n))this.body=n.byteLength?n:null;else if(ArrayBuffer.isView(n))this.body=n.buffer.byteLength?Buffer.from(n.buffer,n.byteOffset,n.byteLength):null;else if(n instanceof ArrayBuffer)this.body=n.byteLength?Buffer.from(n):null;else if("string"==typeof n)this.body=n.length?Buffer.from(n):null;else if(u(n)||h(n)||d(n))this.body=n;else throw new i("body must be a string, a Buffer, a Readable stream, an iterable, or an async iterable");if(this.completed=!1,this.aborted=!1,this.upgrade=w||null,this.path=a?g(t,a):t,this.origin=e,this.idempotent=null==I?"HEAD"===r||"GET"===r:I,this.blocking=null!=y&&y,this.reset=null==S?null:S,this.host=null,this.contentLength=null,this.contentType=null,this.headers=[],this.expectContinue=null!=D&&D,Array.isArray(s)){if(s.length%2!=0)throw new i("headers array must be even");for(let e=0;e<s.length;e+=2)Q(this,s[e],s[e+1])}else if(s&&"object"==typeof s){if(s[Symbol.iterator])for(let e of s){if(!Array.isArray(e)||2!==e.length)throw new i("headers must be in key-value pair format");Q(this,e[0],e[1])}else{let e=Object.keys(s);for(let t=0;t<e.length;++t)Q(this,e[t],s[e[t]])}}else if(null!=s)throw new i("headers must be an object or an array");f(k,r,w),this.servername=R||p(this.host),this[B]=k,C.create.hasSubscribers&&C.create.publish({request:this})}onBodySent(e){if(this[B].onBodySent)try{return this[B].onBodySent(e)}catch(e){this.abort(e)}}onRequestSent(){if(C.bodySent.hasSubscribers&&C.bodySent.publish({request:this}),this[B].onRequestSent)try{return this[B].onRequestSent()}catch(e){this.abort(e)}}onConnect(e){if(s(!this.aborted),s(!this.completed),!this.error)return this.abort=e,this[B].onConnect(e);e(this.error)}onResponseStarted(){return this[B].onResponseStarted?.()}onHeaders(e,t,r,i){s(!this.aborted),s(!this.completed),C.headers.hasSubscribers&&C.headers.publish({request:this,response:{statusCode:e,headers:t,statusText:i}});try{return this[B].onHeaders(e,t,r,i)}catch(e){this.abort(e)}}onData(e){s(!this.aborted),s(!this.completed);try{return this[B].onData(e)}catch(e){return this.abort(e),!1}}onUpgrade(e,t,r){return s(!this.aborted),s(!this.completed),this[B].onUpgrade(e,t,r)}onComplete(e){this.onFinally(),s(!this.aborted),this.completed=!0,C.trailers.hasSubscribers&&C.trailers.publish({request:this,trailers:e});try{return this[B].onComplete(e)}catch(e){this.onError(e)}}onError(e){if(this.onFinally(),C.error.hasSubscribers&&C.error.publish({request:this,error:e}),!this.aborted)return this.aborted=!0,this[B].onError(e)}onFinally(){this.errorHandler&&(this.body.off("error",this.errorHandler),this.errorHandler=null),this.endHandler&&(this.body.off("end",this.endHandler),this.endHandler=null)}addHeader(e,t){return Q(this,e,t),this}}function Q(e,t,r){if(r&&"object"==typeof r&&!Array.isArray(r))throw new i(`invalid ${t} header`);if(void 0===r)return;let s=I[t];if(void 0===s&&void 0===I[s=t.toLowerCase()]&&!o(s))throw new i("invalid header key");if(Array.isArray(r)){let e=[];for(let n=0;n<r.length;n++)if("string"==typeof r[n]){if(!a(r[n]))throw new i(`invalid ${t} header`);e.push(r[n])}else if(null===r[n])e.push("");else if("object"==typeof r[n])throw new i(`invalid ${t} header`);else e.push(`${r[n]}`);r=e}else if("string"==typeof r){if(!a(r))throw new i(`invalid ${t} header`)}else r=null===r?"":`${r}`;if(null===e.host&&"host"===s){if("string"!=typeof r)throw new i("invalid host header");e.host=r}else if(null===e.contentLength&&"content-length"===s){if(e.contentLength=parseInt(r,10),!Number.isFinite(e.contentLength))throw new i("invalid content-length header")}else if(null===e.contentType&&"content-type"===s)e.contentType=r,e.headers.push(t,r);else if("transfer-encoding"===s||"keep-alive"===s||"upgrade"===s)throw new i(`invalid ${s} header`);else if("connection"===s){let t="string"==typeof r?r.toLowerCase():null;if("close"!==t&&"keep-alive"!==t)throw new i("invalid connection header");"close"===t&&(e.reset=!0)}else if("expect"===s)throw new n("expect header not supported");else e.headers.push(t,r)}e.exports=y},1053:e=>{e.exports={kClose:Symbol("close"),kDestroy:Symbol("destroy"),kDispatch:Symbol("dispatch"),kUrl:Symbol("url"),kWriting:Symbol("writing"),kResuming:Symbol("resuming"),kQueue:Symbol("queue"),kConnect:Symbol("connect"),kConnecting:Symbol("connecting"),kKeepAliveDefaultTimeout:Symbol("default keep alive timeout"),kKeepAliveMaxTimeout:Symbol("max keep alive timeout"),kKeepAliveTimeoutThreshold:Symbol("keep alive timeout threshold"),kKeepAliveTimeoutValue:Symbol("keep alive timeout"),kKeepAlive:Symbol("keep alive"),kHeadersTimeout:Symbol("headers timeout"),kBodyTimeout:Symbol("body timeout"),kServerName:Symbol("server name"),kLocalAddress:Symbol("local address"),kHost:Symbol("host"),kNoRef:Symbol("no ref"),kBodyUsed:Symbol("used"),kBody:Symbol("abstracted request body"),kRunning:Symbol("running"),kBlocking:Symbol("blocking"),kPending:Symbol("pending"),kSize:Symbol("size"),kBusy:Symbol("busy"),kQueued:Symbol("queued"),kFree:Symbol("free"),kConnected:Symbol("connected"),kClosed:Symbol("closed"),kNeedDrain:Symbol("need drain"),kReset:Symbol("reset"),kDestroyed:Symbol.for("nodejs.stream.destroyed"),kResume:Symbol("resume"),kOnError:Symbol("on error"),kMaxHeadersSize:Symbol("max headers size"),kRunningIdx:Symbol("running index"),kPendingIdx:Symbol("pending index"),kError:Symbol("error"),kClients:Symbol("clients"),kClient:Symbol("client"),kParser:Symbol("parser"),kOnDestroyed:Symbol("destroy callbacks"),kPipelining:Symbol("pipelining"),kSocket:Symbol("socket"),kHostHeader:Symbol("host header"),kConnector:Symbol("connector"),kStrictContentLength:Symbol("strict content length"),kMaxRedirections:Symbol("maxRedirections"),kMaxRequests:Symbol("maxRequestsPerClient"),kProxy:Symbol("proxy agent options"),kCounter:Symbol("socket request counter"),kInterceptors:Symbol("dispatch interceptors"),kMaxResponseSize:Symbol("max response size"),kHTTP2Session:Symbol("http2Session"),kHTTP2SessionState:Symbol("http2Session state"),kRetryHandlerDefaultRetry:Symbol("retry agent default retry"),kConstruct:Symbol("constructable"),kListeners:Symbol("listeners"),kHTTPContext:Symbol("http context"),kMaxConcurrentStreams:Symbol("max concurrent streams"),kNoProxyAgent:Symbol("no proxy agent"),kHttpProxyAgent:Symbol("http proxy agent"),kHttpsProxyAgent:Symbol("https proxy agent")}},3042:(e,t,r)=>{"use strict";let{wellknownHeaderNames:i,headerNameLowerCasedRecord:n}=r(7654);class s{value=null;left=null;middle=null;right=null;code;constructor(e,t,r){if(void 0===r||r>=e.length)throw TypeError("Unreachable");if((this.code=e.charCodeAt(r))>127)throw TypeError("key must be ascii string");e.length!==++r?this.middle=new s(e,t,r):this.value=t}add(e,t){let r=e.length;if(0===r)throw TypeError("Unreachable");let i=0,n=this;for(;;){let o=e.charCodeAt(i);if(o>127)throw TypeError("key must be ascii string");if(n.code===o){if(r===++i){n.value=t;break}if(null!==n.middle)n=n.middle;else{n.middle=new s(e,t,i);break}}else if(n.code<o){if(null!==n.left)n=n.left;else{n.left=new s(e,t,i);break}}else if(null!==n.right)n=n.right;else{n.right=new s(e,t,i);break}}}search(e){let t=e.length,r=0,i=this;for(;null!==i&&r<t;){let n=e[r];for(n<=90&&n>=65&&(n|=32);null!==i;){if(n===i.code){if(t===++r)return i;i=i.middle;break}i=i.code<n?i.left:i.right}}return null}}class o{node=null;insert(e,t){null===this.node?this.node=new s(e,t,0):this.node.add(e,t)}lookup(e){return this.node?.search(e)?.value??null}}let a=new o;for(let e=0;e<i.length;++e){let t=n[i[e]];a.insert(t,t)}e.exports={TernarySearchTree:o,tree:a}},7211:(e,t,r)=>{"use strict";let i=r(8061),{kDestroyed:n,kBodyUsed:s,kListeners:o,kBody:a}=r(1053),{IncomingMessage:A}=r(8849),l=r(4492),c=r(7503),{Blob:u}=r(2254),h=r(7261),{stringify:d}=r(5815),{EventEmitter:g}=r(5673),{InvalidArgumentError:f}=r(2665),{headerNameLowerCasedRecord:p}=r(7654),{tree:E}=r(3042),[C,I]=process.versions.node.split(".").map(e=>Number(e));class m{constructor(e){this[a]=e,this[s]=!1}async *[Symbol.asyncIterator](){i(!this[s],"disturbed"),this[s]=!0,yield*this[a]}}function B(e){return Q(e)?(0===L(e)&&e.on("data",function(){i(!1)}),"boolean"!=typeof e.readableDidRead&&(e[s]=!1,g.prototype.on.call(e,"data",function(){this[s]=!0})),e):e&&"function"==typeof e.pipeTo?new m(e):e&&"string"!=typeof e&&!ArrayBuffer.isView(e)&&M(e)?new m(e):e}function y(){}function Q(e){return e&&"object"==typeof e&&"function"==typeof e.pipe&&"function"==typeof e.on}function w(e){if(null===e)return!1;if(e instanceof u)return!0;if("object"!=typeof e)return!1;{let t=e[Symbol.toStringTag];return("Blob"===t||"File"===t)&&("stream"in e&&"function"==typeof e.stream||"arrayBuffer"in e&&"function"==typeof e.arrayBuffer)}}function v(e,t){if(e.includes("?")||e.includes("#"))throw Error('Query params cannot be passed when url already contains "?" or "#".');let r=d(t);return r&&(e+="?"+r),e}function b(e){let t=parseInt(e,10);return t===Number(e)&&t>=0&&t<=65535}function S(e){return null!=e&&"h"===e[0]&&"t"===e[1]&&"t"===e[2]&&"p"===e[3]&&(":"===e[4]||"s"===e[4]&&":"===e[5])}function T(e){if("string"==typeof e){if(!S((e=new URL(e)).origin||e.protocol))throw new f("Invalid URL protocol: the URL must start with `http:` or `https:`.");return e}if(!e||"object"!=typeof e)throw new f("Invalid URL: The URL argument must be a non-null object.");if(!(e instanceof URL)){if(null!=e.port&&""!==e.port&&!1===b(e.port))throw new f("Invalid URL: port must be a valid integer or a string representation of an integer.");if(null!=e.path&&"string"!=typeof e.path)throw new f("Invalid URL path: the path must be a string or null/undefined.");if(null!=e.pathname&&"string"!=typeof e.pathname)throw new f("Invalid URL pathname: the pathname must be a string or null/undefined.");if(null!=e.hostname&&"string"!=typeof e.hostname)throw new f("Invalid URL hostname: the hostname must be a string or null/undefined.");if(null!=e.origin&&"string"!=typeof e.origin)throw new f("Invalid URL origin: the origin must be a string or null/undefined.");if(!S(e.origin||e.protocol))throw new f("Invalid URL protocol: the URL must start with `http:` or `https:`.");let t=null!=e.port?e.port:"https:"===e.protocol?443:80,r=null!=e.origin?e.origin:`${e.protocol||""}//${e.hostname||""}:${t}`,i=null!=e.path?e.path:`${e.pathname||""}${e.search||""}`;return"/"===r[r.length-1]&&(r=r.slice(0,r.length-1)),i&&"/"!==i[0]&&(i=`/${i}`),new URL(`${r}${i}`)}if(!S(e.origin||e.protocol))throw new f("Invalid URL protocol: the URL must start with `http:` or `https:`.");return e}function D(e){if("/"!==(e=T(e)).pathname||e.search||e.hash)throw new f("invalid url");return e}function R(e){if("["===e[0]){let t=e.indexOf("]");return i(-1!==t),e.substring(1,t)}let t=e.indexOf(":");return -1===t?e:e.substring(0,t)}function k(e){if(!e)return null;i.strictEqual(typeof e,"string");let t=R(e);return c.isIP(t)?"":t}function N(e){return JSON.parse(JSON.stringify(e))}function F(e){return!!(null!=e&&"function"==typeof e[Symbol.asyncIterator])}function M(e){return!!(null!=e&&("function"==typeof e[Symbol.iterator]||"function"==typeof e[Symbol.asyncIterator]))}function L(e){if(null==e)return 0;if(Q(e)){let t=e._readableState;return t&&!1===t.objectMode&&!0===t.ended&&Number.isFinite(t.length)?t.length:null}return w(e)?null!=e.size?e.size:null:H(e)?e.byteLength:null}function U(e){return e&&!!(e.destroyed||e[n]||l.isDestroyed?.(e))}function _(e,t){null==e||!Q(e)||U(e)||("function"==typeof e.destroy?(Object.getPrototypeOf(e).constructor===A&&(e.socket=null),e.destroy(t)):t&&queueMicrotask(()=>{e.emit("error",t)}),!0===e.destroyed||(e[n]=!0))}let x=/timeout=(\d+)/;function O(e){let t=e.toString().match(x);return t?1e3*parseInt(t[1],10):null}function P(e){return"string"==typeof e?p[e]??e.toLowerCase():E.lookup(e)??e.toString("latin1").toLowerCase()}function V(e){return E.lookup(e)??e.toString("latin1").toLowerCase()}function G(e,t){void 0===t&&(t={});for(let r=0;r<e.length;r+=2){let i=P(e[r]),n=t[i];if(n)"string"==typeof n&&(n=[n],t[i]=n),n.push(e[r+1].toString("utf8"));else{let n=e[r+1];"string"==typeof n?t[i]=n:t[i]=Array.isArray(n)?n.map(e=>e.toString("utf8")):n.toString("utf8")}}return"content-length"in t&&"content-disposition"in t&&(t["content-disposition"]=Buffer.from(t["content-disposition"]).toString("latin1")),t}function Y(e){let t,r;let i=Array(e.length),n=!1,s=-1,o=0;for(let a=0;a<e.length;a+=2)t=e[a],r=e[a+1],"string"!=typeof t&&(t=t.toString()),"string"!=typeof r&&(r=r.toString("utf8")),14===(o=t.length)&&"-"===t[7]&&("content-length"===t||"content-length"===t.toLowerCase())?n=!0:19===o&&"-"===t[7]&&("content-disposition"===t||"content-disposition"===t.toLowerCase())&&(s=a+1),i[a]=t,i[a+1]=r;return n&&-1!==s&&(i[s]=Buffer.from(i[s]).toString("latin1")),i}function H(e){return e instanceof Uint8Array||Buffer.isBuffer(e)}function J(e,t,r){if(!e||"object"!=typeof e)throw new f("handler must be an object");if("function"!=typeof e.onConnect)throw new f("invalid onConnect method");if("function"!=typeof e.onError)throw new f("invalid onError method");if("function"!=typeof e.onBodySent&&void 0!==e.onBodySent)throw new f("invalid onBodySent method");if(r||"CONNECT"===t){if("function"!=typeof e.onUpgrade)throw new f("invalid onUpgrade method")}else{if("function"!=typeof e.onHeaders)throw new f("invalid onHeaders method");if("function"!=typeof e.onData)throw new f("invalid onData method");if("function"!=typeof e.onComplete)throw new f("invalid onComplete method")}}function q(e){return!!(e&&(l.isDisturbed(e)||e[s]))}function W(e){return!!(e&&l.isErrored(e))}function j(e){return!!(e&&l.isReadable(e))}function z(e){return{localAddress:e.localAddress,localPort:e.localPort,remoteAddress:e.remoteAddress,remotePort:e.remotePort,remoteFamily:e.remoteFamily,timeout:e.timeout,bytesWritten:e.bytesWritten,bytesRead:e.bytesRead}}function K(e){let t;return new ReadableStream({async start(){t=e[Symbol.asyncIterator]()},async pull(e){let{done:r,value:i}=await t.next();if(r)queueMicrotask(()=>{e.close(),e.byobRequest?.respond(0)});else{let t=Buffer.isBuffer(i)?i:Buffer.from(i);t.byteLength&&e.enqueue(new Uint8Array(t))}return e.desiredSize>0},async cancel(e){await t.return()},type:"bytes"})}function Z(e){return e&&"object"==typeof e&&"function"==typeof e.append&&"function"==typeof e.delete&&"function"==typeof e.get&&"function"==typeof e.getAll&&"function"==typeof e.has&&"function"==typeof e.set&&"FormData"===e[Symbol.toStringTag]}function X(e,t){return"addEventListener"in e?(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)):(e.addListener("abort",t),()=>e.removeListener("abort",t))}let $="function"==typeof String.prototype.toWellFormed,ee="function"==typeof String.prototype.isWellFormed;function et(e){return $?`${e}`.toWellFormed():h.toUSVString(e)}function er(e){return ee?`${e}`.isWellFormed():et(e)===`${e}`}function ei(e){switch(e){case 34:case 40:case 41:case 44:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 123:case 125:return!1;default:return e>=33&&e<=126}}function en(e){if(0===e.length)return!1;for(let t=0;t<e.length;++t)if(!ei(e.charCodeAt(t)))return!1;return!0}let es=/[^\t\x20-\x7e\x80-\xff]/;function eo(e){return!es.test(e)}function ea(e){if(null==e||""===e)return{start:0,end:null,size:null};let t=e?e.match(/^bytes (\d+)-(\d+)\/(\d+)?$/):null;return t?{start:parseInt(t[1]),end:t[2]?parseInt(t[2]):null,size:t[3]?parseInt(t[3]):null}:null}function eA(e,t,r){return(e[o]??=[]).push([t,r]),e.on(t,r),e}function el(e){for(let[t,r]of e[o]??[])e.removeListener(t,r);e[o]=null}function ec(e,t,r){try{t.onError(r),i(t.aborted)}catch(t){e.emit("error",t)}}let eu=Object.create(null);eu.enumerable=!0;let eh={delete:"DELETE",DELETE:"DELETE",get:"GET",GET:"GET",head:"HEAD",HEAD:"HEAD",options:"OPTIONS",OPTIONS:"OPTIONS",post:"POST",POST:"POST",put:"PUT",PUT:"PUT"},ed={...eh,patch:"patch",PATCH:"PATCH"};Object.setPrototypeOf(eh,null),Object.setPrototypeOf(ed,null),e.exports={kEnumerableProperty:eu,nop:y,isDisturbed:q,isErrored:W,isReadable:j,toUSVString:et,isUSVString:er,isBlobLike:w,parseOrigin:D,parseURL:T,getServerName:k,isStream:Q,isIterable:M,isAsyncIterable:F,isDestroyed:U,headerNameToString:P,bufferToLowerCasedHeaderName:V,addListener:eA,removeAllListeners:el,errorRequest:ec,parseRawHeaders:Y,parseHeaders:G,parseKeepAliveTimeout:O,destroy:_,bodyLength:L,deepClone:N,ReadableStreamFrom:K,isBuffer:H,validateHandler:J,getSocketInfo:z,isFormDataLike:Z,buildURL:v,addAbortListener:X,isValidHTTPToken:en,isValidHeaderValue:eo,isTokenCharCode:ei,parseRangeHeader:ea,normalizedMethodRecordsBase:eh,normalizedMethodRecords:ed,isValidPort:b,isHttpOrHttpsPrefixed:S,nodeMajor:C,nodeMinor:I,safeHTTPMethods:["GET","HEAD","OPTIONS","TRACE"],wrapRequestBody:B}},8031:(e,t,r)=>{"use strict";let{InvalidArgumentError:i}=r(2665),{kClients:n,kRunning:s,kClose:o,kDestroy:a,kDispatch:A,kInterceptors:l}=r(1053),c=r(9524),u=r(304),h=r(2098),d=r(7211),g=r(1224),f=Symbol("onConnect"),p=Symbol("onDisconnect"),E=Symbol("onConnectionError"),C=Symbol("maxRedirections"),I=Symbol("onDrain"),m=Symbol("factory"),B=Symbol("options");function y(e,t){return t&&1===t.connections?new h(e,t):new u(e,t)}class Q extends c{constructor({factory:e=y,maxRedirections:t=0,connect:r,...s}={}){if(super(),"function"!=typeof e)throw new i("factory must be a function.");if(null!=r&&"function"!=typeof r&&"object"!=typeof r)throw new i("connect must be a function or an object");if(!Number.isInteger(t)||t<0)throw new i("maxRedirections must be a positive number");r&&"function"!=typeof r&&(r={...r}),this[l]=s.interceptors?.Agent&&Array.isArray(s.interceptors.Agent)?s.interceptors.Agent:[g({maxRedirections:t})],this[B]={...d.deepClone(s),connect:r},this[B].interceptors=s.interceptors?{...s.interceptors}:void 0,this[C]=t,this[m]=e,this[n]=new Map,this[I]=(e,t)=>{this.emit("drain",e,[this,...t])},this[f]=(e,t)=>{this.emit("connect",e,[this,...t])},this[p]=(e,t,r)=>{this.emit("disconnect",e,[this,...t],r)},this[E]=(e,t,r)=>{this.emit("connectionError",e,[this,...t],r)}}get[s](){let e=0;for(let t of this[n].values())e+=t[s];return e}[A](e,t){let r;if(e.origin&&("string"==typeof e.origin||e.origin instanceof URL))r=String(e.origin);else throw new i("opts.origin must be a non-empty string or URL.");let s=this[n].get(r);return s||(s=this[m](e.origin,this[B]).on("drain",this[I]).on("connect",this[f]).on("disconnect",this[p]).on("connectionError",this[E]),this[n].set(r,s)),s.dispatch(e,t)}async [o](){let e=[];for(let t of this[n].values())e.push(t.close());this[n].clear(),await Promise.all(e)}async [a](e){let t=[];for(let r of this[n].values())t.push(r.destroy(e));this[n].clear(),await Promise.all(t)}}e.exports=Q},5349:(e,t,r)=>{"use strict";let{BalancedPoolMissingUpstreamError:i,InvalidArgumentError:n}=r(2665),{PoolBase:s,kClients:o,kNeedDrain:a,kAddClient:A,kRemoveClient:l,kGetDispatcher:c}=r(7710),u=r(304),{kUrl:h,kInterceptors:d}=r(1053),{parseOrigin:g}=r(7211),f=Symbol("factory"),p=Symbol("options"),E=Symbol("kGreatestCommonDivisor"),C=Symbol("kCurrentWeight"),I=Symbol("kIndex"),m=Symbol("kWeight"),B=Symbol("kMaxWeightPerServer"),y=Symbol("kErrorPenalty");function Q(e,t){return 0===t?e:Q(t,e%t)}function w(e,t){return new u(e,t)}class v extends s{constructor(e=[],{factory:t=w,...r}={}){if(super(),this[p]=r,this[I]=-1,this[C]=0,this[B]=this[p].maxWeightPerServer||100,this[y]=this[p].errorPenalty||15,Array.isArray(e)||(e=[e]),"function"!=typeof t)throw new n("factory must be a function.");for(let i of(this[d]=r.interceptors?.BalancedPool&&Array.isArray(r.interceptors.BalancedPool)?r.interceptors.BalancedPool:[],this[f]=t,e))this.addUpstream(i);this._updateBalancedPoolStats()}addUpstream(e){let t=g(e).origin;if(this[o].find(e=>e[h].origin===t&&!0!==e.closed&&!0!==e.destroyed))return this;let r=this[f](t,Object.assign({},this[p]));for(let e of(this[A](r),r.on("connect",()=>{r[m]=Math.min(this[B],r[m]+this[y])}),r.on("connectionError",()=>{r[m]=Math.max(1,r[m]-this[y]),this._updateBalancedPoolStats()}),r.on("disconnect",(...e)=>{let t=e[2];t&&"UND_ERR_SOCKET"===t.code&&(r[m]=Math.max(1,r[m]-this[y]),this._updateBalancedPoolStats())}),this[o]))e[m]=this[B];return this._updateBalancedPoolStats(),this}_updateBalancedPoolStats(){this[E]=this[o].map(e=>e[m]).reduce(Q,0)}removeUpstream(e){let t=g(e).origin,r=this[o].find(e=>e[h].origin===t&&!0!==e.closed&&!0!==e.destroyed);return r&&this[l](r),this}get upstreams(){return this[o].filter(e=>!0!==e.closed&&!0!==e.destroyed).map(e=>e[h].origin)}[c](){if(0===this[o].length)throw new i;if(!this[o].find(e=>!e[a]&&!0!==e.closed&&!0!==e.destroyed)||this[o].map(e=>e[a]).reduce((e,t)=>e&&t,!0))return;let e=0,t=this[o].findIndex(e=>!e[a]);for(;e++<this[o].length;){this[I]=(this[I]+1)%this[o].length;let e=this[o][this[I]];if(e[m]>this[o][t][m]&&!e[a]&&(t=this[I]),0===this[I]&&(this[C]=this[C]-this[E],this[C]<=0&&(this[C]=this[B])),e[m]>=this[C]&&!e[a])return e}return this[C]=this[o][t][m],this[I]=t,this[o][t]}}e.exports=v},5588:(e,t,r)=>{"use strict";let i;let n=r(8061),s=r(7211),{channels:o}=r(1549),a=r(5685),{RequestContentLengthMismatchError:A,ResponseContentLengthMismatchError:l,RequestAbortedError:c,HeadersTimeoutError:u,HeadersOverflowError:h,SocketError:d,InformationalError:g,BodyTimeoutError:f,HTTPParserError:p,ResponseExceededMaxSizeError:E}=r(2665),{kUrl:C,kReset:I,kClient:m,kParser:B,kBlocking:y,kRunning:Q,kPending:w,kSize:v,kWriting:b,kQueue:S,kNoRef:T,kKeepAliveDefaultTimeout:D,kHostHeader:R,kPendingIdx:k,kRunningIdx:N,kError:F,kPipelining:M,kSocket:L,kKeepAliveTimeoutValue:U,kMaxHeadersSize:_,kKeepAliveMaxTimeout:x,kKeepAliveTimeoutThreshold:O,kHeadersTimeout:P,kBodyTimeout:V,kStrictContentLength:G,kMaxRequests:Y,kCounter:H,kMaxResponseSize:J,kOnError:q,kResume:W,kHTTPContext:j}=r(1053),z=r(6637),K=Buffer.alloc(0),Z=Buffer[Symbol.species],X=s.addListener,$=s.removeAllListeners,ee=null,et=async function(){let e;let t=process.env.JEST_WORKER_ID?r(5795):void 0;try{e=await WebAssembly.compile(r(7324))}catch(i){e=await WebAssembly.compile(t||r(5795))}return await WebAssembly.instantiate(e,{env:{wasm_on_url:(e,t,r)=>0,wasm_on_status:(e,t,r)=>{n.strictEqual(er.ptr,e);let i=t-es+ei.byteOffset;return er.onStatus(new Z(ei.buffer,i,r))||0},wasm_on_message_begin:e=>(n.strictEqual(er.ptr,e),er.onMessageBegin()||0),wasm_on_header_field:(e,t,r)=>{n.strictEqual(er.ptr,e);let i=t-es+ei.byteOffset;return er.onHeaderField(new Z(ei.buffer,i,r))||0},wasm_on_header_value:(e,t,r)=>{n.strictEqual(er.ptr,e);let i=t-es+ei.byteOffset;return er.onHeaderValue(new Z(ei.buffer,i,r))||0},wasm_on_headers_complete:(e,t,r,i)=>(n.strictEqual(er.ptr,e),er.onHeadersComplete(t,!!r,!!i)||0),wasm_on_body:(e,t,r)=>{n.strictEqual(er.ptr,e);let i=t-es+ei.byteOffset;return er.onBody(new Z(ei.buffer,i,r))||0},wasm_on_message_complete:e=>(n.strictEqual(er.ptr,e),er.onMessageComplete()||0)}})}();et.catch();let er=null,ei=null,en=0,es=null,eo=1,ea=2,eA=3;class el{constructor(e,t,{exports:r}){n(Number.isFinite(e[_])&&e[_]>0),this.llhttp=r,this.ptr=this.llhttp.llhttp_alloc(z.TYPE.RESPONSE),this.client=e,this.socket=t,this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.statusCode=null,this.statusText="",this.upgrade=!1,this.headers=[],this.headersSize=0,this.headersMaxSize=e[_],this.shouldKeepAlive=!1,this.paused=!1,this.resume=this.resume.bind(this),this.bytesRead=0,this.keepAlive="",this.contentLength="",this.connection="",this.maxResponseSize=e[J]}setTimeout(e,t){this.timeoutType=t,e!==this.timeoutValue?(a.clearTimeout(this.timeout),e?(this.timeout=a.setTimeout(ec,e,this),this.timeout.unref&&this.timeout.unref()):this.timeout=null,this.timeoutValue=e):this.timeout&&this.timeout.refresh&&this.timeout.refresh()}resume(){!this.socket.destroyed&&this.paused&&(n(null!=this.ptr),n(null==er),this.llhttp.llhttp_resume(this.ptr),n(this.timeoutType===ea),this.timeout&&this.timeout.refresh&&this.timeout.refresh(),this.paused=!1,this.execute(this.socket.read()||K),this.readMore())}readMore(){for(;!this.paused&&this.ptr;){let e=this.socket.read();if(null===e)break;this.execute(e)}}execute(e){n(null!=this.ptr),n(null==er),n(!this.paused);let{socket:t,llhttp:r}=this;e.length>en&&(es&&r.free(es),en=4096*Math.ceil(e.length/4096),es=r.malloc(en)),new Uint8Array(r.memory.buffer,es,en).set(e);try{let i;try{ei=e,er=this,i=r.llhttp_execute(this.ptr,es,e.length)}catch(e){throw e}finally{er=null,ei=null}let n=r.llhttp_get_error_pos(this.ptr)-es;if(i===z.ERROR.PAUSED_UPGRADE)this.onUpgrade(e.slice(n));else if(i===z.ERROR.PAUSED)this.paused=!0,t.unshift(e.slice(n));else if(i!==z.ERROR.OK){let t=r.llhttp_get_error_reason(this.ptr),s="";if(t){let e=new Uint8Array(r.memory.buffer,t).indexOf(0);s="Response does not match the HTTP/1.1 protocol ("+Buffer.from(r.memory.buffer,t,e).toString()+")"}throw new p(s,z.ERROR[i],e.slice(n))}}catch(e){s.destroy(t,e)}}destroy(){n(null!=this.ptr),n(null==er),this.llhttp.llhttp_free(this.ptr),this.ptr=null,a.clearTimeout(this.timeout),this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.paused=!1}onStatus(e){this.statusText=e.toString()}onMessageBegin(){let{socket:e,client:t}=this;if(e.destroyed)return -1;let r=t[S][t[N]];if(!r)return -1;r.onResponseStarted()}onHeaderField(e){let t=this.headers.length;(1&t)==0?this.headers.push(e):this.headers[t-1]=Buffer.concat([this.headers[t-1],e]),this.trackHeader(e.length)}onHeaderValue(e){let t=this.headers.length;(1&t)==1?(this.headers.push(e),t+=1):this.headers[t-1]=Buffer.concat([this.headers[t-1],e]);let r=this.headers[t-2];if(10===r.length){let t=s.bufferToLowerCasedHeaderName(r);"keep-alive"===t?this.keepAlive+=e.toString():"connection"===t&&(this.connection+=e.toString())}else 14===r.length&&"content-length"===s.bufferToLowerCasedHeaderName(r)&&(this.contentLength+=e.toString());this.trackHeader(e.length)}trackHeader(e){this.headersSize+=e,this.headersSize>=this.headersMaxSize&&s.destroy(this.socket,new h)}onUpgrade(e){let{upgrade:t,client:r,socket:i,headers:o,statusCode:a}=this;n(t);let A=r[S][r[N]];n(A),n(!i.destroyed),n(i===r[L]),n(!this.paused),n(A.upgrade||"CONNECT"===A.method),this.statusCode=null,this.statusText="",this.shouldKeepAlive=null,n(this.headers.length%2==0),this.headers=[],this.headersSize=0,i.unshift(e),i[B].destroy(),i[B]=null,i[m]=null,i[F]=null,$(i),r[L]=null,r[j]=null,r[S][r[N]++]=null,r.emit("disconnect",r[C],[r],new g("upgrade"));try{A.onUpgrade(a,o,i)}catch(e){s.destroy(i,e)}r[W]()}onHeadersComplete(e,t,r){let{client:i,socket:o,headers:a,statusText:A}=this;if(o.destroyed)return -1;let l=i[S][i[N]];if(!l)return -1;if(n(!this.upgrade),n(this.statusCode<200),100===e)return s.destroy(o,new d("bad response",s.getSocketInfo(o))),-1;if(t&&!l.upgrade)return s.destroy(o,new d("bad upgrade",s.getSocketInfo(o))),-1;if(n.strictEqual(this.timeoutType,eo),this.statusCode=e,this.shouldKeepAlive=r||"HEAD"===l.method&&!o[I]&&"keep-alive"===this.connection.toLowerCase(),this.statusCode>=200){let e=null!=l.bodyTimeout?l.bodyTimeout:i[V];this.setTimeout(e,ea)}else this.timeout&&this.timeout.refresh&&this.timeout.refresh();if("CONNECT"===l.method||t)return n(1===i[Q]),this.upgrade=!0,2;if(n(this.headers.length%2==0),this.headers=[],this.headersSize=0,this.shouldKeepAlive&&i[M]){let e=this.keepAlive?s.parseKeepAliveTimeout(this.keepAlive):null;if(null!=e){let t=Math.min(e-i[O],i[x]);t<=0?o[I]=!0:i[U]=t}else i[U]=i[D]}else o[I]=!0;let c=!1===l.onHeaders(e,a,this.resume,A);return l.aborted?-1:"HEAD"===l.method||e<200?1:(o[y]&&(o[y]=!1,i[W]()),c?z.ERROR.PAUSED:0)}onBody(e){let{client:t,socket:r,statusCode:i,maxResponseSize:o}=this;if(r.destroyed)return -1;let a=t[S][t[N]];return(n(a),n.strictEqual(this.timeoutType,ea),this.timeout&&this.timeout.refresh&&this.timeout.refresh(),n(i>=200),o>-1&&this.bytesRead+e.length>o)?(s.destroy(r,new E),-1):(this.bytesRead+=e.length,!1===a.onData(e))?z.ERROR.PAUSED:void 0}onMessageComplete(){let{client:e,socket:t,statusCode:r,upgrade:i,headers:o,contentLength:a,bytesRead:A,shouldKeepAlive:c}=this;if(t.destroyed&&(!r||c))return -1;if(i)return;let u=e[S][e[N]];if(n(u),n(r>=100),this.statusCode=null,this.statusText="",this.bytesRead=0,this.contentLength="",this.keepAlive="",this.connection="",n(this.headers.length%2==0),this.headers=[],this.headersSize=0,!(r<200)){if("HEAD"!==u.method&&a&&A!==parseInt(a,10))return s.destroy(t,new l),-1;if(u.onComplete(o),e[S][e[N]++]=null,t[b])return n.strictEqual(e[Q],0),s.destroy(t,new g("reset")),z.ERROR.PAUSED;if(!c||t[I]&&0===e[Q])return s.destroy(t,new g("reset")),z.ERROR.PAUSED;null==e[M]||1===e[M]?setImmediate(()=>e[W]()):e[W]()}}}function ec(e){let{socket:t,timeoutType:r,client:i}=e;r===eo?(!t[b]||t.writableNeedDrain||i[Q]>1)&&(n(!e.paused,"cannot be paused while waiting for headers"),s.destroy(t,new u)):r===ea?e.paused||s.destroy(t,new f):r===eA&&(n(0===i[Q]&&i[U]),s.destroy(t,new g("socket idle timeout")))}async function eu(e,t){e[L]=t,ee||(ee=await et,et=null),t[T]=!1,t[b]=!1,t[I]=!1,t[y]=!1,t[B]=new el(e,t,ee),X(t,"error",function(e){let t=this[B];if(n("ERR_TLS_CERT_ALTNAME_INVALID"!==e.code),"ECONNRESET"===e.code&&t.statusCode&&!t.shouldKeepAlive){t.onMessageComplete();return}this[F]=e,this[m][q](e)}),X(t,"readable",function(){let e=this[B];e&&e.readMore()}),X(t,"end",function(){let e=this[B];if(e.statusCode&&!e.shouldKeepAlive){e.onMessageComplete();return}s.destroy(this,new d("other side closed",s.getSocketInfo(this)))}),X(t,"close",function(){let e=this[m],t=this[B];t&&(this[F]||!t.statusCode||t.shouldKeepAlive||t.onMessageComplete(),this[B].destroy(),this[B]=null);let r=this[F]||new d("closed",s.getSocketInfo(this));if(e[L]=null,e[j]=null,e.destroyed){n(0===e[w]);let t=e[S].splice(e[N]);for(let i=0;i<t.length;i++){let n=t[i];s.errorRequest(e,n,r)}}else if(e[Q]>0&&"UND_ERR_INFO"!==r.code){let t=e[S][e[N]];e[S][e[N]++]=null,s.errorRequest(e,t,r)}e[k]=e[N],n(0===e[Q]),e.emit("disconnect",e[C],[e],r),e[W]()});let r=!1;return t.on("close",()=>{r=!0}),{version:"h1",defaultPipelining:1,write:(...t)=>eg(e,...t),resume(){eh(e)},destroy(e,i){r?queueMicrotask(i):t.destroy(e).on("close",i)},get destroyed(){return t.destroyed},busy:r=>!!(t[b]||t[I]||t[y]||r&&(e[Q]>0&&!r.idempotent||e[Q]>0&&(r.upgrade||"CONNECT"===r.method)||e[Q]>0&&0!==s.bodyLength(r.body)&&(s.isStream(r.body)||s.isAsyncIterable(r.body)||s.isFormDataLike(r.body))))}}function eh(e){let t=e[L];if(t&&!t.destroyed){if(0===e[v]?!t[T]&&t.unref&&(t.unref(),t[T]=!0):t[T]&&t.ref&&(t.ref(),t[T]=!1),0===e[v])t[B].timeoutType!==eA&&t[B].setTimeout(e[U],eA);else if(e[Q]>0&&t[B].statusCode<200&&t[B].timeoutType!==eo){let r=e[S][e[N]],i=null!=r.headersTimeout?r.headersTimeout:e[P];t[B].setTimeout(i,eo)}}}function ed(e){return"GET"!==e&&"HEAD"!==e&&"OPTIONS"!==e&&"TRACE"!==e&&"CONNECT"!==e}function eg(e,t){let{method:a,path:l,host:u,upgrade:h,blocking:d,reset:f}=t,{body:p,headers:E,contentLength:C}=t,m="PUT"===a||"POST"===a||"PATCH"===a;if(s.isFormDataLike(p)){i||(i=r(8611).extractBody);let[e,n]=i(p);null==t.contentType&&E.push("content-type",n),p=e.stream,C=e.length}else s.isBlobLike(p)&&null==t.contentType&&p.type&&E.push("content-type",p.type);p&&"function"==typeof p.read&&p.read(0);let B=s.bodyLength(p);if(null===(C=B??C)&&(C=t.contentLength),0!==C||m||(C=null),ed(a)&&C>0&&null!==t.contentLength&&t.contentLength!==C){if(e[G])return s.errorRequest(e,t,new A),!1;process.emitWarning(new A)}let Q=e[L],w=r=>{t.aborted||t.completed||(s.errorRequest(e,t,r||new c),s.destroy(p),s.destroy(Q,new g("aborted")))};try{t.onConnect(w)}catch(r){s.errorRequest(e,t,r)}if(t.aborted)return!1;"HEAD"===a&&(Q[I]=!0),(h||"CONNECT"===a)&&(Q[I]=!0),null!=f&&(Q[I]=f),e[Y]&&Q[H]++>=e[Y]&&(Q[I]=!0),d&&(Q[y]=!0);let v=`${a} ${l} HTTP/1.1\r
`;if("string"==typeof u?v+=`host: ${u}\r
`:v+=e[R],h?v+=`connection: upgrade\r
upgrade: ${h}\r
`:e[M]&&!Q[I]?v+="connection: keep-alive\r\n":v+="connection: close\r\n",Array.isArray(E))for(let e=0;e<E.length;e+=2){let t=E[e+0],r=E[e+1];if(Array.isArray(r))for(let e=0;e<r.length;e++)v+=`${t}: ${r[e]}\r
`;else v+=`${t}: ${r}\r
`}return o.sendHeaders.hasSubscribers&&o.sendHeaders.publish({request:t,headers:v,socket:Q}),p&&0!==B?s.isBuffer(p)?ep(w,p,e,t,Q,C,v,m):s.isBlobLike(p)?"function"==typeof p.stream?eC(w,p.stream(),e,t,Q,C,v,m):eE(w,p,e,t,Q,C,v,m):s.isStream(p)?ef(w,p,e,t,Q,C,v,m):s.isIterable(p)?eC(w,p,e,t,Q,C,v,m):n(!1):ep(w,null,e,t,Q,C,v,m),!0}function ef(e,t,r,i,o,a,A,l){n(0!==a||0===r[Q],"stream body cannot be pipelined");let u=!1,h=new eI({abort:e,socket:o,request:i,contentLength:a,client:r,expectsPayload:l,header:A}),d=function(e){if(!u)try{!h.write(e)&&this.pause&&this.pause()}catch(e){s.destroy(this,e)}},g=function(){!u&&t.resume&&t.resume()},f=function(){if(queueMicrotask(()=>{t.removeListener("error",p)}),!u){let e=new c;queueMicrotask(()=>p(e))}},p=function(e){if(!u){if(u=!0,n(o.destroyed||o[b]&&r[Q]<=1),o.off("drain",g).off("error",p),t.removeListener("data",d).removeListener("end",p).removeListener("close",f),!e)try{h.end()}catch(t){e=t}h.destroy(e),e&&("UND_ERR_INFO"!==e.code||"reset"!==e.message)?s.destroy(t,e):s.destroy(t)}};t.on("data",d).on("end",p).on("error",p).on("close",f),t.resume&&t.resume(),o.on("drain",g).on("error",p),t.errorEmitted??t.errored?setImmediate(()=>p(t.errored)):(t.endEmitted??t.readableEnded)&&setImmediate(()=>p(null)),(t.closeEmitted??t.closed)&&setImmediate(f)}function ep(e,t,r,i,o,a,A,l){try{t?s.isBuffer(t)&&(n(a===t.byteLength,"buffer body must have content length"),o.cork(),o.write(`${A}content-length: ${a}\r
\r
`,"latin1"),o.write(t),o.uncork(),i.onBodySent(t),l||(o[I]=!0)):0===a?o.write(`${A}content-length: 0\r
\r
`,"latin1"):(n(null===a,"no body must not have content length"),o.write(`${A}\r
`,"latin1")),i.onRequestSent(),r[W]()}catch(t){e(t)}}async function eE(e,t,r,i,s,o,a,l){n(o===t.size,"blob body must have content length");try{if(null!=o&&o!==t.size)throw new A;let e=Buffer.from(await t.arrayBuffer());s.cork(),s.write(`${a}content-length: ${o}\r
\r
`,"latin1"),s.write(e),s.uncork(),i.onBodySent(e),i.onRequestSent(),l||(s[I]=!0),r[W]()}catch(t){e(t)}}async function eC(e,t,r,i,s,o,a,A){n(0!==o||0===r[Q],"iterator body cannot be pipelined");let l=null;function c(){if(l){let e=l;l=null,e()}}let u=()=>new Promise((e,t)=>{n(null===l),s[F]?t(s[F]):l=e});s.on("close",c).on("drain",c);let h=new eI({abort:e,socket:s,request:i,contentLength:o,client:r,expectsPayload:A,header:a});try{for await(let e of t){if(s[F])throw s[F];h.write(e)||await u()}h.end()}catch(e){h.destroy(e)}finally{s.off("close",c).off("drain",c)}}class eI{constructor({abort:e,socket:t,request:r,contentLength:i,client:n,expectsPayload:s,header:o}){this.socket=t,this.request=r,this.contentLength=i,this.client=n,this.bytesWritten=0,this.expectsPayload=s,this.header=o,this.abort=e,t[b]=!0}write(e){let{socket:t,request:r,contentLength:i,client:n,bytesWritten:s,expectsPayload:o,header:a}=this;if(t[F])throw t[F];if(t.destroyed)return!1;let l=Buffer.byteLength(e);if(!l)return!0;if(null!==i&&s+l>i){if(n[G])throw new A;process.emitWarning(new A)}t.cork(),0===s&&(o||(t[I]=!0),null===i?t.write(`${a}transfer-encoding: chunked\r
`,"latin1"):t.write(`${a}content-length: ${i}\r
\r
`,"latin1")),null===i&&t.write(`\r
${l.toString(16)}\r
`,"latin1"),this.bytesWritten+=l;let c=t.write(e);return t.uncork(),r.onBodySent(e),!c&&t[B].timeout&&t[B].timeoutType===eo&&t[B].timeout.refresh&&t[B].timeout.refresh(),c}end(){let{socket:e,contentLength:t,client:r,bytesWritten:i,expectsPayload:n,header:s,request:o}=this;if(o.onRequestSent(),e[b]=!1,e[F])throw e[F];if(!e.destroyed){if(0===i?n?e.write(`${s}content-length: 0\r
\r
`,"latin1"):e.write(`${s}\r
`,"latin1"):null===t&&e.write("\r\n0\r\n\r\n","latin1"),null!==t&&i!==t){if(r[G])throw new A;process.emitWarning(new A)}e[B].timeout&&e[B].timeoutType===eo&&e[B].timeout.refresh&&e[B].timeout.refresh(),r[W]()}}destroy(e){let{socket:t,client:r,abort:i}=this;t[b]=!1,e&&(n(r[Q]<=1,"pipeline should only contain this request"),i(e))}}e.exports=eu},613:(e,t,r)=>{"use strict";let i;let n=r(8061),{pipeline:s}=r(4492),o=r(7211),{RequestContentLengthMismatchError:a,RequestAbortedError:A,SocketError:l,InformationalError:c}=r(2665),{kUrl:u,kReset:h,kClient:d,kRunning:g,kPending:f,kQueue:p,kPendingIdx:E,kRunningIdx:C,kError:I,kSocket:m,kStrictContentLength:B,kOnError:y,kMaxConcurrentStreams:Q,kHTTP2Session:w,kResume:v}=r(1053),b=Symbol("open streams"),S=!1;try{i=r(2725)}catch{i={constants:{}}}let{constants:{HTTP2_HEADER_AUTHORITY:T,HTTP2_HEADER_METHOD:D,HTTP2_HEADER_PATH:R,HTTP2_HEADER_SCHEME:k,HTTP2_HEADER_CONTENT_LENGTH:N,HTTP2_HEADER_EXPECT:F,HTTP2_HEADER_STATUS:M}}=i;function L(e){let t=[];for(let[r,i]of Object.entries(e))if(Array.isArray(i))for(let e of i)t.push(Buffer.from(r),Buffer.from(e));else t.push(Buffer.from(r),Buffer.from(i));return t}async function U(e,t){e[m]=t,S||(S=!0,process.emitWarning("H2 support is experimental, expect them to change at any time.",{code:"UNDICI-H2"}));let r=i.connect(e[u],{createConnection:()=>t,peerMaxConcurrentStreams:e[Q]});r[b]=0,r[d]=e,r[m]=t,o.addListener(r,"error",_),o.addListener(r,"frameError",x),o.addListener(r,"end",O),o.addListener(r,"goaway",P),o.addListener(r,"close",function(){let{[d]:e}=this,{[m]:t}=e,r=this[m][I]||this[I]||new l("closed",o.getSocketInfo(t));if(e[w]=null,e.destroyed){n(0===e[f]);let t=e[p].splice(e[C]);for(let i=0;i<t.length;i++){let n=t[i];o.errorRequest(e,n,r)}}}),r.unref(),e[w]=r,t[w]=r,o.addListener(t,"error",function(e){n("ERR_TLS_CERT_ALTNAME_INVALID"!==e.code),this[I]=e,this[d][y](e)}),o.addListener(t,"end",function(){o.destroy(this,new l("other side closed",o.getSocketInfo(this)))}),o.addListener(t,"close",function(){let t=this[I]||new l("closed",o.getSocketInfo(this));e[m]=null,null!=this[w]&&this[w].destroy(t),e[E]=e[C],n(0===e[g]),e.emit("disconnect",e[u],[e],t),e[v]()});let s=!1;return t.on("close",()=>{s=!0}),{version:"h2",defaultPipelining:1/0,write(...t){G(e,...t)},resume(){},destroy(e,r){s?queueMicrotask(r):t.destroy(e).on("close",r)},get destroyed(){return t.destroyed},busy:()=>!1}}function _(e){n("ERR_TLS_CERT_ALTNAME_INVALID"!==e.code),this[m][I]=e,this[d][y](e)}function x(e,t,r){if(0===r){let r=new c(`HTTP/2: "frameError" received - type ${e}, code ${t}`);this[m][I]=r,this[d][y](r)}}function O(){let e=new l("other side closed",o.getSocketInfo(this[m]));this.destroy(e),o.destroy(this[m],e)}function P(e){let t=new A(`HTTP/2: "GOAWAY" frame received with code ${e}`);this[m][I]=t,this[d][y](t),this.unref(),o.destroy(this[m],t)}function V(e){return"GET"!==e&&"HEAD"!==e&&"OPTIONS"!==e&&"TRACE"!==e&&"CONNECT"!==e}function G(e,t){let r;let i=e[w],{body:s,method:l,path:h,host:d,upgrade:g,expectContinue:f,signal:p,headers:E}=t;if(g)return o.errorRequest(e,t,Error("Upgrade not supported for H2")),!1;if(t.aborted)return!1;let C={};for(let e=0;e<E.length;e+=2){let t=E[e+0],r=E[e+1];if(Array.isArray(r))for(let e=0;e<r.length;e++)C[t]?C[t]+=`,${r[e]}`:C[t]=r[e];else C[t]=r}let{hostname:I,port:y}=e[u];C[T]=d||`${I}${y?`:${y}`:""}`,C[D]=l;let Q=i=>{t.aborted||t.completed||(i=i||new A,o.errorRequest(e,t,i),null!=r&&o.destroy(r,i),o.destroy(s,i))};try{t.onConnect(Q)}catch(r){o.errorRequest(e,t,r)}if("CONNECT"===l)return i.ref(),(r=i.request(C,{endStream:!1,signal:p})).id&&!r.pending?(t.onUpgrade(null,null,r),++i[b]):r.once("ready",()=>{t.onUpgrade(null,null,r),++i[b]}),r.once("close",()=>{i[b]-=1,0===i[b]&&i.unref()}),!0;C[R]=h,C[k]="https";let v="PUT"===l||"POST"===l||"PATCH"===l;s&&"function"==typeof s.read&&s.read(0);let S=o.bodyLength(s);if(null==S&&(S=t.contentLength),0!==S&&v||(S=null),V(l)&&S>0&&null!=t.contentLength&&t.contentLength!==S){if(e[B])return o.errorRequest(e,t,new a),!1;process.emitWarning(new a)}null!=S&&(n(s,"no body must not have content length"),C[N]=`${S}`),i.ref();let U="GET"===l||"HEAD"===l||null===s;return f?(C[F]="100-continue",(r=i.request(C,{endStream:U,signal:p})).once("continue",_)):(r=i.request(C,{endStream:U,signal:p}),_()),++i[b],r.once("response",i=>{let{[M]:n,...s}=i;if(t.onResponseStarted(),t.aborted){let i=new A;o.errorRequest(e,t,i),o.destroy(r,i);return}!1===t.onHeaders(Number(n),L(s),r.resume.bind(r),"")&&r.pause(),r.on("data",e=>{!1===t.onData(e)&&r.pause()})}),r.once("end",()=>{if(r.state?.state==null||r.state.state<6){t.onComplete([]);return}0===i[b]&&i.unref(),Q(new c("HTTP/2: stream half-closed (remote)"))}),r.once("close",()=>{i[b]-=1,0===i[b]&&i.unref()}),r.once("error",function(e){Q(e)}),r.once("frameError",(e,t)=>{Q(new c(`HTTP/2: "frameError" received - type ${e}, code ${t}`))}),!0;function _(){s&&0!==S?o.isBuffer(s)?Y(Q,r,s,e,t,e[m],S,v):o.isBlobLike(s)?"function"==typeof s.stream?q(Q,r,s.stream(),e,t,e[m],S,v):J(Q,r,s,e,t,e[m],S,v):o.isStream(s)?H(Q,e[m],v,r,s,e,t,S):o.isIterable(s)?q(Q,r,s,e,t,e[m],S,v):n(!1):Y(Q,r,null,e,t,e[m],S,v)}}function Y(e,t,r,i,s,a,A,l){try{null!=r&&o.isBuffer(r)&&(n(A===r.byteLength,"buffer body must have content length"),t.cork(),t.write(r),t.uncork(),t.end(),s.onBodySent(r)),l||(a[h]=!0),s.onRequestSent(),i[v]()}catch(t){e(t)}}function H(e,t,r,i,a,A,l,c){n(0!==c||0===A[g],"stream body cannot be pipelined");let u=s(a,i,i=>{i?(o.destroy(u,i),e(i)):(o.removeAllListeners(u),l.onRequestSent(),r||(t[h]=!0),A[v]())});function d(e){l.onBodySent(e)}o.addListener(u,"data",d)}async function J(e,t,r,i,s,o,A,l){n(A===r.size,"blob body must have content length");try{if(null!=A&&A!==r.size)throw new a;let e=Buffer.from(await r.arrayBuffer());t.cork(),t.write(e),t.uncork(),t.end(),s.onBodySent(e),s.onRequestSent(),l||(o[h]=!0),i[v]()}catch(t){e(t)}}async function q(e,t,r,i,s,o,a,A){n(0!==a||0===i[g],"iterator body cannot be pipelined");let l=null;function c(){if(l){let e=l;l=null,e()}}let u=()=>new Promise((e,t)=>{n(null===l),o[I]?t(o[I]):l=e});t.on("close",c).on("drain",c);try{for await(let e of r){if(o[I])throw o[I];let r=t.write(e);s.onBodySent(e),r||await u()}t.end(),s.onRequestSent(),A||(o[h]=!0),i[v]()}catch(t){e(t)}finally{t.off("close",c).off("drain",c)}}e.exports=U},2098:(e,t,r)=>{"use strict";let i=r(8061),n=r(7503),s=r(8849),o=r(7211),{channels:a}=r(1549),A=r(4976),l=r(9524),{InvalidArgumentError:c,InformationalError:u,ClientDestroyedError:h}=r(2665),d=r(6157),{kUrl:g,kServerName:f,kClient:p,kBusy:E,kConnect:C,kResuming:I,kRunning:m,kPending:B,kSize:y,kQueue:Q,kConnected:w,kConnecting:v,kNeedDrain:b,kKeepAliveDefaultTimeout:S,kHostHeader:T,kPendingIdx:D,kRunningIdx:R,kError:k,kPipelining:N,kKeepAliveTimeoutValue:F,kMaxHeadersSize:M,kKeepAliveMaxTimeout:L,kKeepAliveTimeoutThreshold:U,kHeadersTimeout:_,kBodyTimeout:x,kStrictContentLength:O,kConnector:P,kMaxRedirections:V,kMaxRequests:G,kCounter:Y,kClose:H,kDestroy:J,kDispatch:q,kInterceptors:W,kLocalAddress:j,kMaxResponseSize:z,kOnError:K,kHTTPContext:Z,kMaxConcurrentStreams:X,kResume:$}=r(1053),ee=r(5588),et=r(613),er=!1,ei=Symbol("kClosedResolve");function en(e){return e[N]??e[Z]?.defaultPipelining??1}class es extends l{constructor(e,{interceptors:t,maxHeaderSize:r,headersTimeout:i,socketTimeout:a,requestTimeout:A,connectTimeout:l,bodyTimeout:u,idleTimeout:h,keepAlive:p,keepAliveTimeout:E,maxKeepAliveTimeout:C,keepAliveMaxTimeout:m,keepAliveTimeoutThreshold:B,socketPath:y,pipelining:w,tls:v,strictContentLength:k,maxCachedSessions:Y,maxRedirections:H,connect:J,maxRequestsPerClient:q,localAddress:ee,maxResponseSize:et,autoSelectFamily:en,autoSelectFamilyAttemptTimeout:es,maxConcurrentStreams:eA,allowH2:el}={}){if(super(),void 0!==p)throw new c("unsupported keepAlive, use pipelining=0 instead");if(void 0!==a)throw new c("unsupported socketTimeout, use headersTimeout & bodyTimeout instead");if(void 0!==A)throw new c("unsupported requestTimeout, use headersTimeout & bodyTimeout instead");if(void 0!==h)throw new c("unsupported idleTimeout, use keepAliveTimeout instead");if(void 0!==C)throw new c("unsupported maxKeepAliveTimeout, use keepAliveMaxTimeout instead");if(null!=r&&!Number.isFinite(r))throw new c("invalid maxHeaderSize");if(null!=y&&"string"!=typeof y)throw new c("invalid socketPath");if(null!=l&&(!Number.isFinite(l)||l<0))throw new c("invalid connectTimeout");if(null!=E&&(!Number.isFinite(E)||E<=0))throw new c("invalid keepAliveTimeout");if(null!=m&&(!Number.isFinite(m)||m<=0))throw new c("invalid keepAliveMaxTimeout");if(null!=B&&!Number.isFinite(B))throw new c("invalid keepAliveTimeoutThreshold");if(null!=i&&(!Number.isInteger(i)||i<0))throw new c("headersTimeout must be a positive integer or zero");if(null!=u&&(!Number.isInteger(u)||u<0))throw new c("bodyTimeout must be a positive integer or zero");if(null!=J&&"function"!=typeof J&&"object"!=typeof J)throw new c("connect must be a function or an object");if(null!=H&&(!Number.isInteger(H)||H<0))throw new c("maxRedirections must be a positive number");if(null!=q&&(!Number.isInteger(q)||q<0))throw new c("maxRequestsPerClient must be a positive number");if(null!=ee&&("string"!=typeof ee||0===n.isIP(ee)))throw new c("localAddress must be valid string IP address");if(null!=et&&(!Number.isInteger(et)||et<-1))throw new c("maxResponseSize must be a positive number");if(null!=es&&(!Number.isInteger(es)||es<-1))throw new c("autoSelectFamilyAttemptTimeout must be a positive number");if(null!=el&&"boolean"!=typeof el)throw new c("allowH2 must be a valid boolean value");if(null!=eA&&("number"!=typeof eA||eA<1))throw new c("maxConcurrentStreams must be a positive integer, greater than 0");"function"!=typeof J&&(J=d({...v,maxCachedSessions:Y,allowH2:el,socketPath:y,timeout:l,...en?{autoSelectFamily:en,autoSelectFamilyAttemptTimeout:es}:void 0,...J})),t?.Client&&Array.isArray(t.Client)?(this[W]=t.Client,er||(er=!0,process.emitWarning("Client.Options#interceptor is deprecated. Use Dispatcher#compose instead.",{code:"UNDICI-CLIENT-INTERCEPTOR-DEPRECATED"}))):this[W]=[eo({maxRedirections:H})],this[g]=o.parseOrigin(e),this[P]=J,this[N]=null!=w?w:1,this[M]=r||s.maxHeaderSize,this[S]=null==E?4e3:E,this[L]=null==m?6e5:m,this[U]=null==B?2e3:B,this[F]=this[S],this[f]=null,this[j]=null!=ee?ee:null,this[I]=0,this[b]=0,this[T]=`host: ${this[g].hostname}${this[g].port?`:${this[g].port}`:""}\r
`,this[x]=null!=u?u:3e5,this[_]=null!=i?i:3e5,this[O]=null==k||k,this[V]=H,this[G]=q,this[ei]=null,this[z]=et>-1?et:-1,this[X]=null!=eA?eA:100,this[Z]=null,this[Q]=[],this[R]=0,this[D]=0,this[$]=e=>ec(this,e),this[K]=e=>ea(this,e)}get pipelining(){return this[N]}set pipelining(e){this[N]=e,this[$](!0)}get[B](){return this[Q].length-this[D]}get[m](){return this[D]-this[R]}get[y](){return this[Q].length-this[R]}get[w](){return!!this[Z]&&!this[v]&&!this[Z].destroyed}get[E](){return!!(this[Z]?.busy(null)||this[y]>=(en(this)||1)||this[B]>0)}[C](e){eA(this),this.once("connect",e)}[q](e,t){let r=new A(e.origin||this[g].origin,e,t);return this[Q].push(r),this[I]||(null==o.bodyLength(r.body)&&o.isIterable(r.body)?(this[I]=1,queueMicrotask(()=>ec(this))):this[$](!0)),this[I]&&2!==this[b]&&this[E]&&(this[b]=2),this[b]<2}async [H](){return new Promise(e=>{this[y]?this[ei]=e:e(null)})}async [J](e){return new Promise(t=>{let r=this[Q].splice(this[D]);for(let t=0;t<r.length;t++){let i=r[t];o.errorRequest(this,i,e)}let i=()=>{this[ei]&&(this[ei](),this[ei]=null),t(null)};this[Z]?(this[Z].destroy(e,i),this[Z]=null):queueMicrotask(i),this[$]()})}}let eo=r(1224);function ea(e,t){if(0===e[m]&&"UND_ERR_INFO"!==t.code&&"UND_ERR_SOCKET"!==t.code){i(e[D]===e[R]);let r=e[Q].splice(e[R]);for(let i=0;i<r.length;i++){let n=r[i];o.errorRequest(e,n,t)}i(0===e[y])}}async function eA(e){i(!e[v]),i(!e[Z]);let{host:t,hostname:r,protocol:s,port:A}=e[g];if("["===r[0]){let e=r.indexOf("]");i(-1!==e);let t=r.substring(1,e);i(n.isIP(t)),r=t}e[v]=!0,a.beforeConnect.hasSubscribers&&a.beforeConnect.publish({connectParams:{host:t,hostname:r,protocol:s,port:A,version:e[Z]?.version,servername:e[f],localAddress:e[j]},connector:e[P]});try{let n=await new Promise((i,n)=>{e[P]({host:t,hostname:r,protocol:s,port:A,servername:e[f],localAddress:e[j]},(e,t)=>{e?n(e):i(t)})});if(e.destroyed){o.destroy(n.on("error",()=>{}),new h);return}i(n);try{e[Z]="h2"===n.alpnProtocol?await et(e,n):await ee(e,n)}catch(e){throw n.destroy().on("error",()=>{}),e}e[v]=!1,n[Y]=0,n[G]=e[G],n[p]=e,n[k]=null,a.connected.hasSubscribers&&a.connected.publish({connectParams:{host:t,hostname:r,protocol:s,port:A,version:e[Z]?.version,servername:e[f],localAddress:e[j]},connector:e[P],socket:n}),e.emit("connect",e[g],[e])}catch(n){if(e.destroyed)return;if(e[v]=!1,a.connectError.hasSubscribers&&a.connectError.publish({connectParams:{host:t,hostname:r,protocol:s,port:A,version:e[Z]?.version,servername:e[f],localAddress:e[j]},connector:e[P],error:n}),"ERR_TLS_CERT_ALTNAME_INVALID"===n.code)for(i(0===e[m]);e[B]>0&&e[Q][e[D]].servername===e[f];){let t=e[Q][e[D]++];o.errorRequest(e,t,n)}else ea(e,n);e.emit("connectionError",e[g],[e],n)}e[$]()}function el(e){e[b]=0,e.emit("drain",e[g],[e])}function ec(e,t){2!==e[I]&&(e[I]=2,eu(e,t),e[I]=0,e[R]>256&&(e[Q].splice(0,e[R]),e[D]-=e[R],e[R]=0))}function eu(e,t){for(;;){if(e.destroyed){i(0===e[B]);return}if(e[ei]&&!e[y]){e[ei](),e[ei]=null;return}if(e[Z]&&e[Z].resume(),e[E])e[b]=2;else if(2===e[b]){t?(e[b]=1,queueMicrotask(()=>el(e))):el(e);continue}if(0===e[B]||e[m]>=(en(e)||1))return;let r=e[Q][e[D]];if("https:"===e[g].protocol&&e[f]!==r.servername){if(e[m]>0)return;e[f]=r.servername,e[Z]?.destroy(new u("servername changed"),()=>{e[Z]=null,ec(e)})}if(e[v])return;if(!e[Z]){eA(e);return}if(e[Z].destroyed||e[Z].busy(r))return;!r.aborted&&e[Z].write(r)?e[D]++:e[Q].splice(e[D],1)}}e.exports=es},9524:(e,t,r)=>{"use strict";let i=r(9296),{ClientDestroyedError:n,ClientClosedError:s,InvalidArgumentError:o}=r(2665),{kDestroy:a,kClose:A,kClosed:l,kDestroyed:c,kDispatch:u,kInterceptors:h}=r(1053),d=Symbol("onDestroyed"),g=Symbol("onClosed"),f=Symbol("Intercepted Dispatch");class p extends i{constructor(){super(),this[c]=!1,this[d]=null,this[l]=!1,this[g]=[]}get destroyed(){return this[c]}get closed(){return this[l]}get interceptors(){return this[h]}set interceptors(e){if(e){for(let t=e.length-1;t>=0;t--)if("function"!=typeof this[h][t])throw new o("interceptor must be an function")}this[h]=e}close(e){if(void 0===e)return new Promise((e,t)=>{this.close((r,i)=>r?t(r):e(i))});if("function"!=typeof e)throw new o("invalid callback");if(this[c]){queueMicrotask(()=>e(new n,null));return}if(this[l]){this[g]?this[g].push(e):queueMicrotask(()=>e(null,null));return}this[l]=!0,this[g].push(e);let t=()=>{let e=this[g];this[g]=null;for(let t=0;t<e.length;t++)e[t](null,null)};this[A]().then(()=>this.destroy()).then(()=>{queueMicrotask(t)})}destroy(e,t){if("function"==typeof e&&(t=e,e=null),void 0===t)return new Promise((t,r)=>{this.destroy(e,(e,i)=>e?r(e):t(i))});if("function"!=typeof t)throw new o("invalid callback");if(this[c]){this[d]?this[d].push(t):queueMicrotask(()=>t(null,null));return}e||(e=new n),this[c]=!0,this[d]=this[d]||[],this[d].push(t);let r=()=>{let e=this[d];this[d]=null;for(let t=0;t<e.length;t++)e[t](null,null)};this[a](e).then(()=>{queueMicrotask(r)})}[f](e,t){if(!this[h]||0===this[h].length)return this[f]=this[u],this[u](e,t);let r=this[u].bind(this);for(let e=this[h].length-1;e>=0;e--)r=this[h][e](r);return this[f]=r,r(e,t)}dispatch(e,t){if(!t||"object"!=typeof t)throw new o("handler must be an object");try{if(!e||"object"!=typeof e)throw new o("opts must be an object.");if(this[c]||this[d])throw new n;if(this[l])throw new s;return this[f](e,t)}catch(e){if("function"!=typeof t.onError)throw new o("invalid onError method");return t.onError(e),!1}}}e.exports=p},9296:(e,t,r)=>{"use strict";let i=r(5673);class n extends i{dispatch(){throw Error("not implemented")}close(){throw Error("not implemented")}destroy(){throw Error("not implemented")}compose(...e){let t=Array.isArray(e[0])?e[0]:e,r=this.dispatch.bind(this);for(let e of t)if(null!=e){if("function"!=typeof e)throw TypeError(`invalid interceptor, expected function received ${typeof e}`);if(null==(r=e(r))||"function"!=typeof r||2!==r.length)throw TypeError("invalid interceptor")}return new s(this,r)}}class s extends n{#e=null;#t=null;constructor(e,t){super(),this.#e=e,this.#t=t}dispatch(...e){this.#t(...e)}close(...e){return this.#e.close(...e)}destroy(...e){return this.#e.destroy(...e)}}e.exports=n},5791:(e,t,r)=>{"use strict";let i=r(9524),{kClose:n,kDestroy:s,kClosed:o,kDestroyed:a,kDispatch:A,kNoProxyAgent:l,kHttpProxyAgent:c,kHttpsProxyAgent:u}=r(1053),h=r(7688),d=r(8031),g={"http:":80,"https:":443},f=!1;class p extends i{#r=null;#i=null;#n=null;constructor(e={}){super(),this.#n=e,f||(f=!0,process.emitWarning("EnvHttpProxyAgent is experimental, expect them to change at any time.",{code:"UNDICI-EHPA"}));let{httpProxy:t,httpsProxy:r,noProxy:i,...n}=e;this[l]=new d(n);let s=t??process.env.http_proxy??process.env.HTTP_PROXY;s?this[c]=new h({...n,uri:s}):this[c]=this[l];let o=r??process.env.https_proxy??process.env.HTTPS_PROXY;o?this[u]=new h({...n,uri:o}):this[u]=this[c],this.#s()}[A](e,t){let r=new URL(e.origin);return this.#o(r).dispatch(e,t)}async [n](){await this[l].close(),this[c][o]||await this[c].close(),this[u][o]||await this[u].close()}async [s](e){await this[l].destroy(e),this[c][a]||await this[c].destroy(e),this[u][a]||await this[u].destroy(e)}#o(e){let{protocol:t,host:r,port:i}=e;return(r=r.replace(/:\d*$/,"").toLowerCase(),i=Number.parseInt(i,10)||g[t]||0,this.#a(r,i))?"https:"===t?this[u]:this[c]:this[l]}#a(e,t){if(this.#A&&this.#s(),0===this.#i.length)return!0;if("*"===this.#r)return!1;for(let r=0;r<this.#i.length;r++){let i=this.#i[r];if(!i.port||i.port===t){if(/^[.*]/.test(i.hostname)){if(e.endsWith(i.hostname.replace(/^\*/,"")))return!1}else if(e===i.hostname)return!1}}return!0}#s(){let e=this.#n.noProxy??this.#l,t=e.split(/[,\s]/),r=[];for(let e=0;e<t.length;e++){let i=t[e];if(!i)continue;let n=i.match(/^(.+):(\d+)$/);r.push({hostname:(n?n[1]:i).toLowerCase(),port:n?Number.parseInt(n[2],10):0})}this.#r=e,this.#i=r}get #A(){return void 0===this.#n.noProxy&&this.#r!==this.#l}get #l(){return process.env.no_proxy??process.env.NO_PROXY??""}}e.exports=p},3106:e=>{"use strict";let t=2048,r=2047;class i{constructor(){this.bottom=0,this.top=0,this.list=Array(t),this.next=null}isEmpty(){return this.top===this.bottom}isFull(){return(this.top+1&r)===this.bottom}push(e){this.list[this.top]=e,this.top=this.top+1&r}shift(){let e=this.list[this.bottom];return void 0===e?null:(this.list[this.bottom]=void 0,this.bottom=this.bottom+1&r,e)}}e.exports=class{constructor(){this.head=this.tail=new i}isEmpty(){return this.head.isEmpty()}push(e){this.head.isFull()&&(this.head=this.head.next=new i),this.head.push(e)}shift(){let e=this.tail,t=e.shift();return e.isEmpty()&&null!==e.next&&(this.tail=e.next),t}}},7710:(e,t,r)=>{"use strict";let i=r(9524),n=r(3106),{kConnected:s,kSize:o,kRunning:a,kPending:A,kQueued:l,kBusy:c,kFree:u,kUrl:h,kClose:d,kDestroy:g,kDispatch:f}=r(1053),p=r(1399),E=Symbol("clients"),C=Symbol("needDrain"),I=Symbol("queue"),m=Symbol("closed resolve"),B=Symbol("onDrain"),y=Symbol("onConnect"),Q=Symbol("onDisconnect"),w=Symbol("onConnectionError"),v=Symbol("get dispatcher"),b=Symbol("add client"),S=Symbol("remove client"),T=Symbol("stats");class D extends i{constructor(){super(),this[I]=new n,this[E]=[],this[l]=0;let e=this;this[B]=function(t,r){let i=e[I],n=!1;for(;!n;){let t=i.shift();if(!t)break;e[l]--,n=!this.dispatch(t.opts,t.handler)}this[C]=n,!this[C]&&e[C]&&(e[C]=!1,e.emit("drain",t,[e,...r])),e[m]&&i.isEmpty()&&Promise.all(e[E].map(e=>e.close())).then(e[m])},this[y]=(t,r)=>{e.emit("connect",t,[e,...r])},this[Q]=(t,r,i)=>{e.emit("disconnect",t,[e,...r],i)},this[w]=(t,r,i)=>{e.emit("connectionError",t,[e,...r],i)},this[T]=new p(this)}get[c](){return this[C]}get[s](){return this[E].filter(e=>e[s]).length}get[u](){return this[E].filter(e=>e[s]&&!e[C]).length}get[A](){let e=this[l];for(let{[A]:t}of this[E])e+=t;return e}get[a](){let e=0;for(let{[a]:t}of this[E])e+=t;return e}get[o](){let e=this[l];for(let{[o]:t}of this[E])e+=t;return e}get stats(){return this[T]}async [d](){return this[I].isEmpty()?Promise.all(this[E].map(e=>e.close())):new Promise(e=>{this[m]=e})}async [g](e){for(;;){let t=this[I].shift();if(!t)break;t.handler.onError(e)}return Promise.all(this[E].map(t=>t.destroy(e)))}[f](e,t){let r=this[v]();return r?r.dispatch(e,t)||(r[C]=!0,this[C]=!this[v]()):(this[C]=!0,this[I].push({opts:e,handler:t}),this[l]++),!this[C]}[b](e){return e.on("drain",this[B]).on("connect",this[y]).on("disconnect",this[Q]).on("connectionError",this[w]),this[E].push(e),this[C]&&queueMicrotask(()=>{this[C]&&this[B](e[h],[this,e])}),this}[S](e){e.close(()=>{let t=this[E].indexOf(e);-1!==t&&this[E].splice(t,1)}),this[C]=this[E].some(e=>!e[C]&&!0!==e.closed&&!0!==e.destroyed)}}e.exports={PoolBase:D,kClients:E,kNeedDrain:C,kAddClient:b,kRemoveClient:S,kGetDispatcher:v}},1399:(e,t,r)=>{let{kFree:i,kConnected:n,kPending:s,kQueued:o,kRunning:a,kSize:A}=r(1053),l=Symbol("pool");class c{constructor(e){this[l]=e}get connected(){return this[l][n]}get free(){return this[l][i]}get pending(){return this[l][s]}get queued(){return this[l][o]}get running(){return this[l][a]}get size(){return this[l][A]}}e.exports=c},304:(e,t,r)=>{"use strict";let{PoolBase:i,kClients:n,kNeedDrain:s,kAddClient:o,kGetDispatcher:a}=r(7710),A=r(2098),{InvalidArgumentError:l}=r(2665),c=r(7211),{kUrl:u,kInterceptors:h}=r(1053),d=r(6157),g=Symbol("options"),f=Symbol("connections"),p=Symbol("factory");function E(e,t){return new A(e,t)}class C extends i{constructor(e,{connections:t,factory:r=E,connect:i,connectTimeout:n,tls:s,maxCachedSessions:o,socketPath:a,autoSelectFamily:A,autoSelectFamilyAttemptTimeout:C,allowH2:I,...m}={}){if(super(),null!=t&&(!Number.isFinite(t)||t<0))throw new l("invalid connections");if("function"!=typeof r)throw new l("factory must be a function.");if(null!=i&&"function"!=typeof i&&"object"!=typeof i)throw new l("connect must be a function or an object");"function"!=typeof i&&(i=d({...s,maxCachedSessions:o,allowH2:I,socketPath:a,timeout:n,...A?{autoSelectFamily:A,autoSelectFamilyAttemptTimeout:C}:void 0,...i})),this[h]=m.interceptors?.Pool&&Array.isArray(m.interceptors.Pool)?m.interceptors.Pool:[],this[f]=t||null,this[u]=c.parseOrigin(e),this[g]={...c.deepClone(m),connect:i,allowH2:I},this[g].interceptors=m.interceptors?{...m.interceptors}:void 0,this[p]=r}[a](){for(let e of this[n])if(!e[s])return e;if(!this[f]||this[n].length<this[f]){let e=this[p](this[u],this[g]);return this[o](e),e}}}e.exports=C},7688:(e,t,r)=>{"use strict";let{kProxy:i,kClose:n,kDestroy:s,kInterceptors:o}=r(1053),{URL:a}=r(1041),A=r(8031),l=r(304),c=r(9524),{InvalidArgumentError:u,RequestAbortedError:h,SecureProxyConnectionError:d}=r(2665),g=r(6157),f=Symbol("proxy agent"),p=Symbol("proxy client"),E=Symbol("proxy headers"),C=Symbol("request tls settings"),I=Symbol("proxy tls settings"),m=Symbol("connect endpoint function");function B(e){return"https:"===e?443:80}function y(e,t){return new l(e,t)}class Q extends c{constructor(e){if(super(),!e||"object"==typeof e&&!(e instanceof a)&&!e.uri)throw new u("Proxy uri is mandatory");let{clientFactory:t=y}=e;if("function"!=typeof t)throw new u("Proxy opts.clientFactory must be a function.");let r=this.#c(e),{href:n,origin:s,port:l,protocol:c,username:Q,password:w,hostname:v}=r;if(this[i]={uri:n,protocol:c},this[o]=e.interceptors?.ProxyAgent&&Array.isArray(e.interceptors.ProxyAgent)?e.interceptors.ProxyAgent:[],this[C]=e.requestTls,this[I]=e.proxyTls,this[E]=e.headers||{},e.auth&&e.token)throw new u("opts.auth cannot be used in combination with opts.token");e.auth?this[E]["proxy-authorization"]=`Basic ${e.auth}`:e.token?this[E]["proxy-authorization"]=e.token:Q&&w&&(this[E]["proxy-authorization"]=`Basic ${Buffer.from(`${decodeURIComponent(Q)}:${decodeURIComponent(w)}`).toString("base64")}`);let b=g({...e.proxyTls});this[m]=g({...e.requestTls}),this[p]=t(r,{connect:b}),this[f]=new A({...e,connect:async(e,t)=>{let r=e.host;e.port||(r+=`:${B(e.protocol)}`);try{let i;let{socket:n,statusCode:o}=await this[p].connect({origin:s,port:l,path:r,signal:e.signal,headers:{...this[E],host:e.host},servername:this[I]?.servername||v});if(200!==o&&(n.on("error",()=>{}).destroy(),t(new h(`Proxy response (${o}) !== 200 when HTTP Tunneling`))),"https:"!==e.protocol){t(null,n);return}i=this[C]?this[C].servername:e.servername,this[m]({...e,servername:i,httpSocket:n},t)}catch(e){t("ERR_TLS_CERT_ALTNAME_INVALID"===e.code?new d(e):e)}}})}dispatch(e,t){let r=w(e.headers);if(v(r),r&&!("host"in r)&&!("Host"in r)){let{host:t}=new a(e.origin);r.host=t}return this[f].dispatch({...e,headers:r},t)}#c(e){return"string"==typeof e?new a(e):e instanceof a?e:new a(e.uri)}async [n](){await this[f].close(),await this[p].close()}async [s](){await this[f].destroy(),await this[p].destroy()}}function w(e){if(Array.isArray(e)){let t={};for(let r=0;r<e.length;r+=2)t[e[r]]=e[r+1];return t}return e}function v(e){if(e&&Object.keys(e).find(e=>"proxy-authorization"===e.toLowerCase()))throw new u("Proxy-Authorization should be sent in ProxyAgent constructor")}e.exports=Q},1398:(e,t,r)=>{"use strict";let i=r(9296),n=r(5986);class s extends i{#u=null;#h=null;constructor(e,t={}){super(t),this.#u=e,this.#h=t}dispatch(e,t){let r=new n({...e,retryOptions:this.#h},{dispatch:this.#u.dispatch.bind(this.#u),handler:t});return this.#u.dispatch(e,r)}close(){return this.#u.close()}destroy(){return this.#u.destroy()}}e.exports=s},2051:(e,t,r)=>{"use strict";let i=Symbol.for("undici.globalDispatcher.1"),{InvalidArgumentError:n}=r(2665),s=r(8031);function o(e){if(!e||"function"!=typeof e.dispatch)throw new n("Argument agent must implement Agent");Object.defineProperty(globalThis,i,{value:e,writable:!0,enumerable:!1,configurable:!1})}function a(){return globalThis[i]}void 0===a()&&o(new s),e.exports={setGlobalDispatcher:o,getGlobalDispatcher:a}},4165:e=>{"use strict";e.exports=class{#d;constructor(e){if("object"!=typeof e||null===e)throw TypeError("handler must be an object");this.#d=e}onConnect(...e){return this.#d.onConnect?.(...e)}onError(...e){return this.#d.onError?.(...e)}onUpgrade(...e){return this.#d.onUpgrade?.(...e)}onResponseStarted(...e){return this.#d.onResponseStarted?.(...e)}onHeaders(...e){return this.#d.onHeaders?.(...e)}onData(...e){return this.#d.onData?.(...e)}onComplete(...e){return this.#d.onComplete?.(...e)}onBodySent(...e){return this.#d.onBodySent?.(...e)}}},9200:(e,t,r)=>{"use strict";let i=r(7211),{kBodyUsed:n}=r(1053),s=r(8061),{InvalidArgumentError:o}=r(2665),a=r(5673),A=[300,301,302,303,307,308],l=Symbol("body");class c{constructor(e){this[l]=e,this[n]=!1}async *[Symbol.asyncIterator](){s(!this[n],"disturbed"),this[n]=!0,yield*this[l]}}class u{constructor(e,t,r,A){if(null!=t&&(!Number.isInteger(t)||t<0))throw new o("maxRedirections must be a positive number");i.validateHandler(A,r.method,r.upgrade),this.dispatch=e,this.location=null,this.abort=null,this.opts={...r,maxRedirections:0},this.maxRedirections=t,this.handler=A,this.history=[],this.redirectionLimitReached=!1,i.isStream(this.opts.body)?(0===i.bodyLength(this.opts.body)&&this.opts.body.on("data",function(){s(!1)}),"boolean"!=typeof this.opts.body.readableDidRead&&(this.opts.body[n]=!1,a.prototype.on.call(this.opts.body,"data",function(){this[n]=!0}))):this.opts.body&&"function"==typeof this.opts.body.pipeTo?this.opts.body=new c(this.opts.body):this.opts.body&&"string"!=typeof this.opts.body&&!ArrayBuffer.isView(this.opts.body)&&i.isIterable(this.opts.body)&&(this.opts.body=new c(this.opts.body))}onConnect(e){this.abort=e,this.handler.onConnect(e,{history:this.history})}onUpgrade(e,t,r){this.handler.onUpgrade(e,t,r)}onError(e){this.handler.onError(e)}onHeaders(e,t,r,n){if(this.location=this.history.length>=this.maxRedirections||i.isDisturbed(this.opts.body)?null:h(e,t),this.opts.throwOnMaxRedirect&&this.history.length>=this.maxRedirections){this.request&&this.request.abort(Error("max redirects")),this.redirectionLimitReached=!0,this.abort(Error("max redirects"));return}if(this.opts.origin&&this.history.push(new URL(this.opts.path,this.opts.origin)),!this.location)return this.handler.onHeaders(e,t,r,n);let{origin:s,pathname:o,search:a}=i.parseURL(new URL(this.location,this.opts.origin&&new URL(this.opts.path,this.opts.origin))),A=a?`${o}${a}`:o;this.opts.headers=g(this.opts.headers,303===e,this.opts.origin!==s),this.opts.path=A,this.opts.origin=s,this.opts.maxRedirections=0,this.opts.query=null,303===e&&"HEAD"!==this.opts.method&&(this.opts.method="GET",this.opts.body=null)}onData(e){if(!this.location)return this.handler.onData(e)}onComplete(e){this.location?(this.location=null,this.abort=null,this.dispatch(this.opts,this)):this.handler.onComplete(e)}onBodySent(e){this.handler.onBodySent&&this.handler.onBodySent(e)}}function h(e,t){if(-1===A.indexOf(e))return null;for(let e=0;e<t.length;e+=2)if(8===t[e].length&&"location"===i.headerNameToString(t[e]))return t[e+1]}function d(e,t,r){if(4===e.length)return"host"===i.headerNameToString(e);if(t&&i.headerNameToString(e).startsWith("content-"))return!0;if(r&&(13===e.length||6===e.length||19===e.length)){let t=i.headerNameToString(e);return"authorization"===t||"cookie"===t||"proxy-authorization"===t}return!1}function g(e,t,r){let i=[];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)d(e[n],t,r)||i.push(e[n],e[n+1]);else if(e&&"object"==typeof e)for(let n of Object.keys(e))d(n,t,r)||i.push(n,e[n]);else s(null==e,"headers must be an object or an array");return i}e.exports=u},5986:(e,t,r)=>{"use strict";let i=r(8061),{kRetryHandlerDefaultRetry:n}=r(1053),{RequestRetryError:s}=r(2665),{isDisturbed:o,parseHeaders:a,parseRangeHeader:A,wrapRequestBody:l}=r(7211);function c(e){let t=Date.now();return new Date(e).getTime()-t}class u{constructor(e,t){let{retryOptions:r,...i}=e,{retry:s,maxRetries:o,maxTimeout:a,minTimeout:A,timeoutFactor:c,methods:h,errorCodes:d,retryAfter:g,statusCodes:f}=r??{};this.dispatch=t.dispatch,this.handler=t.handler,this.opts={...i,body:l(e.body)},this.abort=null,this.aborted=!1,this.retryOpts={retry:s??u[n],retryAfter:g??!0,maxTimeout:a??3e4,minTimeout:A??500,timeoutFactor:c??2,maxRetries:o??5,methods:h??["GET","HEAD","OPTIONS","PUT","DELETE","TRACE"],statusCodes:f??[500,502,503,504,429],errorCodes:d??["ECONNRESET","ECONNREFUSED","ENOTFOUND","ENETDOWN","ENETUNREACH","EHOSTDOWN","EHOSTUNREACH","EPIPE","UND_ERR_SOCKET"]},this.retryCount=0,this.retryCountCheckpoint=0,this.start=0,this.end=null,this.etag=null,this.resume=null,this.handler.onConnect(e=>{this.aborted=!0,this.abort?this.abort(e):this.reason=e})}onRequestSent(){this.handler.onRequestSent&&this.handler.onRequestSent()}onUpgrade(e,t,r){this.handler.onUpgrade&&this.handler.onUpgrade(e,t,r)}onConnect(e){this.aborted?e(this.reason):this.abort=e}onBodySent(e){if(this.handler.onBodySent)return this.handler.onBodySent(e)}static[n](e,{state:t,opts:r},i){let{statusCode:n,code:s,headers:o}=e,{method:a,retryOptions:A}=r,{maxRetries:l,minTimeout:u,maxTimeout:h,timeoutFactor:d,statusCodes:g,errorCodes:f,methods:p}=A,{counter:E}=t;if(s&&"UND_ERR_REQ_RETRY"!==s&&!f.includes(s)||Array.isArray(p)&&!p.includes(a)||null!=n&&Array.isArray(g)&&!g.includes(n)||E>l){i(e);return}let C=o?.["retry-after"];C&&(C=Number.isNaN(C=Number(C))?c(C):1e3*C),setTimeout(()=>i(null),C>0?Math.min(C,h):Math.min(u*d**(E-1),h))}onHeaders(e,t,r,n){let o=a(t);if(this.retryCount+=1,e>=300)return!1===this.retryOpts.statusCodes.includes(e)?this.handler.onHeaders(e,t,r,n):(this.abort(new s("Request failed",e,{headers:o,data:{count:this.retryCount}})),!1);if(null!=this.resume){if(this.resume=null,206!==e)return!0;let t=A(o["content-range"]);if(!t)return this.abort(new s("Content-Range mismatch",e,{headers:o,data:{count:this.retryCount}})),!1;if(null!=this.etag&&this.etag!==o.etag)return this.abort(new s("ETag mismatch",e,{headers:o,data:{count:this.retryCount}})),!1;let{start:n,size:a,end:l=a}=t;return i(this.start===n,"content-range mismatch"),i(null==this.end||this.end===l,"content-range mismatch"),this.resume=r,!0}if(null==this.end){if(206===e){let s=A(o["content-range"]);if(null==s)return this.handler.onHeaders(e,t,r,n);let{start:a,size:l,end:c=l}=s;i(null!=a&&Number.isFinite(a),"content-range mismatch"),i(null!=c&&Number.isFinite(c),"invalid content-length"),this.start=a,this.end=c}if(null==this.end){let e=o["content-length"];this.end=null!=e?Number(e):null}return i(Number.isFinite(this.start)),i(null==this.end||Number.isFinite(this.end),"invalid content-length"),this.resume=r,this.etag=null!=o.etag?o.etag:null,null!=this.etag&&this.etag.startsWith("W/")&&(this.etag=null),this.handler.onHeaders(e,t,r,n)}let l=new s("Request failed",e,{headers:o,data:{count:this.retryCount}});return this.abort(l),!1}onData(e){return this.start+=e.length,this.handler.onData(e)}onComplete(e){return this.retryCount=0,this.handler.onComplete(e)}onError(e){if(this.aborted||o(this.opts.body))return this.handler.onError(e);function t(e){if(null!=e||this.aborted||o(this.opts.body))return this.handler.onError(e);if(0!==this.start){let e={range:`bytes=${this.start}-${this.end??""}`};null!=this.etag&&(e["if-match"]=this.etag),this.opts={...this.opts,headers:{...this.opts.headers,...e}}}try{this.retryCountCheckpoint=this.retryCount,this.dispatch(this.opts,this)}catch(e){this.handler.onError(e)}}this.retryCount-this.retryCountCheckpoint>0?this.retryCount=this.retryCountCheckpoint+(this.retryCount-this.retryCountCheckpoint):this.retryCount+=1,this.retryOpts.retry(e,{state:{counter:this.retryCount},opts:{retryOptions:this.retryOpts,...this.opts}},t.bind(this))}}e.exports=u},8861:(e,t,r)=>{"use strict";let i=r(7211),{InvalidArgumentError:n,RequestAbortedError:s}=r(2665),o=r(4165);class a extends o{#g=1048576;#f=null;#p=!1;#E=!1;#C=0;#I=null;#d=null;constructor({maxSize:e},t){if(super(t),null!=e&&(!Number.isFinite(e)||e<1))throw new n("maxSize must be a number greater than 0");this.#g=e??this.#g,this.#d=t}onConnect(e){this.#f=e,this.#d.onConnect(this.#m.bind(this))}#m(e){this.#E=!0,this.#I=e}onHeaders(e,t,r,n){let o=i.parseHeaders(t)["content-length"];if(null!=o&&o>this.#g)throw new s(`Response size (${o}) larger than maxSize (${this.#g})`);return!!this.#E||this.#d.onHeaders(e,t,r,n)}onError(e){this.#p||(e=this.#I??e,this.#d.onError(e))}onData(e){return this.#C=this.#C+e.length,this.#C>=this.#g&&(this.#p=!0,this.#E?this.#d.onError(this.#I):this.#d.onComplete([])),!0}onComplete(e){if(!this.#p){if(this.#E){this.#d.onError(this.reason);return}this.#d.onComplete(e)}}}function A({maxSize:e}={maxSize:1048576}){return t=>function(r,i){let{dumpMaxSize:n=e}=r;return t(r,new a({maxSize:n},i))}}e.exports=A},1224:(e,t,r)=>{"use strict";let i=r(9200);function n({maxRedirections:e}){return t=>function(r,n){let{maxRedirections:s=e}=r;if(!s)return t(r,n);let o=new i(t,s,r,n);return t(r={...r,maxRedirections:0},o)}}e.exports=n},246:(e,t,r)=>{"use strict";let i=r(9200);e.exports=e=>{let t=e?.maxRedirections;return e=>function(r,n){let{maxRedirections:s=t,...o}=r;if(!s)return e(r,n);let a=new i(e,s,r,n);return e(o,a)}}},3655:(e,t,r)=>{"use strict";let i=r(5986);e.exports=e=>t=>function(r,n){return t(r,new i({...r,retryOptions:{...e,...r.retryOptions}},{handler:n,dispatch:t}))}},6637:(e,t,r)=>{"use strict";var i,n,s,o,a,A,l;Object.defineProperty(t,"__esModule",{value:!0}),t.SPECIAL_HEADERS=t.HEADER_STATE=t.MINOR=t.MAJOR=t.CONNECTION_TOKEN_CHARS=t.HEADER_CHARS=t.TOKEN=t.STRICT_TOKEN=t.HEX=t.URL_CHAR=t.STRICT_URL_CHAR=t.USERINFO_CHARS=t.MARK=t.ALPHANUM=t.NUM=t.HEX_MAP=t.NUM_MAP=t.ALPHA=t.FINISH=t.H_METHOD_MAP=t.METHOD_MAP=t.METHODS_RTSP=t.METHODS_ICE=t.METHODS_HTTP=t.METHODS=t.LENIENT_FLAGS=t.FLAGS=t.TYPE=t.ERROR=void 0;let c=r(9069);(function(e){e[e.OK=0]="OK",e[e.INTERNAL=1]="INTERNAL",e[e.STRICT=2]="STRICT",e[e.LF_EXPECTED=3]="LF_EXPECTED",e[e.UNEXPECTED_CONTENT_LENGTH=4]="UNEXPECTED_CONTENT_LENGTH",e[e.CLOSED_CONNECTION=5]="CLOSED_CONNECTION",e[e.INVALID_METHOD=6]="INVALID_METHOD",e[e.INVALID_URL=7]="INVALID_URL",e[e.INVALID_CONSTANT=8]="INVALID_CONSTANT",e[e.INVALID_VERSION=9]="INVALID_VERSION",e[e.INVALID_HEADER_TOKEN=10]="INVALID_HEADER_TOKEN",e[e.INVALID_CONTENT_LENGTH=11]="INVALID_CONTENT_LENGTH",e[e.INVALID_CHUNK_SIZE=12]="INVALID_CHUNK_SIZE",e[e.INVALID_STATUS=13]="INVALID_STATUS",e[e.INVALID_EOF_STATE=14]="INVALID_EOF_STATE",e[e.INVALID_TRANSFER_ENCODING=15]="INVALID_TRANSFER_ENCODING",e[e.CB_MESSAGE_BEGIN=16]="CB_MESSAGE_BEGIN",e[e.CB_HEADERS_COMPLETE=17]="CB_HEADERS_COMPLETE",e[e.CB_MESSAGE_COMPLETE=18]="CB_MESSAGE_COMPLETE",e[e.CB_CHUNK_HEADER=19]="CB_CHUNK_HEADER",e[e.CB_CHUNK_COMPLETE=20]="CB_CHUNK_COMPLETE",e[e.PAUSED=21]="PAUSED",e[e.PAUSED_UPGRADE=22]="PAUSED_UPGRADE",e[e.PAUSED_H2_UPGRADE=23]="PAUSED_H2_UPGRADE",e[e.USER=24]="USER"})(i=t.ERROR||(t.ERROR={})),function(e){e[e.BOTH=0]="BOTH",e[e.REQUEST=1]="REQUEST",e[e.RESPONSE=2]="RESPONSE"}(n=t.TYPE||(t.TYPE={})),function(e){e[e.CONNECTION_KEEP_ALIVE=1]="CONNECTION_KEEP_ALIVE",e[e.CONNECTION_CLOSE=2]="CONNECTION_CLOSE",e[e.CONNECTION_UPGRADE=4]="CONNECTION_UPGRADE",e[e.CHUNKED=8]="CHUNKED",e[e.UPGRADE=16]="UPGRADE",e[e.CONTENT_LENGTH=32]="CONTENT_LENGTH",e[e.SKIPBODY=64]="SKIPBODY",e[e.TRAILING=128]="TRAILING",e[e.TRANSFER_ENCODING=512]="TRANSFER_ENCODING"}(s=t.FLAGS||(t.FLAGS={})),function(e){e[e.HEADERS=1]="HEADERS",e[e.CHUNKED_LENGTH=2]="CHUNKED_LENGTH",e[e.KEEP_ALIVE=4]="KEEP_ALIVE"}(o=t.LENIENT_FLAGS||(t.LENIENT_FLAGS={})),function(e){e[e.DELETE=0]="DELETE",e[e.GET=1]="GET",e[e.HEAD=2]="HEAD",e[e.POST=3]="POST",e[e.PUT=4]="PUT",e[e.CONNECT=5]="CONNECT",e[e.OPTIONS=6]="OPTIONS",e[e.TRACE=7]="TRACE",e[e.COPY=8]="COPY",e[e.LOCK=9]="LOCK",e[e.MKCOL=10]="MKCOL",e[e.MOVE=11]="MOVE",e[e.PROPFIND=12]="PROPFIND",e[e.PROPPATCH=13]="PROPPATCH",e[e.SEARCH=14]="SEARCH",e[e.UNLOCK=15]="UNLOCK",e[e.BIND=16]="BIND",e[e.REBIND=17]="REBIND",e[e.UNBIND=18]="UNBIND",e[e.ACL=19]="ACL",e[e.REPORT=20]="REPORT",e[e.MKACTIVITY=21]="MKACTIVITY",e[e.CHECKOUT=22]="CHECKOUT",e[e.MERGE=23]="MERGE",e[e["M-SEARCH"]=24]="M-SEARCH",e[e.NOTIFY=25]="NOTIFY",e[e.SUBSCRIBE=26]="SUBSCRIBE",e[e.UNSUBSCRIBE=27]="UNSUBSCRIBE",e[e.PATCH=28]="PATCH",e[e.PURGE=29]="PURGE",e[e.MKCALENDAR=30]="MKCALENDAR",e[e.LINK=31]="LINK",e[e.UNLINK=32]="UNLINK",e[e.SOURCE=33]="SOURCE",e[e.PRI=34]="PRI",e[e.DESCRIBE=35]="DESCRIBE",e[e.ANNOUNCE=36]="ANNOUNCE",e[e.SETUP=37]="SETUP",e[e.PLAY=38]="PLAY",e[e.PAUSE=39]="PAUSE",e[e.TEARDOWN=40]="TEARDOWN",e[e.GET_PARAMETER=41]="GET_PARAMETER",e[e.SET_PARAMETER=42]="SET_PARAMETER",e[e.REDIRECT=43]="REDIRECT",e[e.RECORD=44]="RECORD",e[e.FLUSH=45]="FLUSH"}(a=t.METHODS||(t.METHODS={})),t.METHODS_HTTP=[a.DELETE,a.GET,a.HEAD,a.POST,a.PUT,a.CONNECT,a.OPTIONS,a.TRACE,a.COPY,a.LOCK,a.MKCOL,a.MOVE,a.PROPFIND,a.PROPPATCH,a.SEARCH,a.UNLOCK,a.BIND,a.REBIND,a.UNBIND,a.ACL,a.REPORT,a.MKACTIVITY,a.CHECKOUT,a.MERGE,a["M-SEARCH"],a.NOTIFY,a.SUBSCRIBE,a.UNSUBSCRIBE,a.PATCH,a.PURGE,a.MKCALENDAR,a.LINK,a.UNLINK,a.PRI,a.SOURCE],t.METHODS_ICE=[a.SOURCE],t.METHODS_RTSP=[a.OPTIONS,a.DESCRIBE,a.ANNOUNCE,a.SETUP,a.PLAY,a.PAUSE,a.TEARDOWN,a.GET_PARAMETER,a.SET_PARAMETER,a.REDIRECT,a.RECORD,a.FLUSH,a.GET,a.POST],t.METHOD_MAP=c.enumToMap(a),t.H_METHOD_MAP={},Object.keys(t.METHOD_MAP).forEach(e=>{/^H/.test(e)&&(t.H_METHOD_MAP[e]=t.METHOD_MAP[e])}),function(e){e[e.SAFE=0]="SAFE",e[e.SAFE_WITH_CB=1]="SAFE_WITH_CB",e[e.UNSAFE=2]="UNSAFE"}(A=t.FINISH||(t.FINISH={})),t.ALPHA=[];for(let e=65;e<=90;e++)t.ALPHA.push(String.fromCharCode(e)),t.ALPHA.push(String.fromCharCode(e+32));t.NUM_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9},t.HEX_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},t.NUM=["0","1","2","3","4","5","6","7","8","9"],t.ALPHANUM=t.ALPHA.concat(t.NUM),t.MARK=["-","_",".","!","~","*","'","(",")"],t.USERINFO_CHARS=t.ALPHANUM.concat(t.MARK).concat(["%",";",":","&","=","+","$",","]),t.STRICT_URL_CHAR=["!",'"',"$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","@","[","\\","]","^","_","`","{","|","}","~"].concat(t.ALPHANUM),t.URL_CHAR=t.STRICT_URL_CHAR.concat(["	","\f"]);for(let e=128;e<=255;e++)t.URL_CHAR.push(e);t.HEX=t.NUM.concat(["a","b","c","d","e","f","A","B","C","D","E","F"]),t.STRICT_TOKEN=["!","#","$","%","&","'","*","+","-",".","^","_","`","|","~"].concat(t.ALPHANUM),t.TOKEN=t.STRICT_TOKEN.concat([" "]),t.HEADER_CHARS=["	"];for(let e=32;e<=255;e++)127!==e&&t.HEADER_CHARS.push(e);t.CONNECTION_TOKEN_CHARS=t.HEADER_CHARS.filter(e=>44!==e),t.MAJOR=t.NUM_MAP,t.MINOR=t.MAJOR,function(e){e[e.GENERAL=0]="GENERAL",e[e.CONNECTION=1]="CONNECTION",e[e.CONTENT_LENGTH=2]="CONTENT_LENGTH",e[e.TRANSFER_ENCODING=3]="TRANSFER_ENCODING",e[e.UPGRADE=4]="UPGRADE",e[e.CONNECTION_KEEP_ALIVE=5]="CONNECTION_KEEP_ALIVE",e[e.CONNECTION_CLOSE=6]="CONNECTION_CLOSE",e[e.CONNECTION_UPGRADE=7]="CONNECTION_UPGRADE",e[e.TRANSFER_ENCODING_CHUNKED=8]="TRANSFER_ENCODING_CHUNKED"}(l=t.HEADER_STATE||(t.HEADER_STATE={})),t.SPECIAL_HEADERS={connection:l.CONNECTION,"content-length":l.CONTENT_LENGTH,"proxy-connection":l.CONNECTION,"transfer-encoding":l.TRANSFER_ENCODING,upgrade:l.UPGRADE}},5795:(e,t,r)=>{"use strict";let{Buffer:i}=r(2254);e.exports=i.from("AGFzbQEAAAABJwdgAX8Bf2ADf39/AX9gAX8AYAJ/fwBgBH9/f38Bf2AAAGADf39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQAEA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAAy0sBQYAAAIAAAAAAAACAQIAAgICAAADAAAAAAMDAwMBAQEBAQEBAQEAAAIAAAAEBQFwARISBQMBAAIGCAF/AUGA1AQLB9EFIgZtZW1vcnkCAAtfaW5pdGlhbGl6ZQAIGV9faW5kaXJlY3RfZnVuY3Rpb25fdGFibGUBAAtsbGh0dHBfaW5pdAAJGGxsaHR0cF9zaG91bGRfa2VlcF9hbGl2ZQAvDGxsaHR0cF9hbGxvYwALBm1hbGxvYwAxC2xsaHR0cF9mcmVlAAwEZnJlZQAMD2xsaHR0cF9nZXRfdHlwZQANFWxsaHR0cF9nZXRfaHR0cF9tYWpvcgAOFWxsaHR0cF9nZXRfaHR0cF9taW5vcgAPEWxsaHR0cF9nZXRfbWV0aG9kABAWbGxodHRwX2dldF9zdGF0dXNfY29kZQAREmxsaHR0cF9nZXRfdXBncmFkZQASDGxsaHR0cF9yZXNldAATDmxsaHR0cF9leGVjdXRlABQUbGxodHRwX3NldHRpbmdzX2luaXQAFQ1sbGh0dHBfZmluaXNoABYMbGxodHRwX3BhdXNlABcNbGxodHRwX3Jlc3VtZQAYG2xsaHR0cF9yZXN1bWVfYWZ0ZXJfdXBncmFkZQAZEGxsaHR0cF9nZXRfZXJybm8AGhdsbGh0dHBfZ2V0X2Vycm9yX3JlYXNvbgAbF2xsaHR0cF9zZXRfZXJyb3JfcmVhc29uABwUbGxodHRwX2dldF9lcnJvcl9wb3MAHRFsbGh0dHBfZXJybm9fbmFtZQAeEmxsaHR0cF9tZXRob2RfbmFtZQAfEmxsaHR0cF9zdGF0dXNfbmFtZQAgGmxsaHR0cF9zZXRfbGVu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PgtBhwEMPQtBiAEMPAtBiQEMOwtBigEMOgtBiwEMOQtBjAEMOAtBjQEMNwtBjgEMNgtBjwEMNQtBkAEMNAtBkQEMMwtBkgEMMgtBkwEMMQtBlAEMMAtBlQEMLwtBlgEMLgtBlwEMLQtBmAEMLAtBmQEMKwtBmgEMKgtBmwEMKQtBnAEMKAtBnQEMJwtBngEMJgtBnwEMJQtBoAEMJAtBoQEMIwtBogEMIgtBowEMIQtBpAEMIAtBpQEMHwtBpgEMHgtBpwEMHQtBqAEMHAtBqQEMGwtBqgEMGgtBqwEMGQtBrAEMGAtBrQEMFwtBrgEMFgtBAQwVC0GvAQwUC0GwAQwTC0GxAQwSC0GzAQwRC0GyAQwQC0G0AQwPC0G1AQwOC0G2AQwNC0G3AQwMC0G4AQwLC0G5AQwKC0G6AQwJC0G7AQwIC0HGAQwHC0G8AQwGC0G9AQwFC0G+AQwEC0G/AQwDC0HAAQwCC0HCAQwBC0HBAQshAwNAAkACQAJAAkACQAJAAkACQAJAIAICfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAgJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAC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iQEhAwykAgtBASABLQAAQd8ARw1nGiABQQFqIQEMXgtBigEhAyABIARGDaICIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgNAIAEtAAAgAEGMzwBqLQAARw1kIABBAUYN+gEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMogILQYsBIQMgASAERg2hAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGOzwBqLQAARw1kIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyiAgsgAkEANgIAIAZBAWohAUECDGULQYwBIQMgASAERg2gAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHwzwBqLQAARw1jIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyhAgsgAkEANgIAIAZBAWohAUEfDGQLQY0BIQMgASAERg2fAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHyzwBqLQAARw1iIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAygAgsgAkEANgIAIAZBAWohAUEJDGMLIAEgBEYEQEGOASEDDJ8CCwJAAkAgAS0AAEHJAGsOBwBiYmJiYgFiCyABQQFqIQFB+AAhAwyGAgsgAUEBaiEBQfkAIQMMhQILQY8BIQMgASAERg2dAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGRzwBqLQAARw1gIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyeAgsgAkEANgIAIAZBAWohAUEYDGELQZABIQMgASAERg2cAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGXzwBqLQAARw1fIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAydAgsgAkEANgIAIAZBAWohAUEXDGALQZEBIQMgASAERg2bAiACKAIAIgAgBCABa2ohBSABIABrQQZqIQYCQANAIAEtAAAgAEGazwBqLQAARw1eIABBBkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAycAgsgAkEANgIAIAZBAWohAUEV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JSIARQ0RIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMtAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0gIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMswELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0iIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMsgELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0OIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMsQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0dIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMsAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0fIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMrwELIABBP0cNASABQQFqCyEBQQUhAwyUAQtBACEDIAJBADYCHCACIAE2AhQgAkH9EjYCECACQQc2AgwMrAELIAJBADYCHCACIAE2AhQgAkHcCDYCECACQQc2AgxBACEDDKsBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNByACQeUANgIcIAIgATYCFCACIAA2AgxBACEDDKoBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNFiACQdMANgIcIAIgATYCFCACIAA2AgxBACEDDKkBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNGCACQdIANgIcIAIgATYCFCACIAA2AgxBACEDDKgBCyACQQA2AhwgAiABNgIUIAJBxgo2AhAgAkEHNgIMQQAhAwynAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQMgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwymAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRIgAkHTADYCHCACIAE2AhQgAiAANgIMQQAhAwylAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRQgAkHSADYCHCACIAE2AhQgAiAANgIMQQAhAwykAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQAgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwyjAQtB1QAhAwyJAQsgAEEVRwRAIAJBADYCHCACIAE2AhQgAkG5DTYCECACQRo2AgxB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AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB5ABrDvQDY2IAAWFhYWFhYQIDBAVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhBgcICQoLDA0OD2FhYWFhEGFhYWFhYWFhYWFhEWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYRITFBUWFxgZGhthYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIzNDU2YTc4OTphYWFhYWFhYTthYWE8YWFhYT0+P2FhYWFhYWFhQGFhQWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYUJDREVGR0hJSktMTU5PUFFSU2FhYWFhYWFhVFVWV1hZWlthXF1hYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFeYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhX2BhC0HhJw8LQaQhDwtByywPC0H+MQ8LQcAkDwtBqyQPC0GNKA8LQeImDwtBgDAPC0G5Lw8LQdckDwtB7x8PC0HhHw8LQfofDwtB8iAPC0GoLw8LQa4yDwtBiDAPC0HsJw8LQYIiDwtBjh0PC0HQLg8LQcojDwtBxTIPC0HfHA8LQdIcDwtBxCAPC0HXIA8LQaIfDwtB7S4PC0GrMA8LQdQlDwtBzC4PC0H6Lg8LQfwrDwtB0jAPC0HxHQ8LQbsgDwtB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CABB3AgLii1JbnZhbGlkIGNoYXIgaW4gdXJsIHF1ZXJ5AFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fYm9keQBDb250ZW50LUxlbmd0aCBvdmVyZmxvdwBDaHVuayBzaXplIG92ZXJmbG93AFJlc3BvbnNlIG92ZXJmbG93AEludmFsaWQgbWV0aG9kIGZvciBIVFRQL3gueCByZXF1ZXN0AEludmFsaWQgbWV0aG9kIGZvciBSVFNQL3gueCByZXF1ZXN0AEV4cGVjdGVkIFNPVVJDRSBtZXRob2QgZm9yIElDRS94LnggcmVxdWVzdABJbnZhbGlkIGNoYXIgaW4gdXJsIGZyYWdtZW50IHN0YXJ0AEV4cGVjdGVkIGRvdABTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3N0YXR1cwBJbnZhbGlkIHJlc3BvbnNlIHN0YXR1cwBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zAFVzZXIgY2FsbGJhY2sgZXJyb3IAYG9uX3Jlc2V0YCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfaGVhZGVyYCBjYWxsYmFjayBlcnJvcgBgb25fbWVzc2FnZV9iZWdpbmAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3N0YXR1c19jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3ZlcnNpb25fY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl91cmxfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2hlYWRlcl92YWx1ZV9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX21lc3NhZ2VfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXRob2RfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9oZWFkZXJfZmllbGRfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19leHRlbnNpb25fbmFtZWAgY2FsbGJhY2sgZXJyb3IAVW5leHBlY3RlZCBjaGFyIGluIHVybCBzZXJ2ZXIASW52YWxpZCBoZWFkZXIgdmFsdWUgY2hhcgBJbnZhbGlkIGhlYWRlciBmaWVsZCBjaGFyAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fdmVyc2lvbgBJbnZhbGlkIG1pbm9yIHZlcnNpb24ASW52YWxpZCBtYWpvciB2ZXJzaW9uAEV4cGVjdGVkIHNwYWNlIGFmdGVyIHZlcnNpb24ARXhwZWN0ZWQgQ1JMRiBhZnRlciB2ZXJzaW9uAEludmFsaWQgSFRUUCB2ZXJzaW9uAEludmFsaWQgaGVhZGVyIHRva2VuAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fdXJsAEludmFsaWQgY2hhcmFjdGVycyBpbiB1cmwAVW5leHBlY3RlZCBzdGFydCBjaGFyIGluIHVybABEb3VibGUgQCBpbiB1cmwARW1wdHkgQ29udGVudC1MZW5ndGgASW52YWxpZCBjaGFyYWN0ZXIgaW4gQ29udGVudC1MZW5ndGgARHVwbGljYXRlIENvbnRlbnQtTGVuZ3RoAEludmFsaWQgY2hhciBpbiB1cmwgcGF0aABDb250ZW50LUxlbmd0aCBjYW4ndCBiZSBwcmVzZW50IHdpdGggVHJhbnNmZXItRW5jb2RpbmcASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgc2l6ZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2hlYWRlcl92YWx1ZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIHZhbHVlAE1pc3NpbmcgZXhwZWN0ZWQgTEYgYWZ0ZXIgaGVhZGVyIHZhbHVlAEludmFsaWQgYFRyYW5zZmVyLUVuY29kaW5nYCBoZWFkZXIgdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBxdW90ZSB2YWx1ZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIHF1b3RlZCB2YWx1ZQBQYXVzZWQgYnkgb25faGVhZGVyc19jb21wbGV0ZQBJbnZhbGlkIEVPRiBzdGF0ZQBvbl9yZXNldCBwYXVzZQBvbl9jaHVua19oZWFkZXIgcGF1c2UAb25fbWVzc2FnZV9iZWdpbiBwYXVzZQBvbl9jaHVua19leHRlbnNpb25fdmFsdWUgcGF1c2UAb25fc3RhdHVzX2NvbXBsZXRlIHBhdXNlAG9uX3ZlcnNpb25fY29tcGxldGUgcGF1c2UAb25fdXJsX2NvbXBsZXRlIHBhdXNlAG9uX2NodW5rX2NvbXBsZXRlIHBhdXNlAG9uX2hlYWRlcl92YWx1ZV9jb21wbGV0ZSBwYXVzZQBvbl9tZXNzYWdlX2NvbXBsZXRlIHBhdXNlAG9uX21ldGhvZF9jb21wbGV0ZSBwYXVzZQBvbl9oZWFkZXJfZmllbGRfY29tcGxldGUgcGF1c2UAb25fY2h1bmtfZXh0ZW5zaW9uX25hbWUgcGF1c2UAVW5leHBlY3RlZCBzcGFjZSBhZnRlciBzdGFydCBsaW5lAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fY2h1bmtfZXh0ZW5zaW9uX25hbWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBuYW1lAFBhdXNlIG9uIENPTk5FQ1QvVXBncmFkZQBQYXVzZSBvbiBQUkkvVXBncmFkZQBFeHBlY3RlZCBIVFRQLzIgQ29ubmVjdGlvbiBQcmVmYWNlAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fbWV0aG9kAEV4cGVjdGVkIHNwYWNlIGFmdGVyIG1ldGhvZABTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2hlYWRlcl9maWVsZABQYXVzZWQASW52YWxpZCB3b3JkIGVuY291bnRlcmVkAEludmFsaWQgbWV0aG9kIGVuY291bnRlcmVkAFVuZXhwZWN0ZWQgY2hhciBpbiB1cmwgc2NoZW1hAFJlcXVlc3QgaGFzIGludmFsaWQgYFRyYW5zZmVyLUVuY29kaW5nYABTV0lUQ0hfUFJPWFkAVVNFX1BST1hZAE1LQUNUSVZJVFkAVU5QUk9DRVNTQUJMRV9FTlRJVFkAQ09QWQBNT1ZFRF9QRVJNQU5FTlRMWQBUT09fRUFSTFkATk9USUZZAEZBSUxFRF9ERVBFTkRFTkNZAEJBRF9HQVRFV0FZAFBMQVkAUFVUAENIRUNLT1VUAEdBVEVXQVlfVElNRU9VVABSRVFVRVNUX1RJTUVPVVQATkVUV09SS19DT05ORUNUX1RJTUVPVVQAQ09OTkVDVElPTl9USU1FT1VUAExPR0lOX1RJTUVPVVQATkVUV09SS19SRUFEX1RJTUVPVVQAUE9TVABNSVNESVJFQ1RFRF9SRVFVRVNUAENMSUVOVF9DTE9TRURfUkVRVUVTVABDTElFTlRfQ0xPU0VEX0xPQURfQkFMQU5DRURfUkVRVUVTVABCQURfUkVRVUVTVABIVFRQX1JFUVVFU1RfU0VOVF9UT19IVFRQU19QT1JUAFJFUE9SVABJTV9BX1RFQVBPVABSRVNFVF9DT05URU5UAE5PX0NPTlRFTlQAUEFSVElBTF9DT05URU5UAEhQRV9JTlZBTElEX0NPTlNUQU5UAEhQRV9DQl9SRVNFVABHRVQASFBFX1NUUklDVABDT05GTElDVABURU1QT1JBUllfUkVESVJFQ1QAUEVSTUFORU5UX1JFRElSRUNUAENPTk5FQ1QATVVMVElfU1RBVFVTAEhQRV9JTlZBTElEX1NUQVRVUwBUT09fTUFOWV9SRVFVRVNUUwBFQVJMWV9ISU5UUwBVTkFWQUlMQUJMRV9GT1JfTEVHQUxfUkVBU09OUwBPUFRJT05TAFNXSVRDSElOR19QUk9UT0NPTFMAVkFSSUFOVF9BTFNPX05FR09USUFURVMATVVMVElQTEVfQ0hPSUNFUwBJTlRFUk5BTF9TRVJWRVJfRVJST1IAV0VCX1NFUlZFUl9VTktOT1dOX0VSUk9SAFJBSUxHVU5fRVJST1IASURFTlRJVFlfUFJPVklERVJfQVVUSEVOVElDQVRJT05fRVJST1IAU1NMX0NFUlRJRklDQVRFX0VSUk9SAElOVkFMSURfWF9GT1JXQVJERURfRk9SAFNFVF9QQVJBTUVURVIAR0VUX1BBUkFNRVRFUgBIUEVfVVNFUgBTRUVfT1RIRVIASFBFX0NCX0NIVU5LX0hFQURFUgBNS0NBTEVOREFSAFNFVFVQAFdFQl9TRVJWRVJfSVNfRE9XTgBURUFSRE9XTgBIUEVfQ0xPU0VEX0NPTk5FQ1RJT04ASEVVUklTVElDX0VYUElSQVRJT04ARElTQ09OTkVDVEVEX09QRVJBVElPTgBOT05fQVVUSE9SSVRBVElWRV9JTkZPUk1BVElPTgBIUEVfSU5WQUxJRF9WRVJTSU9OAEhQRV9DQl9NRVNTQUdFX0JFR0lOAFNJVEVfSVNfRlJPWkVOAEhQRV9JTlZBTElEX0hFQURFUl9UT0tFTgBJTlZBTElEX1RPS0VOAEZPUkJJRERFTgBFTkhBTkNFX1lPVVJfQ0FMTQBIUEVfSU5WQUxJRF9VUkwAQkxPQ0tFRF9CWV9QQVJFTlRBTF9DT05UUk9MAE1LQ09MAEFDTABIUEVfSU5URVJOQUwAUkVRVUVTVF9IRUFERVJfRklFTERTX1RPT19MQVJHRV9VTk9GRklDSUFMAEhQRV9PSwBVTkxJTksAVU5MT0NLAFBSSQBSRVRSWV9XSVRIAEhQRV9JTlZBTElEX0NPTlRFTlRfTEVOR1RIAEhQRV9VTkVYUEVDVEVEX0NPTlRFTlRfTEVOR1RIAEZMVVNIAFBST1BQQVRDSABNLVNFQVJDSABVUklfVE9PX0xPTkcAUFJPQ0VTU0lORwBNSVNDRUxMQU5FT1VTX1BFUlNJU1RFTlRfV0FSTklORwBNSVNDRUxMQU5FT1VTX1dBUk5JTkcASFBFX0lOVkFMSURfVFJBTlNGRVJfRU5DT0RJTkcARXhwZWN0ZWQgQ1JMRgBIUEVfSU5WQUxJRF9DSFVOS19TSVpFAE1PVkUAQ09OVElOVUUASFBFX0NCX1NUQVRVU19DT01QTEVURQBIUEVfQ0JfSEVBREVSU19DT01QTEVURQBIUEVfQ0JfVkVSU0lPTl9DT01QTEVURQBIUEVfQ0JfVVJMX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19DT01QTEVURQBIUEVfQ0JfSEVBREVSX1ZBTFVFX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19FWFRFTlNJT05fVkFMVUVfQ09NUExFVEUASFBFX0NCX0NIVU5LX0VYVEVOU0lPTl9OQU1FX0NPTVBMRVRFAEhQRV9DQl9NRVNTQUdFX0NPTVBMRVRFAEhQRV9DQl9NRVRIT0RfQ09NUExFVEUASFBFX0NCX0hFQURFUl9GSUVMRF9DT01QTEVURQBERUxFVEUASFBFX0lOVkFMSURfRU9GX1NUQVRFAElOVkFMSURfU1NMX0NFUlRJRklDQVRFAFBBVVNFAE5PX1JFU1BPTlNFAFVOU1VQUE9SVEVEX01FRElBX1RZUEUAR09ORQBOT1RfQUNDRVBUQUJMRQBTRVJWSUNFX1VOQVZBSUxBQkxFAFJBTkdFX05PVF9TQVRJU0ZJQUJMRQBPUklHSU5fSVNfVU5SRUFDSEFCTEUAUkVTUE9OU0VfSVNfU1RBTEUAUFVSR0UATUVSR0UAUkVRVUVTVF9IRUFERVJfRklFTERTX1RPT19MQVJHRQBSRVFVRVNUX0hFQURFUl9UT09fTEFSR0UAUEFZTE9BRF9UT09fTEFSR0UASU5TVUZGSUNJRU5UX1NUT1JBR0UASFBFX1BBVVNFRF9VUEdSQURFAEhQRV9QQVVTRURfSDJfVVBHUkFERQBTT1VSQ0UAQU5OT1VOQ0UAVFJBQ0UASFBFX1VORVhQRUNURURfU1BBQ0UAREVTQ1JJQkUAVU5TVUJTQ1JJQkUAUkVDT1JEAEhQRV9JTlZBTElEX01FVEhPRABOT1RfRk9VTkQAUFJPUEZJTkQAVU5CSU5EAFJFQklORABVTkFVVEhPUklaRUQATUVUSE9EX05PVF9BTExPV0VEAEhUVFBfVkVSU0lPTl9OT1RfU1VQUE9SVEVEAEFMUkVBRFlfUkVQT1JURUQAQUNDRVBURUQATk9UX0lNUExFTUVOVEVEAExPT1BfREVURUNURUQASFBFX0NSX0VYUEVDVEVEAEhQRV9MRl9FWFBFQ1RFRABDUkVBVEVEAElNX1VTRUQASFBFX1BBVVNFRABUSU1FT1VUX09DQ1VSRUQAUEFZTUVOVF9SRVFVSVJFRABQUkVDT05ESVRJT05fUkVRVUlSRUQAUFJPWFlfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQATkVUV09SS19BVVRIRU5USUNBVElPTl9SRVFVSVJFRABMRU5HVEhfUkVRVUlSRUQAU1NMX0NFUlRJRklDQVRFX1JFUVVJUkVEAFVQR1JBREVfUkVRVUlSRUQAUEFHRV9FWFBJUkVEAFBSRUNPTkRJVElPTl9GQUlMRUQARVhQRUNUQVRJT05fRkFJTEVEAFJFVkFMSURBVElPTl9GQUlMRUQAU1NMX0hBTkRTSEFLRV9GQUlMRUQATE9DS0VEAFRSQU5TRk9STUFUSU9OX0FQUExJRUQATk9UX01PRElGSUVEAE5PVF9FWFRFTkRFRABCQU5EV0lEVEhfTElNSVRfRVhDRUVERUQAU0lURV9JU19PVkVSTE9BREVEAEhFQUQARXhwZWN0ZWQgSFRUUC8AAF4TAAAmEwAAMBAAAPAXAACdEwAAFRIAADkXAADwEgAAChAAAHUSAACtEgAAghMAAE8UAAB/EAAAoBUAACMUAACJEgAAixQAAE0VAADUEQAAzxQAABAYAADJFgAA3BYAAMERAADgFwAAuxQAAHQUAAB8FQAA5RQAAAgXAAAfEAAAZRUAAKMUAAAoFQAAAhUAAJkVAAAsEAAAixkAAE8PAADUDgAAahAAAM4QAAACFwAAiQ4AAG4TAAAcEwAAZhQAAFYXAADBEwAAzRMAAGwTAABoFwAAZhcAAF8XAAAiEwAAzg8AAGkOAADYDgAAYxYAAMsTAACqDgAAKBcAACYXAADFEwAAXRYAAOgRAABnEwAAZRMAAPIWAABzEwAAHRcAAPkWAADzEQAAzw4AAM4VAAAMEgAAsxEAAKURAABhEAAAMhcAALsTAEH5NQsBAQBBkDYL4AEBAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB/TcLAQEAQZE4C14CAwICAgICAAACAgACAgACAgICAgICAgICAAQAAAAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAAgACAEH9OQsBAQBBkToLXgIAAgICAgIAAAICAAICAAICAgICAgICAgIAAwAEAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgIAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgICAgACAAIAQfA7Cw1sb3NlZWVwLWFsaXZlAEGJPAsBAQBBoDwL4AEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBBiT4LAQEAQaA+C+cBAQEBAQEBAQEBAQEBAgEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQFjaHVua2VkAEGwwAALXwEBAAEBAQEBAAABAQABAQABAQEBAQEBAQEBAAAAAAAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQABAEGQwgALIWVjdGlvbmVudC1sZW5ndGhvbnJveHktY29ubmVjdGlvbgBBwMIACy1yYW5zZmVyLWVuY29kaW5ncGdyYWRlDQoNCg0KU00NCg0KVFRQL0NFL1RTUC8AQfnCAAsFAQIAAQMAQZDDAAvgAQQBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAEH5xAALBQECAAEDAEGQxQAL4AEEAQEFAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB+cYACwQBAAABAEGRxwAL3wEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAEH6yAALBAEAAAIAQZDJAAtfAwQAAAQEBAQEBAQEBAQEBQQEBAQEBAQEBAQEBAAEAAYHBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQABAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAQAQfrKAAsEAQAAAQBBkMsACwEBAEGqywALQQIAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAEH6zAALBAEAAAEAQZDNAAsBAQBBms0ACwYCAAAAAAIAQbHNAAs6AwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwBB8M4AC5YBTk9VTkNFRUNLT1VUTkVDVEVURUNSSUJFTFVTSEVURUFEU0VBUkNIUkdFQ1RJVklUWUxFTkRBUlZFT1RJRllQVElPTlNDSFNFQVlTVEFUQ0hHRU9SRElSRUNUT1JUUkNIUEFSQU1FVEVSVVJDRUJTQ1JJQkVBUkRPV05BQ0VJTkROS0NLVUJTQ1JJQkVIVFRQL0FEVFAv","base64")},7324:(e,t,r)=>{"use strict";let{Buffer:i}=r(2254);e.exports=i.from("AGFzbQEAAAABJwdgAX8Bf2ADf39/AX9gAX8AYAJ/fwBgBH9/f38Bf2AAAGADf39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQAEA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAAy0sBQYAAAIAAAAAAAACAQIAAgICAAADAAAAAAMDAwMBAQEBAQEBAQEAAAIAAAAEBQFwARISBQMBAAIGCAF/AUGA1AQLB9EFIgZtZW1vcnkCAAtfaW5pdGlhbGl6ZQAIGV9faW5kaXJlY3RfZnVuY3Rpb25fdGFibGUBAAtsbGh0dHBfaW5pdAAJGGxsaHR0cF9zaG91bGRfa2VlcF9hbGl2ZQAvDGxsaHR0cF9hbGxvYwALBm1hbGxvYwAxC2xsaHR0cF9mcmVlAAwEZnJlZQAMD2xsaHR0cF9nZXRfdHlwZQANFWxsaHR0cF9nZXRfaHR0cF9tYWpvcgAOFWxsaHR0cF9nZXRfaHR0cF9taW5vcgAPEWxsaHR0cF9nZXRfbWV0aG9kABAWbGxodHRwX2dldF9zdGF0dXNfY29kZQAREmxsaHR0cF9nZXRfdXBncmFkZQASDGxsaHR0cF9yZXNldAATDmxsaHR0cF9leGVjdXRlABQUbGxodHRwX3NldHRpbmdzX2luaXQAFQ1sbGh0dHBfZmluaXNoABYMbGxodHRwX3BhdXNlABcNbGxodHRwX3Jlc3VtZQAYG2xsaHR0cF9yZXN1bWVfYWZ0ZXJfdXBncmFkZQAZEGxsaHR0cF9nZXRfZXJybm8AGhdsbGh0dHBfZ2V0X2Vycm9yX3JlYXNvbgAbF2xsaHR0cF9zZXRfZXJyb3JfcmVhc29uABwUbGxodHRwX2dldF9lcnJvcl9wb3MAHRFsbGh0dHBfZXJybm9fbmFtZQAeEmxsaHR0cF9tZXRob2RfbmFtZQAfEmxsaHR0cF9zdGF0dXNfbmFtZQAgGmxsaHR0cF9zZXRfbGVu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PgtBhwEMPQtBiAEMPAtBiQEMOwtBigEMOgtBiwEMOQtBjAEMOAtBjQEMNwtBjgEMNgtBjwEMNQtBkAEMNAtBkQEMMwtBkgEMMgtBkwEMMQtBlAEMMAtBlQEMLwtBlgEMLgtBlwEMLQtBmAEMLAtBmQEMKwtBmgEMKgtBmwEMKQtBnAEMKAtBnQEMJwtBngEMJgtBnwEMJQtBoAEMJAtBoQEMIwtBogEMIgtBowEMIQtBpAEMIAtBpQEMHwtBpgEMHgtBpwEMHQtBqAEMHAtBqQEMGwtBqgEMGgtBqwEMGQtBrAEMGAtBrQEMFwtBrgEMFgtBAQwVC0GvAQwUC0GwAQwTC0GxAQwSC0GzAQwRC0GyAQwQC0G0AQwPC0G1AQwOC0G2AQwNC0G3AQwMC0G4AQwLC0G5AQwKC0G6AQwJC0G7AQwIC0HGAQwHC0G8AQwGC0G9AQwFC0G+AQwEC0G/AQwDC0HAAQwCC0HCAQwBC0HBAQshAwNAAkACQAJAAkACQAJAAkACQAJAIAICfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAgJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAC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iQEhAwykAgtBASABLQAAQd8ARw1nGiABQQFqIQEMXgtBigEhAyABIARGDaICIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgNAIAEtAAAgAEGMzwBqLQAARw1kIABBAUYN+gEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMogILQYsBIQMgASAERg2hAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGOzwBqLQAARw1kIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyiAgsgAkEANgIAIAZBAWohAUECDGULQYwBIQMgASAERg2gAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHwzwBqLQAARw1jIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyhAgsgAkEANgIAIAZBAWohAUEfDGQLQY0BIQMgASAERg2fAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHyzwBqLQAARw1iIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAygAgsgAkEANgIAIAZBAWohAUEJDGMLIAEgBEYEQEGOASEDDJ8CCwJAAkAgAS0AAEHJAGsOBwBiYmJiYgFiCyABQQFqIQFB+AAhAwyGAgsgAUEBaiEBQfkAIQMMhQILQY8BIQMgASAERg2dAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGRzwBqLQAARw1gIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyeAgsgAkEANgIAIAZBAWohAUEYDGELQZABIQMgASAERg2cAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGXzwBqLQAARw1fIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAydAgsgAkEANgIAIAZBAWohAUEXDGALQZEBIQMgASAERg2bAiACKAIAIgAgBCABa2ohBSABIABrQQZqIQYCQANAIAEtAAAgAEGazwBqLQAARw1eIABBBkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAycAgsgAkEANgIAIAZBAWohAUEV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JSIARQ0RIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMtAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0gIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMswELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0iIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMsgELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0OIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMsQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0dIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMsAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0fIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMrwELIABBP0cNASABQQFqCyEBQQUhAwyUAQtBACEDIAJBADYCHCACIAE2AhQgAkH9EjYCECACQQc2AgwMrAELIAJBADYCHCACIAE2AhQgAkHcCDYCECACQQc2AgxBACEDDKsBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNByACQeUANgIcIAIgATYCFCACIAA2AgxBACEDDKoBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNFiACQdMANgIcIAIgATYCFCACIAA2AgxBACEDDKkBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNGCACQdIANgIcIAIgATYCFCACIAA2AgxBACEDDKgBCyACQQA2AhwgAiABNgIUIAJBxgo2AhAgAkEHNgIMQQAhAwynAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQMgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwymAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRIgAkHTADYCHCACIAE2AhQgAiAANgIMQQAhAwylAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRQgAkHSADYCHCACIAE2AhQgAiAANgIMQQAhAwykAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQAgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwyjAQtB1QAhAwyJAQsgAEEVRwRAIAJBADYCHCACIAE2AhQgAkG5DTYCECACQRo2AgxB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AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB5ABrDvQDY2IAAWFhYWFhYQIDBAVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhBgcICQoLDA0OD2FhYWFhEGFhYWFhYWFhYWFhEWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYRITFBUWFxgZGhthYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIzNDU2YTc4OTphYWFhYWFhYTthYWE8YWFhYT0+P2FhYWFhYWFhQGFhQWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYUJDREVGR0hJSktMTU5PUFFSU2FhYWFhYWFhVFVWV1hZWlthXF1hYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFeYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhX2BhC0HhJw8LQaQhDwtByywPC0H+MQ8LQcAkDwtBqyQPC0GNKA8LQeImDwtBgDAPC0G5Lw8LQdckDwtB7x8PC0HhHw8LQfofDwtB8iAPC0GoLw8LQa4yDwtBiDAPC0HsJw8LQYIiDwtBjh0PC0HQLg8LQcojDwtBxTIPC0HfHA8LQdIcDwtBxCAPC0HXIA8LQaIfDwtB7S4PC0GrMA8LQdQlDwtBzC4PC0H6Lg8LQfwrDwtB0jAPC0HxHQ8LQbsgDwtB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AAADAEGUCAsFBAAAAAUAQaQICwkGAAAABwAAAAgAQdwIC4otSW52YWxpZCBjaGFyIGluIHVybCBxdWVyeQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2JvZHkAQ29udGVudC1MZW5ndGggb3ZlcmZsb3cAQ2h1bmsgc2l6ZSBvdmVyZmxvdwBSZXNwb25zZSBvdmVyZmxvdwBJbnZhbGlkIG1ldGhvZCBmb3IgSFRUUC94LnggcmVxdWVzdABJbnZhbGlkIG1ldGhvZCBmb3IgUlRTUC94LnggcmVxdWVzdABFeHBlY3RlZCBTT1VSQ0UgbWV0aG9kIGZvciBJQ0UveC54IHJlcXVlc3QASW52YWxpZCBjaGFyIGluIHVybCBmcmFnbWVudCBzdGFydABFeHBlY3RlZCBkb3QAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9zdGF0dXMASW52YWxpZCByZXNwb25zZSBzdGF0dXMASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucwBVc2VyIGNhbGxiYWNrIGVycm9yAGBvbl9yZXNldGAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2hlYWRlcmAgY2FsbGJhY2sgZXJyb3IAYG9uX21lc3NhZ2VfYmVnaW5gIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19leHRlbnNpb25fdmFsdWVgIGNhbGxiYWNrIGVycm9yAGBvbl9zdGF0dXNfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl92ZXJzaW9uX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fdXJsX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXNzYWdlX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fbWV0aG9kX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfZXh0ZW5zaW9uX25hbWVgIGNhbGxiYWNrIGVycm9yAFVuZXhwZWN0ZWQgY2hhciBpbiB1cmwgc2VydmVyAEludmFsaWQgaGVhZGVyIHZhbHVlIGNoYXIASW52YWxpZCBoZWFkZXIgZmllbGQgY2hhcgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3ZlcnNpb24ASW52YWxpZCBtaW5vciB2ZXJzaW9uAEludmFsaWQgbWFqb3IgdmVyc2lvbgBFeHBlY3RlZCBzcGFjZSBhZnRlciB2ZXJzaW9uAEV4cGVjdGVkIENSTEYgYWZ0ZXIgdmVyc2lvbgBJbnZhbGlkIEhUVFAgdmVyc2lvbgBJbnZhbGlkIGhlYWRlciB0b2tlbgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3VybABJbnZhbGlkIGNoYXJhY3RlcnMgaW4gdXJsAFVuZXhwZWN0ZWQgc3RhcnQgY2hhciBpbiB1cmwARG91YmxlIEAgaW4gdXJsAEVtcHR5IENvbnRlbnQtTGVuZ3RoAEludmFsaWQgY2hhcmFjdGVyIGluIENvbnRlbnQtTGVuZ3RoAER1cGxpY2F0ZSBDb250ZW50LUxlbmd0aABJbnZhbGlkIGNoYXIgaW4gdXJsIHBhdGgAQ29udGVudC1MZW5ndGggY2FuJ3QgYmUgcHJlc2VudCB3aXRoIFRyYW5zZmVyLUVuY29kaW5nAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIHNpemUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfdmFsdWUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9jaHVua19leHRlbnNpb25fdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyB2YWx1ZQBNaXNzaW5nIGV4cGVjdGVkIExGIGFmdGVyIGhlYWRlciB2YWx1ZQBJbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AgaGVhZGVyIHZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgcXVvdGUgdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBxdW90ZWQgdmFsdWUAUGF1c2VkIGJ5IG9uX2hlYWRlcnNfY29tcGxldGUASW52YWxpZCBFT0Ygc3RhdGUAb25fcmVzZXQgcGF1c2UAb25fY2h1bmtfaGVhZGVyIHBhdXNlAG9uX21lc3NhZ2VfYmVnaW4gcGF1c2UAb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlIHBhdXNlAG9uX3N0YXR1c19jb21wbGV0ZSBwYXVzZQBvbl92ZXJzaW9uX2NvbXBsZXRlIHBhdXNlAG9uX3VybF9jb21wbGV0ZSBwYXVzZQBvbl9jaHVua19jb21wbGV0ZSBwYXVzZQBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGUgcGF1c2UAb25fbWVzc2FnZV9jb21wbGV0ZSBwYXVzZQBvbl9tZXRob2RfY29tcGxldGUgcGF1c2UAb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlIHBhdXNlAG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lIHBhdXNlAFVuZXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgc3RhcnQgbGluZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgbmFtZQBQYXVzZSBvbiBDT05ORUNUL1VwZ3JhZGUAUGF1c2Ugb24gUFJJL1VwZ3JhZGUARXhwZWN0ZWQgSFRUUC8yIENvbm5lY3Rpb24gUHJlZmFjZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX21ldGhvZABFeHBlY3RlZCBzcGFjZSBhZnRlciBtZXRob2QAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfZmllbGQAUGF1c2VkAEludmFsaWQgd29yZCBlbmNvdW50ZXJlZABJbnZhbGlkIG1ldGhvZCBlbmNvdW50ZXJlZABVbmV4cGVjdGVkIGNoYXIgaW4gdXJsIHNjaGVtYQBSZXF1ZXN0IGhhcyBpbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AAU1dJVENIX1BST1hZAFVTRV9QUk9YWQBNS0FDVElWSVRZAFVOUFJPQ0VTU0FCTEVfRU5USVRZAENPUFkATU9WRURfUEVSTUFORU5UTFkAVE9PX0VBUkxZAE5PVElGWQBGQUlMRURfREVQRU5ERU5DWQBCQURfR0FURVdBWQBQTEFZAFBVVABDSEVDS09VVABHQVRFV0FZX1RJTUVPVVQAUkVRVUVTVF9USU1FT1VUAE5FVFdPUktfQ09OTkVDVF9USU1FT1VUAENPTk5FQ1RJT05fVElNRU9VVABMT0dJTl9USU1FT1VUAE5FVFdPUktfUkVBRF9USU1FT1VUAFBPU1QATUlTRElSRUNURURfUkVRVUVTVABDTElFTlRfQ0xPU0VEX1JFUVVFU1QAQ0xJRU5UX0NMT1NFRF9MT0FEX0JBTEFOQ0VEX1JFUVVFU1QAQkFEX1JFUVVFU1QASFRUUF9SRVFVRVNUX1NFTlRfVE9fSFRUUFNfUE9SVABSRVBPUlQASU1fQV9URUFQT1QAUkVTRVRfQ09OVEVOVABOT19DT05URU5UAFBBUlRJQUxfQ09OVEVOVABIUEVfSU5WQUxJRF9DT05TVEFOVABIUEVfQ0JfUkVTRVQAR0VUAEhQRV9TVFJJQ1QAQ09ORkxJQ1QAVEVNUE9SQVJZX1JFRElSRUNUAFBFUk1BTkVOVF9SRURJUkVDVABDT05ORUNUAE1VTFRJX1NUQVRVUwBIUEVfSU5WQUxJRF9TVEFUVVMAVE9PX01BTllfUkVRVUVTVFMARUFSTFlfSElOVFMAVU5BVkFJTEFCTEVfRk9SX0xFR0FMX1JFQVNPTlMAT1BUSU9OUwBTV0lUQ0hJTkdfUFJPVE9DT0xTAFZBUklBTlRfQUxTT19ORUdPVElBVEVTAE1VTFRJUExFX0NIT0lDRVMASU5URVJOQUxfU0VSVkVSX0VSUk9SAFdFQl9TRVJWRVJfVU5LTk9XTl9FUlJPUgBSQUlMR1VOX0VSUk9SAElERU5USVRZX1BST1ZJREVSX0FVVEhFTlRJQ0FUSU9OX0VSUk9SAFNTTF9DRVJUSUZJQ0FURV9FUlJPUgBJTlZBTElEX1hfRk9SV0FSREVEX0ZPUgBTRVRfUEFSQU1FVEVSAEdFVF9QQVJBTUVURVIASFBFX1VTRVIAU0VFX09USEVSAEhQRV9DQl9DSFVOS19IRUFERVIATUtDQUxFTkRBUgBTRVRVUABXRUJfU0VSVkVSX0lTX0RPV04AVEVBUkRPV04ASFBFX0NMT1NFRF9DT05ORUNUSU9OAEhFVVJJU1RJQ19FWFBJUkFUSU9OAERJU0NPTk5FQ1RFRF9PUEVSQVRJT04ATk9OX0FVVEhPUklUQVRJVkVfSU5GT1JNQVRJT04ASFBFX0lOVkFMSURfVkVSU0lPTgBIUEVfQ0JfTUVTU0FHRV9CRUdJTgBTSVRFX0lTX0ZST1pFTgBIUEVfSU5WQUxJRF9IRUFERVJfVE9LRU4ASU5WQUxJRF9UT0tFTgBGT1JCSURERU4ARU5IQU5DRV9ZT1VSX0NBTE0ASFBFX0lOVkFMSURfVVJMAEJMT0NLRURfQllfUEFSRU5UQUxfQ09OVFJPTABNS0NPTABBQ0wASFBFX0lOVEVSTkFMAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0VfVU5PRkZJQ0lBTABIUEVfT0sAVU5MSU5LAFVOTE9DSwBQUkkAUkVUUllfV0lUSABIUEVfSU5WQUxJRF9DT05URU5UX0xFTkdUSABIUEVfVU5FWFBFQ1RFRF9DT05URU5UX0xFTkdUSABGTFVTSABQUk9QUEFUQ0gATS1TRUFSQ0gAVVJJX1RPT19MT05HAFBST0NFU1NJTkcATUlTQ0VMTEFORU9VU19QRVJTSVNURU5UX1dBUk5JTkcATUlTQ0VMTEFORU9VU19XQVJOSU5HAEhQRV9JTlZBTElEX1RSQU5TRkVSX0VOQ09ESU5HAEV4cGVjdGVkIENSTEYASFBFX0lOVkFMSURfQ0hVTktfU0laRQBNT1ZFAENPTlRJTlVFAEhQRV9DQl9TVEFUVVNfQ09NUExFVEUASFBFX0NCX0hFQURFUlNfQ09NUExFVEUASFBFX0NCX1ZFUlNJT05fQ09NUExFVEUASFBFX0NCX1VSTF9DT01QTEVURQBIUEVfQ0JfQ0hVTktfQ09NUExFVEUASFBFX0NCX0hFQURFUl9WQUxVRV9DT01QTEVURQBIUEVfQ0JfQ0hVTktfRVhURU5TSU9OX1ZBTFVFX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19FWFRFTlNJT05fTkFNRV9DT01QTEVURQBIUEVfQ0JfTUVTU0FHRV9DT01QTEVURQBIUEVfQ0JfTUVUSE9EX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJfRklFTERfQ09NUExFVEUAREVMRVRFAEhQRV9JTlZBTElEX0VPRl9TVEFURQBJTlZBTElEX1NTTF9DRVJUSUZJQ0FURQBQQVVTRQBOT19SRVNQT05TRQBVTlNVUFBPUlRFRF9NRURJQV9UWVBFAEdPTkUATk9UX0FDQ0VQVEFCTEUAU0VSVklDRV9VTkFWQUlMQUJMRQBSQU5HRV9OT1RfU0FUSVNGSUFCTEUAT1JJR0lOX0lTX1VOUkVBQ0hBQkxFAFJFU1BPTlNFX0lTX1NUQUxFAFBVUkdFAE1FUkdFAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0UAUkVRVUVTVF9IRUFERVJfVE9PX0xBUkdFAFBBWUxPQURfVE9PX0xBUkdFAElOU1VGRklDSUVOVF9TVE9SQUdFAEhQRV9QQVVTRURfVVBHUkFERQBIUEVfUEFVU0VEX0gyX1VQR1JBREUAU09VUkNFAEFOTk9VTkNFAFRSQUNFAEhQRV9VTkVYUEVDVEVEX1NQQUNFAERFU0NSSUJFAFVOU1VCU0NSSUJFAFJFQ09SRABIUEVfSU5WQUxJRF9NRVRIT0QATk9UX0ZPVU5EAFBST1BGSU5EAFVOQklORABSRUJJTkQAVU5BVVRIT1JJWkVEAE1FVEhPRF9OT1RfQUxMT1dFRABIVFRQX1ZFUlNJT05fTk9UX1NVUFBPUlRFRABBTFJFQURZX1JFUE9SVEVEAEFDQ0VQVEVEAE5PVF9JTVBMRU1FTlRFRABMT09QX0RFVEVDVEVEAEhQRV9DUl9FWFBFQ1RFRABIUEVfTEZfRVhQRUNURUQAQ1JFQVRFRABJTV9VU0VEAEhQRV9QQVVTRUQAVElNRU9VVF9PQ0NVUkVEAFBBWU1FTlRfUkVRVUlSRUQAUFJFQ09ORElUSU9OX1JFUVVJUkVEAFBST1hZX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEAE5FVFdPUktfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQATEVOR1RIX1JFUVVJUkVEAFNTTF9DRVJUSUZJQ0FURV9SRVFVSVJFRABVUEdSQURFX1JFUVVJUkVEAFBBR0VfRVhQSVJFRABQUkVDT05ESVRJT05fRkFJTEVEAEVYUEVDVEFUSU9OX0ZBSUxFRABSRVZBTElEQVRJT05fRkFJTEVEAFNTTF9IQU5EU0hBS0VfRkFJTEVEAExPQ0tFRABUUkFOU0ZPUk1BVElPTl9BUFBMSUVEAE5PVF9NT0RJRklFRABOT1RfRVhURU5ERUQAQkFORFdJRFRIX0xJTUlUX0VYQ0VFREVEAFNJVEVfSVNfT1ZFUkxPQURFRABIRUFEAEV4cGVjdGVkIEhUVFAvAABeEwAAJhMAADAQAADwFwAAnRMAABUSAAA5FwAA8BIAAAoQAAB1EgAArRIAAIITAABPFAAAfxAAAKAVAAAjFAAAiRIAAIsUAABNFQAA1BEAAM8UAAAQGAAAyRYAANwWAADBEQAA4BcAALsUAAB0FAAAfBUAAOUUAAAIFwAAHxAAAGUVAACjFAAAKBUAAAIVAACZFQAALBAAAIsZAABPDwAA1A4AAGoQAADOEAAAAhcAAIkOAABuEwAAHBMAAGYUAABWFwAAwRMAAM0TAABsEwAAaBcAAGYXAABfFwAAIhMAAM4PAABpDgAA2A4AAGMWAADLEwAAqg4AACgXAAAmFwAAxRMAAF0WAADoEQAAZxMAAGUTAADyFgAAcxMAAB0XAAD5FgAA8xEAAM8OAADOFQAADBIAALMRAAClEQAAYRAAADIXAAC7EwBB+TULAQEAQZA2C+ABAQECAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQf03CwEBAEGROAteAgMCAgICAgAAAgIAAgIAAgICAgICAgICAgAEAAAAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAgICAAIAAgBB/TkLAQEAQZE6C14CAAICAgICAAACAgACAgACAgICAgICAgICAAMABAAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAAgACAEHwOwsNbG9zZWVlcC1hbGl2ZQBBiTwLAQEAQaA8C+ABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQYk+CwEBAEGgPgvnAQEBAQEBAQEBAQEBAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBY2h1bmtlZABBsMAAC18BAQABAQEBAQAAAQEAAQEAAQEBAQEBAQEBAQAAAAAAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQBBkMIACyFlY3Rpb25lbnQtbGVuZ3Rob25yb3h5LWNvbm5lY3Rpb24AQcDCAAstcmFuc2Zlci1lbmNvZGluZ3BncmFkZQ0KDQoNClNNDQoNClRUUC9DRS9UU1AvAEH5wgALBQECAAEDAEGQwwAL4AEEAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB+cQACwUBAgABAwBBkMUAC+ABBAEBBQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQfnGAAsEAQAAAQBBkccAC98BAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB+sgACwQBAAACAEGQyQALXwMEAAAEBAQEBAQEBAQEBAUEBAQEBAQEBAQEBAQABAAGBwQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEAEH6ygALBAEAAAEAQZDLAAsBAQBBqssAC0ECAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwBB+swACwQBAAABAEGQzQALAQEAQZrNAAsGAgAAAAACAEGxzQALOgMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAQfDOAAuWAU5PVU5DRUVDS09VVE5FQ1RFVEVDUklCRUxVU0hFVEVBRFNFQVJDSFJHRUNUSVZJVFlMRU5EQVJWRU9USUZZUFRJT05TQ0hTRUFZU1RBVENIR0VPUkRJUkVDVE9SVFJDSFBBUkFNRVRFUlVSQ0VCU0NSSUJFQVJET1dOQUNFSU5ETktDS1VCU0NSSUJFSFRUUC9BRFRQLw==","base64")},9069:(e,t)=>{"use strict";function r(e){let t={};return Object.keys(e).forEach(r=>{let i=e[r];"number"==typeof i&&(t[r]=i)}),t}Object.defineProperty(t,"__esModule",{value:!0}),t.enumToMap=void 0,t.enumToMap=r},9590:(e,t,r)=>{"use strict";let{kClients:i}=r(1053),n=r(8031),{kAgent:s,kMockAgentSet:o,kMockAgentGet:a,kDispatches:A,kIsMockActive:l,kNetConnect:c,kGetNetConnect:u,kOptions:h,kFactory:d}=r(3172),g=r(7676),f=r(2417),{matchValue:p,buildMockOptions:E}=r(9602),{InvalidArgumentError:C,UndiciError:I}=r(2665),m=r(9296),B=r(5163),y=r(9544);class Q extends m{constructor(e){if(super(e),this[c]=!0,this[l]=!0,e?.agent&&"function"!=typeof e.agent.dispatch)throw new C("Argument opts.agent must implement Agent");let t=e?.agent?e.agent:new n(e);this[s]=t,this[i]=t[i],this[h]=E(e)}get(e){let t=this[a](e);return t||(t=this[d](e),this[o](e,t)),t}dispatch(e,t){return this.get(e.origin),this[s].dispatch(e,t)}async close(){await this[s].close(),this[i].clear()}deactivate(){this[l]=!1}activate(){this[l]=!0}enableNetConnect(e){if("string"==typeof e||"function"==typeof e||e instanceof RegExp)Array.isArray(this[c])?this[c].push(e):this[c]=[e];else if(void 0===e)this[c]=!0;else throw new C("Unsupported matcher. Must be one of String|Function|RegExp.")}disableNetConnect(){this[c]=!1}get isMockActive(){return this[l]}[o](e,t){this[i].set(e,t)}[d](e){let t=Object.assign({agent:this},this[h]);return this[h]&&1===this[h].connections?new g(e,t):new f(e,t)}[a](e){let t=this[i].get(e);if(t)return t;if("string"!=typeof e){let t=this[d]("http://localhost:9999");return this[o](e,t),t}for(let[t,r]of Array.from(this[i]))if(r&&"string"!=typeof t&&p(t,e)){let t=this[d](e);return this[o](e,t),t[A]=r[A],t}}[u](){return this[c]}pendingInterceptors(){return Array.from(this[i].entries()).flatMap(([e,t])=>t[A].map(t=>({...t,origin:e}))).filter(({pending:e})=>e)}assertNoPendingInterceptors({pendingInterceptorsFormatter:e=new y}={}){let t=this.pendingInterceptors();if(0===t.length)return;let r=new B("interceptor","interceptors").pluralize(t.length);throw new I(`
${r.count} ${r.noun} ${r.is} pending:

${e.format(t)}
`.trim())}}e.exports=Q},7676:(e,t,r)=>{"use strict";let{promisify:i}=r(7261),n=r(2098),{buildMockDispatch:s}=r(9602),{kDispatches:o,kMockAgent:a,kClose:A,kOriginalClose:l,kOrigin:c,kOriginalDispatch:u,kConnected:h}=r(3172),{MockInterceptor:d}=r(8477),g=r(1053),{InvalidArgumentError:f}=r(2665);class p extends n{constructor(e,t){if(super(e,t),!t||!t.agent||"function"!=typeof t.agent.dispatch)throw new f("Argument opts.agent must implement Agent");this[a]=t.agent,this[c]=e,this[o]=[],this[h]=1,this[u]=this.dispatch,this[l]=this.close.bind(this),this.dispatch=s.call(this),this.close=this[A]}get[g.kConnected](){return this[h]}intercept(e){return new d(e,this[o])}async [A](){await i(this[l])(),this[h]=0,this[a][g.kClients].delete(this[c])}}e.exports=p},5286:(e,t,r)=>{"use strict";let{UndiciError:i}=r(2665);class n extends i{constructor(e){super(e),Error.captureStackTrace(this,n),this.name="MockNotMatchedError",this.message=e||"The request does not match any registered mock dispatches",this.code="UND_MOCK_ERR_MOCK_NOT_MATCHED"}}e.exports={MockNotMatchedError:n}},8477:(e,t,r)=>{"use strict";let{getResponseData:i,buildKey:n,addMockDispatch:s}=r(9602),{kDispatches:o,kDispatchKey:a,kDefaultHeaders:A,kDefaultTrailers:l,kContentLength:c,kMockDispatch:u}=r(3172),{InvalidArgumentError:h}=r(2665),{buildURL:d}=r(7211);class g{constructor(e){this[u]=e}delay(e){if("number"!=typeof e||!Number.isInteger(e)||e<=0)throw new h("waitInMs must be a valid integer > 0");return this[u].delay=e,this}persist(){return this[u].persist=!0,this}times(e){if("number"!=typeof e||!Number.isInteger(e)||e<=0)throw new h("repeatTimes must be a valid integer > 0");return this[u].times=e,this}}class f{constructor(e,t){if("object"!=typeof e)throw new h("opts must be an object");if(void 0===e.path)throw new h("opts.path must be defined");if(void 0===e.method&&(e.method="GET"),"string"==typeof e.path){if(e.query)e.path=d(e.path,e.query);else{let t=new URL(e.path,"data://");e.path=t.pathname+t.search}}"string"==typeof e.method&&(e.method=e.method.toUpperCase()),this[a]=n(e),this[o]=t,this[A]={},this[l]={},this[c]=!1}createMockScopeDispatchData({statusCode:e,data:t,responseOptions:r}){let n=i(t),s=this[c]?{"content-length":n.length}:{};return{statusCode:e,data:t,headers:{...this[A],...s,...r.headers},trailers:{...this[l],...r.trailers}}}validateReplyParameters(e){if(void 0===e.statusCode)throw new h("statusCode must be defined");if("object"!=typeof e.responseOptions||null===e.responseOptions)throw new h("responseOptions must be an object")}reply(e){if("function"==typeof e){let t=t=>{let r=e(t);if("object"!=typeof r||null===r)throw new h("reply options callback must return an object");let i={data:"",responseOptions:{},...r};return this.validateReplyParameters(i),{...this.createMockScopeDispatchData(i)}};return new g(s(this[o],this[a],t))}let t={statusCode:e,data:void 0===arguments[1]?"":arguments[1],responseOptions:void 0===arguments[2]?{}:arguments[2]};this.validateReplyParameters(t);let r=this.createMockScopeDispatchData(t);return new g(s(this[o],this[a],r))}replyWithError(e){if(void 0===e)throw new h("error must be defined");return new g(s(this[o],this[a],{error:e}))}defaultReplyHeaders(e){if(void 0===e)throw new h("headers must be defined");return this[A]=e,this}defaultReplyTrailers(e){if(void 0===e)throw new h("trailers must be defined");return this[l]=e,this}replyContentLength(){return this[c]=!0,this}}e.exports.MockInterceptor=f,e.exports.MockScope=g},2417:(e,t,r)=>{"use strict";let{promisify:i}=r(7261),n=r(304),{buildMockDispatch:s}=r(9602),{kDispatches:o,kMockAgent:a,kClose:A,kOriginalClose:l,kOrigin:c,kOriginalDispatch:u,kConnected:h}=r(3172),{MockInterceptor:d}=r(8477),g=r(1053),{InvalidArgumentError:f}=r(2665);class p extends n{constructor(e,t){if(super(e,t),!t||!t.agent||"function"!=typeof t.agent.dispatch)throw new f("Argument opts.agent must implement Agent");this[a]=t.agent,this[c]=e,this[o]=[],this[h]=1,this[u]=this.dispatch,this[l]=this.close.bind(this),this.dispatch=s.call(this),this.close=this[A]}get[g.kConnected](){return this[h]}intercept(e){return new d(e,this[o])}async [A](){await i(this[l])(),this[h]=0,this[a][g.kClients].delete(this[c])}}e.exports=p},3172:e=>{"use strict";e.exports={kAgent:Symbol("agent"),kOptions:Symbol("options"),kFactory:Symbol("factory"),kDispatches:Symbol("dispatches"),kDispatchKey:Symbol("dispatch key"),kDefaultHeaders:Symbol("default headers"),kDefaultTrailers:Symbol("default trailers"),kContentLength:Symbol("content length"),kMockAgent:Symbol("mock agent"),kMockAgentSet:Symbol("mock agent set"),kMockAgentGet:Symbol("mock agent get"),kMockDispatch:Symbol("mock dispatch"),kClose:Symbol("close"),kOriginalClose:Symbol("original agent close"),kOrigin:Symbol("origin"),kIsMockActive:Symbol("is mock active"),kNetConnect:Symbol("net connect"),kGetNetConnect:Symbol("get net connect"),kConnected:Symbol("connected")}},9602:(e,t,r)=>{"use strict";let{MockNotMatchedError:i}=r(5286),{kDispatches:n,kMockAgent:s,kOriginalDispatch:o,kOrigin:a,kGetNetConnect:A}=r(3172),{buildURL:l}=r(7211),{STATUS_CODES:c}=r(8849),{types:{isPromise:u}}=r(7261);function h(e,t){return"string"==typeof e?e===t:e instanceof RegExp?e.test(t):"function"==typeof e&&!0===e(t)}function d(e){return Object.fromEntries(Object.entries(e).map(([e,t])=>[e.toLocaleLowerCase(),t]))}function g(e,t){if(Array.isArray(e)){for(let r=0;r<e.length;r+=2)if(e[r].toLocaleLowerCase()===t.toLocaleLowerCase())return e[r+1];return}return"function"==typeof e.get?e.get(t):d(e)[t.toLocaleLowerCase()]}function f(e){let t=e.slice(),r=[];for(let e=0;e<t.length;e+=2)r.push([t[e],t[e+1]]);return Object.fromEntries(r)}function p(e,t){if("function"==typeof e.headers)return Array.isArray(t)&&(t=f(t)),e.headers(t?d(t):{});if(void 0===e.headers)return!0;if("object"!=typeof t||"object"!=typeof e.headers)return!1;for(let[r,i]of Object.entries(e.headers))if(!h(i,g(t,r)))return!1;return!0}function E(e){if("string"!=typeof e)return e;let t=e.split("?");if(2!==t.length)return e;let r=new URLSearchParams(t.pop());return r.sort(),[...t,r.toString()].join("?")}function C(e,{path:t,method:r,body:i,headers:n}){let s=h(e.path,t),o=h(e.method,r),a=void 0===e.body||h(e.body,i),A=p(e,n);return s&&o&&a&&A}function I(e){return Buffer.isBuffer(e)?e:"object"==typeof e?JSON.stringify(e):e.toString()}function m(e,t){let r=t.query?l(t.path,t.query):t.path,n="string"==typeof r?E(r):r,s=e.filter(({consumed:e})=>!e).filter(({path:e})=>h(E(e),n));if(0===s.length)throw new i(`Mock dispatch not matched for path '${n}'`);if(0===(s=s.filter(({method:e})=>h(e,t.method))).length)throw new i(`Mock dispatch not matched for method '${t.method}' on path '${n}'`);if(0===(s=s.filter(({body:e})=>void 0===e||h(e,t.body))).length)throw new i(`Mock dispatch not matched for body '${t.body}' on path '${n}'`);if(0===(s=s.filter(e=>p(e,t.headers))).length){let e="object"==typeof t.headers?JSON.stringify(t.headers):t.headers;throw new i(`Mock dispatch not matched for headers '${e}' on path '${n}'`)}return s[0]}function B(e,t,r){let i={timesInvoked:0,times:1,persist:!1,consumed:!1},n="function"==typeof r?{callback:r}:{...r},s={...i,...t,pending:!0,data:{error:null,...n}};return e.push(s),s}function y(e,t){let r=e.findIndex(e=>!!e.consumed&&C(e,t));-1!==r&&e.splice(r,1)}function Q(e){let{path:t,method:r,body:i,headers:n,query:s}=e;return{path:t,method:r,body:i,headers:n,query:s}}function w(e){let t=Object.keys(e),r=[];for(let i=0;i<t.length;++i){let n=t[i],s=e[n],o=Buffer.from(`${n}`);if(Array.isArray(s))for(let e=0;e<s.length;++e)r.push(o,Buffer.from(`${s[e]}`));else r.push(o,Buffer.from(`${s}`))}return r}function v(e){return c[e]||"unknown"}async function b(e){let t=[];for await(let r of e)t.push(r);return Buffer.concat(t).toString("utf8")}function S(e,t){let r=Q(e),i=m(this[n],r);i.timesInvoked++,i.data.callback&&(i.data={...i.data,...i.data.callback(e)});let{data:{statusCode:s,data:o,headers:a,trailers:A,error:l},delay:c,persist:h}=i,{timesInvoked:d,times:g}=i;if(i.consumed=!h&&d>=g,i.pending=d<g,null!==l)return y(this[n],r),t.onError(l),!0;function p(i,n=o){let l=Array.isArray(e.headers)?f(e.headers):e.headers,c="function"==typeof n?n({...e,headers:l}):n;if(u(c)){c.then(e=>p(i,e));return}let h=I(c),d=w(a),g=w(A);t.onConnect?.(e=>t.onError(e),null),t.onHeaders?.(s,d,E,v(s)),t.onData?.(Buffer.from(h)),t.onComplete?.(g),y(i,r)}function E(){}return"number"==typeof c&&c>0?setTimeout(()=>{p(this[n])},c):p(this[n]),!0}function T(){let e=this[s],t=this[a],r=this[o];return function(n,s){if(e.isMockActive)try{S.call(this,n,s)}catch(o){if(o instanceof i){let a=e[A]();if(!1===a)throw new i(`${o.message}: subsequent request to origin ${t} was not allowed (net.connect disabled)`);if(D(a,t))r.call(this,n,s);else throw new i(`${o.message}: subsequent request to origin ${t} was not allowed (net.connect is not enabled for this origin)`)}else throw o}else r.call(this,n,s)}}function D(e,t){let r=new URL(t);return!0===e||!!(Array.isArray(e)&&e.some(e=>h(e,r.host)))}function R(e){if(e){let{agent:t,...r}=e;return r}}e.exports={getResponseData:I,getMockDispatch:m,addMockDispatch:B,deleteMockDispatch:y,buildKey:Q,generateKeyValues:w,matchValue:h,getResponse:b,getStatusText:v,mockDispatch:S,buildMockDispatch:T,checkNetConnect:D,buildMockOptions:R,getHeaderByName:g,buildHeadersFromArray:f}},9544:(e,t,r)=>{"use strict";let{Transform:i}=r(4492),{Console:n}=r(27),s=process.versions.icu?"":"Y ",o=process.versions.icu?"":"N ";e.exports=class{constructor({disableColors:e}={}){this.transform=new i({transform(e,t,r){r(null,e)}}),this.logger=new n({stdout:this.transform,inspectOptions:{colors:!e&&!process.env.CI}})}format(e){let t=e.map(({method:e,path:t,data:{statusCode:r},persist:i,times:n,timesInvoked:a,origin:A})=>({Method:e,Origin:A,Path:t,"Status code":r,Persistent:i?s:o,Invocations:a,Remaining:i?1/0:n-a}));return this.logger.table(t),this.transform.read().toString()}}},5163:e=>{"use strict";let t={pronoun:"it",is:"is",was:"was",this:"this"},r={pronoun:"they",is:"are",was:"were",this:"these"};e.exports=class{constructor(e,t){this.singular=e,this.plural=t}pluralize(e){let i=1===e,n=i?t:r,s=i?this.singular:this.plural;return{...n,count:e,noun:s}}}},5685:e=>{"use strict";let t;let r=499,i=Date.now(),n=[];function s(){i=Date.now();let e=n.length,t=0;for(;t<e;){let s=n[t];0===s.state?s.state=i+s.delay-r:s.state>0&&i>=s.state&&(s.state=-1,s.callback(s.opaque)),-1===s.state?(s.state=-2,t!==e-1?n[t]=n.pop():n.pop(),e-=1):t+=1}n.length>0&&o()}function o(){t?.refresh?t.refresh():(clearTimeout(t),(t=setTimeout(s,r)).unref&&t.unref())}class a{constructor(e,t,r){this.callback=e,this.delay=t,this.opaque=r,this.state=-2,this.refresh()}refresh(){-2!==this.state||(n.push(this),t&&1!==n.length||o()),this.state=0}clear(){this.state=-1}}e.exports={setTimeout:(e,t,r)=>t<=1e3?setTimeout(e,t,r):new a(e,t,r),clearTimeout(e){e instanceof a?e.clear():clearTimeout(e)}}},2097:(e,t,r)=>{"use strict";let{kConstruct:i}=r(6635),{urlEquals:n,getFieldValues:s}=r(4437),{kEnumerableProperty:o,isDisturbed:a}=r(7211),{webidl:A}=r(5007),{Response:l,cloneResponse:c,fromInnerResponse:u}=r(1119),{Request:h,fromInnerRequest:d}=r(2236),{kState:g}=r(8115),{fetching:f}=r(6531),{urlIsHttpHttpsScheme:p,createDeferredPromise:E,readAllBytes:C}=r(4960),I=r(8061);class m{#B;constructor(){arguments[0]!==i&&A.illegalConstructor(),this.#B=arguments[1]}async match(e,t={}){A.brandCheck(this,m);let r="Cache.match";A.argumentLengthCheck(arguments,1,r),e=A.converters.RequestInfo(e,r,"request"),t=A.converters.CacheQueryOptions(t,r,"options");let i=this.#y(e,t,1);if(0!==i.length)return i[0]}async matchAll(e,t={}){A.brandCheck(this,m);let r="Cache.matchAll";return void 0!==e&&(e=A.converters.RequestInfo(e,r,"request")),t=A.converters.CacheQueryOptions(t,r,"options"),this.#y(e,t)}async add(e){A.brandCheck(this,m);let t="Cache.add";A.argumentLengthCheck(arguments,1,t);let r=[e=A.converters.RequestInfo(e,t,"request")],i=this.addAll(r);return await i}async addAll(e){A.brandCheck(this,m);let t="Cache.addAll";A.argumentLengthCheck(arguments,1,t);let r=[],i=[];for(let r of e){if(void 0===r)throw A.errors.conversionFailed({prefix:t,argument:"Argument 1",types:["undefined is not allowed"]});if("string"==typeof(r=A.converters.RequestInfo(r)))continue;let e=r[g];if(!p(e.url)||"GET"!==e.method)throw A.errors.exception({header:t,message:"Expected http/s scheme when method is not GET."})}let n=[];for(let o of e){let e=new h(o)[g];if(!p(e.url))throw A.errors.exception({header:t,message:"Expected http/s scheme."});e.initiator="fetch",e.destination="subresource",i.push(e);let a=E();n.push(f({request:e,processResponse(e){if("error"===e.type||206===e.status||e.status<200||e.status>299)a.reject(A.errors.exception({header:"Cache.addAll",message:"Received an invalid status code or the request failed."}));else if(e.headersList.contains("vary")){for(let t of s(e.headersList.get("vary")))if("*"===t){for(let e of(a.reject(A.errors.exception({header:"Cache.addAll",message:"invalid vary field value"})),n))e.abort();return}}},processResponseEndOfBody(e){if(e.aborted){a.reject(new DOMException("aborted","AbortError"));return}a.resolve(e)}})),r.push(a.promise)}let o=Promise.all(r),a=await o,l=[],c=0;for(let e of a){let t={type:"put",request:i[c],response:e};l.push(t),c++}let u=E(),d=null;try{this.#Q(l)}catch(e){d=e}return queueMicrotask(()=>{null===d?u.resolve(void 0):u.reject(d)}),u.promise}async put(e,t){A.brandCheck(this,m);let r="Cache.put";A.argumentLengthCheck(arguments,2,r),e=A.converters.RequestInfo(e,r,"request"),t=A.converters.Response(t,r,"response");let i=null;if(!p((i=e instanceof h?e[g]:new h(e)[g]).url)||"GET"!==i.method)throw A.errors.exception({header:r,message:"Expected an http/s scheme when method is not GET"});let n=t[g];if(206===n.status)throw A.errors.exception({header:r,message:"Got 206 status"});if(n.headersList.contains("vary")){for(let e of s(n.headersList.get("vary")))if("*"===e)throw A.errors.exception({header:r,message:"Got * vary field value"})}if(n.body&&(a(n.body.stream)||n.body.stream.locked))throw A.errors.exception({header:r,message:"Response body is locked or disturbed"});let o=c(n),l=E();null!=n.body?C(n.body.stream.getReader()).then(l.resolve,l.reject):l.resolve(void 0);let u=[],d={type:"put",request:i,response:o};u.push(d);let f=await l.promise;null!=o.body&&(o.body.source=f);let I=E(),B=null;try{this.#Q(u)}catch(e){B=e}return queueMicrotask(()=>{null===B?I.resolve():I.reject(B)}),I.promise}async delete(e,t={}){let r;A.brandCheck(this,m);let i="Cache.delete";A.argumentLengthCheck(arguments,1,i),e=A.converters.RequestInfo(e,i,"request"),t=A.converters.CacheQueryOptions(t,i,"options");let n=null;if(e instanceof h){if("GET"!==(n=e[g]).method&&!t.ignoreMethod)return!1}else I("string"==typeof e),n=new h(e)[g];let s=[],o={type:"delete",request:n,options:t};s.push(o);let a=E(),l=null;try{r=this.#Q(s)}catch(e){l=e}return queueMicrotask(()=>{null===l?a.resolve(!!r?.length):a.reject(l)}),a.promise}async keys(e,t={}){A.brandCheck(this,m);let r="Cache.keys";void 0!==e&&(e=A.converters.RequestInfo(e,r,"request")),t=A.converters.CacheQueryOptions(t,r,"options");let i=null;if(void 0!==e){if(e instanceof h){if("GET"!==(i=e[g]).method&&!t.ignoreMethod)return[]}else"string"==typeof e&&(i=new h(e)[g])}let n=E(),s=[];if(void 0===e)for(let e of this.#B)s.push(e[0]);else for(let e of this.#w(i,t))s.push(e[0]);return queueMicrotask(()=>{let e=[];for(let t of s){let r=d(t,new AbortController().signal,"immutable");e.push(r)}n.resolve(Object.freeze(e))}),n.promise}#Q(e){let t=this.#B,r=[...t],i=[],n=[];try{for(let r of e){let e;if("delete"!==r.type&&"put"!==r.type)throw A.errors.exception({header:"Cache.#batchCacheOperations",message:'operation type does not match "delete" or "put"'});if("delete"===r.type&&null!=r.response)throw A.errors.exception({header:"Cache.#batchCacheOperations",message:"delete operation should not have an associated response"});if(this.#w(r.request,r.options,i).length)throw new DOMException("???","InvalidStateError");if("delete"===r.type){if(e=this.#w(r.request,r.options),0===e.length)return[];for(let r of e){let e=t.indexOf(r);I(-1!==e),t.splice(e,1)}}else if("put"===r.type){if(null==r.response)throw A.errors.exception({header:"Cache.#batchCacheOperations",message:"put operation should have an associated response"});let n=r.request;if(!p(n.url))throw A.errors.exception({header:"Cache.#batchCacheOperations",message:"expected http or https scheme"});if("GET"!==n.method)throw A.errors.exception({header:"Cache.#batchCacheOperations",message:"not get method"});if(null!=r.options)throw A.errors.exception({header:"Cache.#batchCacheOperations",message:"options must not be defined"});for(let i of e=this.#w(r.request)){let e=t.indexOf(i);I(-1!==e),t.splice(e,1)}t.push([r.request,r.response]),i.push([r.request,r.response])}n.push([r.request,r.response])}return n}catch(e){throw this.#B.length=0,this.#B=r,e}}#w(e,t,r){let i=[];for(let n of r??this.#B){let[r,s]=n;this.#v(e,r,s,t)&&i.push(n)}return i}#v(e,t,r=null,i){let o=new URL(e.url),a=new URL(t.url);if(i?.ignoreSearch&&(a.search="",o.search=""),!n(o,a,!0))return!1;if(null==r||i?.ignoreVary||!r.headersList.contains("vary"))return!0;for(let i of s(r.headersList.get("vary")))if("*"===i||t.headersList.get(i)!==e.headersList.get(i))return!1;return!0}#y(e,t,r=1/0){let i=null;if(void 0!==e){if(e instanceof h){if("GET"!==(i=e[g]).method&&!t.ignoreMethod)return[]}else"string"==typeof e&&(i=new h(e)[g])}let n=[];if(void 0===e)for(let e of this.#B)n.push(e[1]);else for(let e of this.#w(i,t))n.push(e[1]);let s=[];for(let e of n){let t=u(e,"immutable");if(s.push(t.clone()),s.length>=r)break}return Object.freeze(s)}}Object.defineProperties(m.prototype,{[Symbol.toStringTag]:{value:"Cache",configurable:!0},match:o,matchAll:o,add:o,addAll:o,put:o,delete:o,keys:o});let B=[{key:"ignoreSearch",converter:A.converters.boolean,defaultValue:()=>!1},{key:"ignoreMethod",converter:A.converters.boolean,defaultValue:()=>!1},{key:"ignoreVary",converter:A.converters.boolean,defaultValue:()=>!1}];A.converters.CacheQueryOptions=A.dictionaryConverter(B),A.converters.MultiCacheQueryOptions=A.dictionaryConverter([...B,{key:"cacheName",converter:A.converters.DOMString}]),A.converters.Response=A.interfaceConverter(l),A.converters["sequence<RequestInfo>"]=A.sequenceConverter(A.converters.RequestInfo),e.exports={Cache:m}},8643:(e,t,r)=>{"use strict";let{kConstruct:i}=r(6635),{Cache:n}=r(2097),{webidl:s}=r(5007),{kEnumerableProperty:o}=r(7211);class a{#b=new Map;constructor(){arguments[0]!==i&&s.illegalConstructor()}async match(e,t={}){if(s.brandCheck(this,a),s.argumentLengthCheck(arguments,1,"CacheStorage.match"),e=s.converters.RequestInfo(e),null!=(t=s.converters.MultiCacheQueryOptions(t)).cacheName){if(this.#b.has(t.cacheName)){let r=new n(i,this.#b.get(t.cacheName));return await r.match(e,t)}}else for(let r of this.#b.values()){let s=new n(i,r),o=await s.match(e,t);if(void 0!==o)return o}}async has(e){s.brandCheck(this,a);let t="CacheStorage.has";return s.argumentLengthCheck(arguments,1,t),e=s.converters.DOMString(e,t,"cacheName"),this.#b.has(e)}async open(e){s.brandCheck(this,a);let t="CacheStorage.open";if(s.argumentLengthCheck(arguments,1,t),e=s.converters.DOMString(e,t,"cacheName"),this.#b.has(e))return new n(i,this.#b.get(e));let r=[];return this.#b.set(e,r),new n(i,r)}async delete(e){s.brandCheck(this,a);let t="CacheStorage.delete";return s.argumentLengthCheck(arguments,1,t),e=s.converters.DOMString(e,t,"cacheName"),this.#b.delete(e)}async keys(){return s.brandCheck(this,a),[...this.#b.keys()]}}Object.defineProperties(a.prototype,{[Symbol.toStringTag]:{value:"CacheStorage",configurable:!0},match:o,has:o,open:o,delete:o,keys:o}),e.exports={CacheStorage:a}},6635:(e,t,r)=>{"use strict";e.exports={kConstruct:r(1053).kConstruct}},4437:(e,t,r)=>{"use strict";let i=r(8061),{URLSerializer:n}=r(8097),{isValidHeaderName:s}=r(4960);function o(e,t,r=!1){return n(e,r)===n(t,r)}function a(e){i(null!==e);let t=[];for(let r of e.split(","))s(r=r.trim())&&t.push(r);return t}e.exports={urlEquals:o,getFieldValues:a}},4106:e=>{"use strict";let t=1024,r=4096;e.exports={maxAttributeValueSize:t,maxNameValuePairSize:r}},5049:(e,t,r)=>{"use strict";let{parseSetCookie:i}=r(7449),{stringify:n}=r(3220),{webidl:s}=r(5007),{Headers:o}=r(5609);function a(e){s.argumentLengthCheck(arguments,1,"getCookies"),s.brandCheck(e,o,{strict:!1});let t=e.get("cookie"),r={};if(!t)return r;for(let e of t.split(";")){let[t,...i]=e.split("=");r[t.trim()]=i.join("=")}return r}function A(e,t,r){s.brandCheck(e,o,{strict:!1});let i="deleteCookie";s.argumentLengthCheck(arguments,2,i),t=s.converters.DOMString(t,i,"name"),r=s.converters.DeleteCookieAttributes(r),c(e,{name:t,value:"",expires:new Date(0),...r})}function l(e){s.argumentLengthCheck(arguments,1,"getSetCookies"),s.brandCheck(e,o,{strict:!1});let t=e.getSetCookie();return t?t.map(e=>i(e)):[]}function c(e,t){s.argumentLengthCheck(arguments,2,"setCookie"),s.brandCheck(e,o,{strict:!1});let r=n(t=s.converters.Cookie(t));r&&e.append("Set-Cookie",r)}s.converters.DeleteCookieAttributes=s.dictionaryConverter([{converter:s.nullableConverter(s.converters.DOMString),key:"path",defaultValue:()=>null},{converter:s.nullableConverter(s.converters.DOMString),key:"domain",defaultValue:()=>null}]),s.converters.Cookie=s.dictionaryConverter([{converter:s.converters.DOMString,key:"name"},{converter:s.converters.DOMString,key:"value"},{converter:s.nullableConverter(e=>"number"==typeof e?s.converters["unsigned long long"](e):new Date(e)),key:"expires",defaultValue:()=>null},{converter:s.nullableConverter(s.converters["long long"]),key:"maxAge",defaultValue:()=>null},{converter:s.nullableConverter(s.converters.DOMString),key:"domain",defaultValue:()=>null},{converter:s.nullableConverter(s.converters.DOMString),key:"path",defaultValue:()=>null},{converter:s.nullableConverter(s.converters.boolean),key:"secure",defaultValue:()=>null},{converter:s.nullableConverter(s.converters.boolean),key:"httpOnly",defaultValue:()=>null},{converter:s.converters.USVString,key:"sameSite",allowedValues:["Strict","Lax","None"]},{converter:s.sequenceConverter(s.converters.DOMString),key:"unparsed",defaultValue:()=>[]}]),e.exports={getCookies:a,deleteCookie:A,getSetCookies:l,setCookie:c}},7449:(e,t,r)=>{"use strict";let{maxNameValuePairSize:i,maxAttributeValueSize:n}=r(4106),{isCTLExcludingHtab:s}=r(3220),{collectASequenceOfCodePointsFast:o}=r(8097),a=r(8061);function A(e){if(s(e))return null;let t="",r="",n="",a="";if(e.includes(";")){let i={position:0};t=o(";",e,i),r=e.slice(i.position)}else t=e;if(t.includes("=")){let e={position:0};n=o("=",t,e),a=t.slice(e.position+1)}else a=t;return(n=n.trim(),a=a.trim(),n.length+a.length>i)?null:{name:n,value:a,...l(r)}}function l(e,t={}){if(0===e.length)return t;a(";"===e[0]);let r="";(e=e.slice(1)).includes(";")?(r=o(";",e,{position:0}),e=e.slice(r.length)):(r=e,e="");let i="",s="";if(r.includes("=")){let e={position:0};i=o("=",r,e),s=r.slice(e.position+1)}else i=r;if(i=i.trim(),(s=s.trim()).length>n)return l(e,t);let A=i.toLowerCase();if("expires"===A){let e=new Date(s);t.expires=e}else if("max-age"===A){let r=s.charCodeAt(0);if((r<48||r>57)&&"-"!==s[0]||!/^\d+$/.test(s))return l(e,t);let i=Number(s);t.maxAge=i}else if("domain"===A){let e=s;"."===e[0]&&(e=e.slice(1)),e=e.toLowerCase(),t.domain=e}else if("path"===A){let e="";e=0===s.length||"/"!==s[0]?"/":s,t.path=e}else if("secure"===A)t.secure=!0;else if("httponly"===A)t.httpOnly=!0;else if("samesite"===A){let e="Default",r=s.toLowerCase();r.includes("none")&&(e="None"),r.includes("strict")&&(e="Strict"),r.includes("lax")&&(e="Lax"),t.sameSite=e}else t.unparsed??=[],t.unparsed.push(`${i}=${s}`);return l(e,t)}e.exports={parseSetCookie:A,parseUnparsedAttributes:l}},3220:e=>{"use strict";function t(e){for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(r>=0&&r<=8||r>=10&&r<=31||127===r)return!0}return!1}function r(e){for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(r<33||r>126||34===r||40===r||41===r||60===r||62===r||64===r||44===r||59===r||58===r||92===r||47===r||91===r||93===r||63===r||61===r||123===r||125===r)throw Error("Invalid cookie name")}}function i(e){let t=e.length,r=0;if('"'===e[0]){if(1===t||'"'!==e[t-1])throw Error("Invalid cookie value");--t,++r}for(;r<t;){let t=e.charCodeAt(r++);if(t<33||t>126||34===t||44===t||59===t||92===t)throw Error("Invalid cookie value")}}function n(e){for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(r<32||127===r||59===r)throw Error("Invalid cookie path")}}function s(e){if(e.startsWith("-")||e.endsWith(".")||e.endsWith("-"))throw Error("Invalid cookie domain")}let o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],A=Array(61).fill(0).map((e,t)=>t.toString().padStart(2,"0"));function l(e){return"number"==typeof e&&(e=new Date(e)),`${o[e.getUTCDay()]}, ${A[e.getUTCDate()]} ${a[e.getUTCMonth()]} ${e.getUTCFullYear()} ${A[e.getUTCHours()]}:${A[e.getUTCMinutes()]}:${A[e.getUTCSeconds()]} GMT`}function c(e){if(e<0)throw Error("Invalid cookie max-age")}function u(e){if(0===e.name.length)return null;r(e.name),i(e.value);let t=[`${e.name}=${e.value}`];for(let r of(e.name.startsWith("__Secure-")&&(e.secure=!0),e.name.startsWith("__Host-")&&(e.secure=!0,e.domain=null,e.path="/"),e.secure&&t.push("Secure"),e.httpOnly&&t.push("HttpOnly"),"number"==typeof e.maxAge&&(c(e.maxAge),t.push(`Max-Age=${e.maxAge}`)),e.domain&&(s(e.domain),t.push(`Domain=${e.domain}`)),e.path&&(n(e.path),t.push(`Path=${e.path}`)),e.expires&&"Invalid Date"!==e.expires.toString()&&t.push(`Expires=${l(e.expires)}`),e.sameSite&&t.push(`SameSite=${e.sameSite}`),e.unparsed)){if(!r.includes("="))throw Error("Invalid unparsed");let[e,...i]=r.split("=");t.push(`${e.trim()}=${i.join("=")}`)}return t.join("; ")}e.exports={isCTLExcludingHtab:t,validateCookieName:r,validateCookiePath:n,validateCookieValue:i,toIMFDate:l,stringify:u}},5432:(e,t,r)=>{"use strict";let{Transform:i}=r(4492),{isASCIINumber:n,isValidLastEventId:s}=r(1743),o=[239,187,191],a=10,A=13,l=58,c=32;class u extends i{state=null;checkBOM=!0;crlfCheck=!1;eventEndCheck=!1;buffer=null;pos=0;event={data:void 0,event:void 0,id:void 0,retry:void 0};constructor(e={}){e.readableObjectMode=!0,super(e),this.state=e.eventSourceSettings||{},e.push&&(this.push=e.push)}_transform(e,t,r){if(0===e.length){r();return}if(this.buffer?this.buffer=Buffer.concat([this.buffer,e]):this.buffer=e,this.checkBOM)switch(this.buffer.length){case 1:if(this.buffer[0]===o[0]){r();return}this.checkBOM=!1,r();return;case 2:if(this.buffer[0]===o[0]&&this.buffer[1]===o[1]){r();return}this.checkBOM=!1;break;case 3:if(this.buffer[0]===o[0]&&this.buffer[1]===o[1]&&this.buffer[2]===o[2]){this.buffer=Buffer.alloc(0),this.checkBOM=!1,r();return}this.checkBOM=!1;break;default:this.buffer[0]===o[0]&&this.buffer[1]===o[1]&&this.buffer[2]===o[2]&&(this.buffer=this.buffer.subarray(3)),this.checkBOM=!1}for(;this.pos<this.buffer.length;){if(this.eventEndCheck){if(this.crlfCheck){if(this.buffer[this.pos]===a){this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,this.crlfCheck=!1;continue}this.crlfCheck=!1}if(this.buffer[this.pos]===a||this.buffer[this.pos]===A){this.buffer[this.pos]===A&&(this.crlfCheck=!0),this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,(void 0!==this.event.data||this.event.event||this.event.id||this.event.retry)&&this.processEvent(this.event),this.clearEvent();continue}this.eventEndCheck=!1;continue}if(this.buffer[this.pos]===a||this.buffer[this.pos]===A){this.buffer[this.pos]===A&&(this.crlfCheck=!0),this.parseLine(this.buffer.subarray(0,this.pos),this.event),this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,this.eventEndCheck=!0;continue}this.pos++}r()}parseLine(e,t){if(0===e.length)return;let r=e.indexOf(l);if(0===r)return;let i="",o="";if(-1!==r){i=e.subarray(0,r).toString("utf8");let t=r+1;e[t]===c&&++t,o=e.subarray(t).toString("utf8")}else i=e.toString("utf8"),o="";switch(i){case"data":void 0===t[i]?t[i]=o:t[i]+=`
${o}`;break;case"retry":n(o)&&(t[i]=o);break;case"id":s(o)&&(t[i]=o);break;case"event":o.length>0&&(t[i]=o)}}processEvent(e){e.retry&&n(e.retry)&&(this.state.reconnectionTime=parseInt(e.retry,10)),e.id&&s(e.id)&&(this.state.lastEventId=e.id),void 0!==e.data&&this.push({type:e.event||"message",options:{data:e.data,lastEventId:this.state.lastEventId,origin:this.state.origin}})}clearEvent(){this.event={data:void 0,event:void 0,id:void 0,retry:void 0}}}e.exports={EventSourceStream:u}},5444:(e,t,r)=>{"use strict";let{pipeline:i}=r(4492),{fetching:n}=r(6531),{makeRequest:s}=r(2236),{webidl:o}=r(5007),{EventSourceStream:a}=r(5432),{parseMIMEType:A}=r(8097),{createFastMessageEvent:l}=r(7826),{isNetworkError:c}=r(1119),{delay:u}=r(1743),{kEnumerableProperty:h}=r(7211),{environmentSettingsObject:d}=r(4960),g=!1,f=3e3,p=0,E=1,C=2,I="anonymous",m="use-credentials";class B extends EventTarget{#S={open:null,error:null,message:null};#T=null;#D=!1;#R=p;#k=null;#N=null;#e;#F;constructor(e,t={}){let r;super();let i="EventSource constructor";o.argumentLengthCheck(arguments,1,i),g||(g=!0,process.emitWarning("EventSource is experimental, expect them to change at any time.",{code:"UNDICI-ES"})),e=o.converters.USVString(e,i,"url"),t=o.converters.EventSourceInitDict(t,i,"eventSourceInitDict"),this.#e=t.dispatcher,this.#F={lastEventId:"",reconnectionTime:f};let n=d;try{r=new URL(e,n.settingsObject.baseUrl),this.#F.origin=r.origin}catch(e){throw new DOMException(e,"SyntaxError")}this.#T=r.href;let a=I;t.withCredentials&&(a=m,this.#D=!0);let A={redirect:"follow",keepalive:!0,mode:"cors",credentials:"anonymous"===a?"same-origin":"omit",referrer:"no-referrer"};A.client=d.settingsObject,A.headersList=[["accept",{name:"accept",value:"text/event-stream"}]],A.cache="no-store",A.initiator="other",A.urlList=[new URL(this.#T)],this.#k=s(A),this.#M()}get readyState(){return this.#R}get url(){return this.#T}get withCredentials(){return this.#D}#M(){if(this.#R===C)return;this.#R=p;let e={request:this.#k,dispatcher:this.#e},t=e=>{c(e)&&(this.dispatchEvent(new Event("error")),this.close()),this.#L()};e.processResponseEndOfBody=t,e.processResponse=e=>{if(c(e)){if(e.aborted){this.close(),this.dispatchEvent(new Event("error"));return}this.#L();return}let t=e.headersList.get("content-type",!0),r=null!==t?A(t):"failure",n="failure"!==r&&"text/event-stream"===r.essence;if(200!==e.status||!1===n){this.close(),this.dispatchEvent(new Event("error"));return}this.#R=E,this.dispatchEvent(new Event("open")),this.#F.origin=e.urlList[e.urlList.length-1].origin;let s=new a({eventSourceSettings:this.#F,push:e=>{this.dispatchEvent(l(e.type,e.options))}});i(e.body.stream,s,e=>{e?.aborted===!1&&(this.close(),this.dispatchEvent(new Event("error")))})},this.#N=n(e)}async #L(){this.#R!==C&&(this.#R=p,this.dispatchEvent(new Event("error")),await u(this.#F.reconnectionTime),this.#R===p&&(this.#F.lastEventId.length&&this.#k.headersList.set("last-event-id",this.#F.lastEventId,!0),this.#M()))}close(){o.brandCheck(this,B),this.#R!==C&&(this.#R=C,this.#N.abort(),this.#k=null)}get onopen(){return this.#S.open}set onopen(e){this.#S.open&&this.removeEventListener("open",this.#S.open),"function"==typeof e?(this.#S.open=e,this.addEventListener("open",e)):this.#S.open=null}get onmessage(){return this.#S.message}set onmessage(e){this.#S.message&&this.removeEventListener("message",this.#S.message),"function"==typeof e?(this.#S.message=e,this.addEventListener("message",e)):this.#S.message=null}get onerror(){return this.#S.error}set onerror(e){this.#S.error&&this.removeEventListener("error",this.#S.error),"function"==typeof e?(this.#S.error=e,this.addEventListener("error",e)):this.#S.error=null}}let y={CONNECTING:{__proto__:null,configurable:!1,enumerable:!0,value:p,writable:!1},OPEN:{__proto__:null,configurable:!1,enumerable:!0,value:E,writable:!1},CLOSED:{__proto__:null,configurable:!1,enumerable:!0,value:C,writable:!1}};Object.defineProperties(B,y),Object.defineProperties(B.prototype,y),Object.defineProperties(B.prototype,{close:h,onerror:h,onmessage:h,onopen:h,readyState:h,url:h,withCredentials:h}),o.converters.EventSourceInitDict=o.dictionaryConverter([{key:"withCredentials",converter:o.converters.boolean,defaultValue:()=>!1},{key:"dispatcher",converter:o.converters.any}]),e.exports={EventSource:B,defaultReconnectionTime:f}},1743:e=>{"use strict";function t(e){return -1===e.indexOf("\0")}function r(e){if(0===e.length)return!1;for(let t=0;t<e.length;t++)if(48>e.charCodeAt(t)||e.charCodeAt(t)>57)return!1;return!0}function i(e){return new Promise(t=>{setTimeout(t,e).unref()})}e.exports={isValidLastEventId:t,isASCIINumber:r,delay:i}},8611:(e,t,r)=>{"use strict";let i=r(7211),{ReadableStreamFrom:n,isBlobLike:s,isReadableStreamLike:o,readableStreamClose:a,createDeferredPromise:A,fullyReadBody:l,extractMimeType:c,utf8DecodeBytes:u}=r(4960),{FormData:h}=r(744),{kState:d}=r(8115),{webidl:g}=r(5007),{Blob:f}=r(2254),p=r(8061),{isErrored:E}=r(7211),{isArrayBuffer:C}=r(3746),{serializeAMimeType:I}=r(8097),{multipartFormDataParser:m}=r(6571),B=new TextEncoder;function y(e,t=!1){let r=null;e instanceof ReadableStream?r=e:r=s(e)?e.stream():new ReadableStream({async pull(e){let t="string"==typeof l?B.encode(l):l;t.byteLength&&e.enqueue(t),queueMicrotask(()=>a(e))},start(){},type:"bytes"}),p(o(r));let A=null,l=null,c=null,u=null;if("string"==typeof e)l=e,u="text/plain;charset=UTF-8";else if(e instanceof URLSearchParams)l=e.toString(),u="application/x-www-form-urlencoded;charset=UTF-8";else if(C(e))l=new Uint8Array(e.slice());else if(ArrayBuffer.isView(e))l=new Uint8Array(e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength));else if(i.isFormDataLike(e)){let t=`----formdata-undici-0${`${Math.floor(1e11*Math.random())}`.padStart(11,"0")}`,r=`--${t}\r
Content-Disposition: form-data`,i=e=>e.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),n=e=>e.replace(/\r?\n|\r/g,"\r\n"),s=[],o=new Uint8Array([13,10]);c=0;let a=!1;for(let[t,A]of e)if("string"==typeof A){let e=B.encode(r+`; name="${i(n(t))}"`+`\r
\r
${n(A)}\r
`);s.push(e),c+=e.byteLength}else{let e=B.encode(`${r}; name="${i(n(t))}"`+(A.name?`; filename="${i(A.name)}"`:"")+"\r\n"+`Content-Type: ${A.type||"application/octet-stream"}\r
\r
`);s.push(e,A,o),"number"==typeof A.size?c+=e.byteLength+A.size+o.byteLength:a=!0}let h=B.encode(`--${t}--`);s.push(h),c+=h.byteLength,a&&(c=null),l=e,A=async function*(){for(let e of s)e.stream?yield*e.stream():yield e},u=`multipart/form-data; boundary=${t}`}else if(s(e))l=e,c=e.size,e.type&&(u=e.type);else if("function"==typeof e[Symbol.asyncIterator]){if(t)throw TypeError("keepalive");if(i.isDisturbed(e)||e.locked)throw TypeError("Response body object should not be disturbed or locked");r=e instanceof ReadableStream?e:n(e)}if(("string"==typeof l||i.isBuffer(l))&&(c=Buffer.byteLength(l)),null!=A){let t;r=new ReadableStream({async start(){t=A(e)[Symbol.asyncIterator]()},async pull(e){let{value:i,done:n}=await t.next();if(n)queueMicrotask(()=>{e.close(),e.byobRequest?.respond(0)});else if(!E(r)){let t=new Uint8Array(i);t.byteLength&&e.enqueue(t)}return e.desiredSize>0},async cancel(e){await t.return()},type:"bytes"})}return[{stream:r,source:l,length:c},u]}function Q(e,t=!1){return e instanceof ReadableStream&&(p(!i.isDisturbed(e),"The body has already been consumed."),p(!e.locked,"The stream is locked.")),y(e,t)}function w(e){let[t,r]=e.stream.tee();return e.stream=t,{stream:r,length:e.length,source:e.source}}function v(e){if(e.aborted)throw new DOMException("The operation was aborted.","AbortError")}function b(e){return{blob(){return T(this,e=>{let t=k(this);return null===t?t="":t&&(t=I(t)),new f([e],{type:t})},e)},arrayBuffer(){return T(this,e=>new Uint8Array(e).buffer,e)},text(){return T(this,u,e)},json(){return T(this,R,e)},formData(){return T(this,e=>{let t=k(this);if(null!==t)switch(t.essence){case"multipart/form-data":{let r=m(e,t);if("failure"===r)throw TypeError("Failed to parse body as FormData.");let i=new h;return i[d]=r,i}case"application/x-www-form-urlencoded":{let t=new URLSearchParams(e.toString()),r=new h;for(let[e,i]of t)r.append(e,i);return r}}throw TypeError('Content-Type was not one of "multipart/form-data" or "application/x-www-form-urlencoded".')},e)},bytes(){return T(this,e=>new Uint8Array(e),e)}}}function S(e){Object.assign(e.prototype,b(e))}async function T(e,t,r){if(g.brandCheck(e,r),D(e[d].body))throw TypeError("Body is unusable: Body has already been read");v(e[d]);let i=A(),n=e=>i.reject(e),s=e=>{try{i.resolve(t(e))}catch(e){n(e)}};return null==e[d].body?s(Buffer.allocUnsafe(0)):await l(e[d].body,s,n),i.promise}function D(e){return null!=e&&(e.stream.locked||i.isDisturbed(e.stream))}function R(e){return JSON.parse(u(e))}function k(e){let t=c(e[d].headersList);return"failure"===t?null:t}e.exports={extractBody:y,safelyExtractBody:Q,cloneBody:w,mixinBody:S}},9964:e=>{"use strict";let t=["GET","HEAD","POST"],r=new Set(t),i=[101,204,205,304],n=[301,302,303,307,308],s=new Set(n),o=["1","7","9","11","13","15","17","19","20","21","22","23","25","37","42","43","53","69","77","79","87","95","101","102","103","104","109","110","111","113","115","117","119","123","135","137","139","143","161","179","389","427","465","512","513","514","515","526","530","531","532","540","548","554","556","563","587","601","636","989","990","993","995","1719","1720","1723","2049","3659","4045","4190","5060","5061","6000","6566","6665","6666","6667","6668","6669","6679","6697","10080"],a=new Set(o),A=["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"],l=new Set(A),c=["follow","manual","error"],u=["GET","HEAD","OPTIONS","TRACE"],h=new Set(u),d=["navigate","same-origin","no-cors","cors"],g=["omit","same-origin","include"],f=["default","no-store","reload","no-cache","force-cache","only-if-cached"],p=["content-encoding","content-language","content-location","content-type","content-length"],E=["half"],C=["CONNECT","TRACE","TRACK"],I=new Set(C),m=["audio","audioworklet","font","image","manifest","paintworklet","script","style","track","video","xslt",""],B=new Set(m);e.exports={subresource:m,forbiddenMethods:C,requestBodyHeader:p,referrerPolicy:A,requestRedirect:c,requestMode:d,requestCredentials:g,requestCache:f,redirectStatus:n,corsSafeListedMethods:t,nullBodyStatus:i,safeMethods:u,badPorts:o,requestDuplex:E,subresourceSet:B,badPortsSet:a,redirectStatusSet:s,corsSafeListedMethodsSet:r,safeMethodsSet:h,forbiddenMethodsSet:I,referrerPolicySet:l}},8097:(e,t,r)=>{"use strict";let i=r(8061),n=new TextEncoder,s=/^[!#$%&'*+\-.^_|~A-Za-z0-9]+$/,o=/[\u000A\u000D\u0009\u0020]/,a=/[\u0009\u000A\u000C\u000D\u0020]/g,A=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function l(e){i("data:"===e.protocol);let t=c(e,!0);t=t.slice(5);let r={position:0},n=h(",",t,r),s=n.length;if(n=w(n,!0,!0),r.position>=t.length)return"failure";r.position++;let o=d(t.slice(s+1));if(/;(\u0020){0,}base64$/i.test(n)){if("failure"===(o=C(b(o))))return"failure";n=(n=(n=n.slice(0,-6)).replace(/(\u0020)+$/,"")).slice(0,-1)}n.startsWith(";")&&(n="text/plain"+n);let a=E(n);return"failure"===a&&(a=E("text/plain;charset=US-ASCII")),{mimeType:a,body:o}}function c(e,t=!1){if(!t)return e.href;let r=e.href,i=e.hash.length,n=0===i?r:r.substring(0,r.length-i);return!i&&r.endsWith("#")?n.slice(0,-1):n}function u(e,t,r){let i="";for(;r.position<t.length&&e(t[r.position]);)i+=t[r.position],r.position++;return i}function h(e,t,r){let i=t.indexOf(e,r.position),n=r.position;return -1===i?(r.position=t.length,t.slice(n)):(r.position=i,t.slice(n,r.position))}function d(e){return p(n.encode(e))}function g(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function f(e){return e>=48&&e<=57?e-48:(223&e)-55}function p(e){let t=e.length,r=new Uint8Array(t),i=0;for(let n=0;n<t;++n){let t=e[n];37!==t?r[i++]=t:37!==t||g(e[n+1])&&g(e[n+2])?(r[i++]=f(e[n+1])<<4|f(e[n+2]),n+=2):r[i++]=37}return t===i?r:r.subarray(0,i)}function E(e){e=y(e,!0,!0);let t={position:0},r=h("/",e,t);if(0===r.length||!s.test(r)||t.position>e.length)return"failure";t.position++;let i=h(";",e,t);if(0===(i=y(i,!1,!0)).length||!s.test(i))return"failure";let n=r.toLowerCase(),a=i.toLowerCase(),l={type:n,subtype:a,parameters:new Map,essence:`${n}/${a}`};for(;t.position<e.length;){t.position++,u(e=>o.test(e),e,t);let r=u(e=>";"!==e&&"="!==e,e,t);if(r=r.toLowerCase(),t.position<e.length){if(";"===e[t.position])continue;t.position++}if(t.position>e.length)break;let i=null;if('"'===e[t.position])i=I(e,t,!0),h(";",e,t);else if(0===(i=y(i=h(";",e,t),!1,!0)).length)continue;0!==r.length&&s.test(r)&&(0===i.length||A.test(i))&&!l.parameters.has(r)&&l.parameters.set(r,i)}return l}function C(e){let t=(e=e.replace(a,"")).length;if(t%4==0&&61===e.charCodeAt(t-1)&&(--t,61===e.charCodeAt(t-1)&&--t),t%4==1||/[^+/0-9A-Za-z]/.test(e.length===t?e:e.substring(0,t)))return"failure";let r=Buffer.from(e,"base64");return new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}function I(e,t,r){let n=t.position,s="";for(i('"'===e[t.position]),t.position++;s+=u(e=>'"'!==e&&"\\"!==e,e,t),!(t.position>=e.length);){let r=e[t.position];if(t.position++,"\\"===r){if(t.position>=e.length){s+="\\";break}s+=e[t.position],t.position++}else{i('"'===r);break}}return r?s:e.slice(n,t.position)}function m(e){i("failure"!==e);let{parameters:t,essence:r}=e,n=r;for(let[e,r]of t.entries())n+=";"+e+"=",s.test(r)||(r='"'+(r=r.replace(/(\\|")/g,"\\$1"))+'"'),n+=r;return n}function B(e){return 13===e||10===e||9===e||32===e}function y(e,t=!0,r=!0){return v(e,t,r,B)}function Q(e){return 13===e||10===e||9===e||12===e||32===e}function w(e,t=!0,r=!0){return v(e,t,r,Q)}function v(e,t,r,i){let n=0,s=e.length-1;if(t)for(;n<e.length&&i(e.charCodeAt(n));)n++;if(r)for(;s>0&&i(e.charCodeAt(s));)s--;return 0===n&&s===e.length-1?e:e.slice(n,s+1)}function b(e){let t=e.length;if(65535>t)return String.fromCharCode.apply(null,e);let r="",i=0,n=65535;for(;i<t;)i+n>t&&(n=t-i),r+=String.fromCharCode.apply(null,e.subarray(i,i+=n));return r}function S(e){switch(e.essence){case"application/ecmascript":case"application/javascript":case"application/x-ecmascript":case"application/x-javascript":case"text/ecmascript":case"text/javascript":case"text/javascript1.0":case"text/javascript1.1":case"text/javascript1.2":case"text/javascript1.3":case"text/javascript1.4":case"text/javascript1.5":case"text/jscript":case"text/livescript":case"text/x-ecmascript":case"text/x-javascript":return"text/javascript";case"application/json":case"text/json":return"application/json";case"image/svg+xml":return"image/svg+xml";case"text/xml":case"application/xml":return"application/xml"}return e.subtype.endsWith("+json")?"application/json":e.subtype.endsWith("+xml")?"application/xml":""}e.exports={dataURLProcessor:l,URLSerializer:c,collectASequenceOfCodePoints:u,collectASequenceOfCodePointsFast:h,stringPercentDecode:d,parseMIMEType:E,collectAnHTTPQuotedString:I,serializeAMimeType:m,removeChars:v,removeHTTPWhitespace:y,minimizeSupportedMimeType:S,HTTP_TOKEN_CODEPOINTS:s,isomorphicDecode:b}},2217:(e,t,r)=>{"use strict";let{kConnected:i,kSize:n}=r(1053);class s{constructor(e){this.value=e}deref(){return 0===this.value[i]&&0===this.value[n]?void 0:this.value}}class o{constructor(e){this.finalizer=e}register(e,t){e.on&&e.on("disconnect",()=>{0===e[i]&&0===e[n]&&this.finalizer(t)})}unregister(e){}}e.exports=function(){return process.env.NODE_V8_COVERAGE&&process.version.startsWith("v18")?(process._rawDebug("Using compatibility WeakRef and FinalizationRegistry"),{WeakRef:s,FinalizationRegistry:o}):{WeakRef,FinalizationRegistry}}},3983:(e,t,r)=>{"use strict";let{Blob:i,File:n}=r(2254),{kState:s}=r(8115),{webidl:o}=r(5007);class a{constructor(e,t,r={}){let i=t,n=r.type,o=r.lastModified??Date.now();this[s]={blobLike:e,name:i,type:n,lastModified:o}}stream(...e){return o.brandCheck(this,a),this[s].blobLike.stream(...e)}arrayBuffer(...e){return o.brandCheck(this,a),this[s].blobLike.arrayBuffer(...e)}slice(...e){return o.brandCheck(this,a),this[s].blobLike.slice(...e)}text(...e){return o.brandCheck(this,a),this[s].blobLike.text(...e)}get size(){return o.brandCheck(this,a),this[s].blobLike.size}get type(){return o.brandCheck(this,a),this[s].blobLike.type}get name(){return o.brandCheck(this,a),this[s].name}get lastModified(){return o.brandCheck(this,a),this[s].lastModified}get[Symbol.toStringTag](){return"File"}}function A(e){return e instanceof n||e&&("function"==typeof e.stream||"function"==typeof e.arrayBuffer)&&"File"===e[Symbol.toStringTag]}o.converters.Blob=o.interfaceConverter(i),e.exports={FileLike:a,isFileLike:A}},6571:(e,t,r)=>{"use strict";let{isUSVString:i,bufferToLowerCasedHeaderName:n}=r(7211),{utf8DecodeBytes:s}=r(4960),{HTTP_TOKEN_CODEPOINTS:o,isomorphicDecode:a}=r(8097),{isFileLike:A}=r(3983),{makeEntry:l}=r(744),c=r(8061),{File:u}=r(2254),h=globalThis.File??u,d=Buffer.from('form-data; name="'),g=Buffer.from("; filename"),f=Buffer.from("--"),p=Buffer.from("--\r\n");function E(e){for(let t=0;t<e.length;++t)if((-128&e.charCodeAt(t))!=0)return!1;return!0}function C(e){let t=e.length;if(t<27||t>70)return!1;for(let r=0;r<t;++r){let t=e.charCodeAt(r);if(!(t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122||39===t||45===t||95===t))return!1}return!0}function I(e,t){c("failure"!==t&&"multipart/form-data"===t.essence);let r=t.parameters.get("boundary");if(void 0===r)return"failure";let n=Buffer.from(`--${r}`,"utf8"),o=[],a={position:0};for(13===e[0]&&10===e[1]&&(a.position+=2);;){let t,r;if(!e.subarray(a.position,a.position+n.length).equals(n))return"failure";if(a.position+=n.length,a.position===e.length-2&&w(e,f,a)||a.position===e.length-4&&w(e,p,a))return o;if(13!==e[a.position]||10!==e[a.position+1])return"failure";a.position+=2;let u=m(e,a);if("failure"===u)return"failure";let{name:d,filename:g,contentType:C,encoding:I}=u;a.position+=2;{let r=e.indexOf(n.subarray(2),a.position);if(-1===r)return"failure";t=e.subarray(a.position,r-4),a.position+=t.length,"base64"===I&&(t=Buffer.from(t.toString(),"base64"))}if(13!==e[a.position]||10!==e[a.position+1])return"failure";a.position+=2,null!==g?(E(C??="text/plain")||(C=""),r=new h([t],g,{type:C})):r=s(Buffer.from(t)),c(i(d)),c("string"==typeof r&&i(r)||A(r)),o.push(l(d,r,g))}}function m(e,t){let r=null,i=null,s=null,A=null;for(;;){if(13===e[t.position]&&10===e[t.position+1]){if(null===r)return"failure";return{name:r,filename:i,contentType:s,encoding:A}}let l=y(e=>10!==e&&13!==e&&58!==e,e,t);if(l=Q(l,!0,!0,e=>9===e||32===e),!o.test(l.toString())||58!==e[t.position])return"failure";switch(t.position++,y(e=>32===e||9===e,e,t),n(l)){case"content-disposition":if(r=i=null,!w(e,d,t)||(t.position+=17,null===(r=B(e,t))))return"failure";if(w(e,g,t)){let r=t.position+g.length;if(42===e[r]&&(t.position+=1,r+=1),61!==e[r]||34!==e[r+1]||(t.position+=12,null===(i=B(e,t))))return"failure"}break;case"content-type":{let r=y(e=>10!==e&&13!==e,e,t);s=a(r=Q(r,!1,!0,e=>9===e||32===e));break}case"content-transfer-encoding":{let r=y(e=>10!==e&&13!==e,e,t);A=a(r=Q(r,!1,!0,e=>9===e||32===e));break}default:y(e=>10!==e&&13!==e,e,t)}if(13!==e[t.position]&&10!==e[t.position+1])return"failure";t.position+=2}}function B(e,t){c(34===e[t.position-1]);let r=y(e=>10!==e&&13!==e&&34!==e,e,t);return 34!==e[t.position]?null:(t.position++,r=new TextDecoder().decode(r).replace(/%0A/ig,"\n").replace(/%0D/ig,"\r").replace(/%22/g,'"'))}function y(e,t,r){let i=r.position;for(;i<t.length&&e(t[i]);)++i;return t.subarray(r.position,r.position=i)}function Q(e,t,r,i){let n=0,s=e.length-1;if(t)for(;n<e.length&&i(e[n]);)n++;if(r)for(;s>0&&i(e[s]);)s--;return 0===n&&s===e.length-1?e:e.subarray(n,s+1)}function w(e,t,r){if(e.length<t.length)return!1;for(let i=0;i<t.length;i++)if(t[i]!==e[r.position+i])return!1;return!0}e.exports={multipartFormDataParser:I,validateBoundary:C}},744:(e,t,r)=>{"use strict";let{isBlobLike:i,iteratorMixin:n}=r(4960),{kState:s}=r(8115),{kEnumerableProperty:o}=r(7211),{FileLike:a,isFileLike:A}=r(3983),{webidl:l}=r(5007),{File:c}=r(2254),u=r(7261),h=globalThis.File??c;class d{constructor(e){if(void 0!==e)throw l.errors.conversionFailed({prefix:"FormData constructor",argument:"Argument 1",types:["undefined"]});this[s]=[]}append(e,t,r){l.brandCheck(this,d);let n="FormData.append";if(l.argumentLengthCheck(arguments,2,n),3==arguments.length&&!i(t))throw TypeError("Failed to execute 'append' on 'FormData': parameter 2 is not of type 'Blob'");e=l.converters.USVString(e,n,"name"),t=i(t)?l.converters.Blob(t,n,"value",{strict:!1}):l.converters.USVString(t,n,"value"),r=3==arguments.length?l.converters.USVString(r,n,"filename"):void 0;let o=g(e,t,r);this[s].push(o)}delete(e){l.brandCheck(this,d);let t="FormData.delete";l.argumentLengthCheck(arguments,1,t),e=l.converters.USVString(e,t,"name"),this[s]=this[s].filter(t=>t.name!==e)}get(e){l.brandCheck(this,d);let t="FormData.get";l.argumentLengthCheck(arguments,1,t),e=l.converters.USVString(e,t,"name");let r=this[s].findIndex(t=>t.name===e);return -1===r?null:this[s][r].value}getAll(e){l.brandCheck(this,d);let t="FormData.getAll";return l.argumentLengthCheck(arguments,1,t),e=l.converters.USVString(e,t,"name"),this[s].filter(t=>t.name===e).map(e=>e.value)}has(e){l.brandCheck(this,d);let t="FormData.has";return l.argumentLengthCheck(arguments,1,t),e=l.converters.USVString(e,t,"name"),-1!==this[s].findIndex(t=>t.name===e)}set(e,t,r){l.brandCheck(this,d);let n="FormData.set";if(l.argumentLengthCheck(arguments,2,n),3==arguments.length&&!i(t))throw TypeError("Failed to execute 'set' on 'FormData': parameter 2 is not of type 'Blob'");e=l.converters.USVString(e,n,"name"),t=i(t)?l.converters.Blob(t,n,"name",{strict:!1}):l.converters.USVString(t,n,"name"),r=3==arguments.length?l.converters.USVString(r,n,"name"):void 0;let o=g(e,t,r),a=this[s].findIndex(t=>t.name===e);-1!==a?this[s]=[...this[s].slice(0,a),o,...this[s].slice(a+1).filter(t=>t.name!==e)]:this[s].push(o)}[u.inspect.custom](e,t){let r=this[s].reduce((e,t)=>(e[t.name]?Array.isArray(e[t.name])?e[t.name].push(t.value):e[t.name]=[e[t.name],t.value]:e[t.name]=t.value,e),{__proto__:null});t.depth??=e,t.colors??=!0;let i=u.formatWithOptions(t,r);return`FormData ${i.slice(i.indexOf("]")+2)}`}}function g(e,t,r){if("string"==typeof t);else if(A(t)||(t=t instanceof Blob?new h([t],"blob",{type:t.type}):new a(t,"blob",{type:t.type})),void 0!==r){let e={type:t.type,lastModified:t.lastModified};t=t instanceof c?new h([t],r,e):new a(t,r,e)}return{name:e,value:t}}n("FormData",d,s,"name","value"),Object.defineProperties(d.prototype,{append:o,delete:o,get:o,getAll:o,has:o,set:o,[Symbol.toStringTag]:{value:"FormData",configurable:!0}}),e.exports={FormData:d,makeEntry:g}},2047:e=>{"use strict";let t=Symbol.for("undici.globalOrigin.1");function r(){return globalThis[t]}function i(e){if(void 0===e){Object.defineProperty(globalThis,t,{value:void 0,writable:!0,enumerable:!1,configurable:!1});return}let r=new URL(e);if("http:"!==r.protocol&&"https:"!==r.protocol)throw TypeError(`Only http & https urls are allowed, received ${r.protocol}`);Object.defineProperty(globalThis,t,{value:r,writable:!0,enumerable:!1,configurable:!1})}e.exports={getGlobalOrigin:r,setGlobalOrigin:i}},5609:(e,t,r)=>{"use strict";let{kConstruct:i}=r(1053),{kEnumerableProperty:n}=r(7211),{iteratorMixin:s,isValidHeaderName:o,isValidHeaderValue:a}=r(4960),{webidl:A}=r(5007),l=r(8061),c=r(7261),u=Symbol("headers map"),h=Symbol("headers map sorted");function d(e){return 10===e||13===e||9===e||32===e}function g(e){let t=0,r=e.length;for(;r>t&&d(e.charCodeAt(r-1));)--r;for(;r>t&&d(e.charCodeAt(t));)++t;return 0===t&&r===e.length?e:e.substring(t,r)}function f(e,t){if(Array.isArray(t))for(let r=0;r<t.length;++r){let i=t[r];if(2!==i.length)throw A.errors.exception({header:"Headers constructor",message:`expected name/value pair to be length 2, found ${i.length}.`});p(e,i[0],i[1])}else if("object"==typeof t&&null!==t){let r=Object.keys(t);for(let i=0;i<r.length;++i)p(e,r[i],t[r[i]])}else throw A.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})}function p(e,t,r){if(r=g(r),o(t)){if(!a(r))throw A.errors.invalidArgument({prefix:"Headers.append",value:r,type:"header value"})}else throw A.errors.invalidArgument({prefix:"Headers.append",value:t,type:"header name"});if("immutable"===m(e))throw TypeError("immutable");return y(e).append(t,r,!1)}function E(e,t){return e[0]<t[0]?-1:1}class C{cookies=null;constructor(e){e instanceof C?(this[u]=new Map(e[u]),this[h]=e[h],this.cookies=null===e.cookies?null:[...e.cookies]):(this[u]=new Map(e),this[h]=null)}contains(e,t){return this[u].has(t?e:e.toLowerCase())}clear(){this[u].clear(),this[h]=null,this.cookies=null}append(e,t,r){this[h]=null;let i=r?e:e.toLowerCase(),n=this[u].get(i);if(n){let e="cookie"===i?"; ":", ";this[u].set(i,{name:n.name,value:`${n.value}${e}${t}`})}else this[u].set(i,{name:e,value:t});"set-cookie"===i&&(this.cookies??=[]).push(t)}set(e,t,r){this[h]=null;let i=r?e:e.toLowerCase();"set-cookie"===i&&(this.cookies=[t]),this[u].set(i,{name:e,value:t})}delete(e,t){this[h]=null,t||(e=e.toLowerCase()),"set-cookie"===e&&(this.cookies=null),this[u].delete(e)}get(e,t){return this[u].get(t?e:e.toLowerCase())?.value??null}*[Symbol.iterator](){for(let{0:e,1:{value:t}}of this[u])yield[e,t]}get entries(){let e={};if(0!==this[u].size)for(let{name:t,value:r}of this[u].values())e[t]=r;return e}rawValues(){return this[u].values()}get entriesList(){let e=[];if(0!==this[u].size)for(let{0:t,1:{name:r,value:i}}of this[u])if("set-cookie"===t)for(let t of this.cookies)e.push([r,t]);else e.push([r,i]);return e}toSortedArray(){let e=this[u].size,t=Array(e);if(e<=32){if(0===e)return t;let r=this[u][Symbol.iterator](),i=r.next().value;t[0]=[i[0],i[1].value],l(null!==i[1].value);for(let i=1,n=0,s=0,o=0,a=0,A,c;i<e;++i){for(c=r.next().value,l(null!==(A=t[i]=[c[0],c[1].value])[1]),o=0,s=i;o<s;)t[a=o+(s-o>>1)][0]<=A[0]?o=a+1:s=a;if(i!==a){for(n=i;n>o;)t[n]=t[--n];t[o]=A}}if(!r.next().done)throw TypeError("Unreachable");return t}{let e=0;for(let{0:r,1:{value:i}}of this[u])t[e++]=[r,i],l(null!==i);return t.sort(E)}}}class I{#U;#_;constructor(e){if(e===i)return;this.#_=new C,this.#U="none",void 0!==e&&f(this,e=A.converters.HeadersInit(e,"Headers contructor","init"))}append(e,t){A.brandCheck(this,I),A.argumentLengthCheck(arguments,2,"Headers.append");let r="Headers.append";return e=A.converters.ByteString(e,r,"name"),t=A.converters.ByteString(t,r,"value"),p(this,e,t)}delete(e){A.brandCheck(this,I),A.argumentLengthCheck(arguments,1,"Headers.delete");let t="Headers.delete";if(!o(e=A.converters.ByteString(e,t,"name")))throw A.errors.invalidArgument({prefix:"Headers.delete",value:e,type:"header name"});if("immutable"===this.#U)throw TypeError("immutable");this.#_.contains(e,!1)&&this.#_.delete(e,!1)}get(e){A.brandCheck(this,I),A.argumentLengthCheck(arguments,1,"Headers.get");let t="Headers.get";if(!o(e=A.converters.ByteString(e,t,"name")))throw A.errors.invalidArgument({prefix:t,value:e,type:"header name"});return this.#_.get(e,!1)}has(e){A.brandCheck(this,I),A.argumentLengthCheck(arguments,1,"Headers.has");let t="Headers.has";if(!o(e=A.converters.ByteString(e,t,"name")))throw A.errors.invalidArgument({prefix:t,value:e,type:"header name"});return this.#_.contains(e,!1)}set(e,t){A.brandCheck(this,I),A.argumentLengthCheck(arguments,2,"Headers.set");let r="Headers.set";if(e=A.converters.ByteString(e,r,"name"),t=g(t=A.converters.ByteString(t,r,"value")),o(e)){if(!a(t))throw A.errors.invalidArgument({prefix:r,value:t,type:"header value"})}else throw A.errors.invalidArgument({prefix:r,value:e,type:"header name"});if("immutable"===this.#U)throw TypeError("immutable");this.#_.set(e,t,!1)}getSetCookie(){A.brandCheck(this,I);let e=this.#_.cookies;return e?[...e]:[]}get[h](){if(this.#_[h])return this.#_[h];let e=[],t=this.#_.toSortedArray(),r=this.#_.cookies;if(null===r||1===r.length)return this.#_[h]=t;for(let i=0;i<t.length;++i){let{0:n,1:s}=t[i];if("set-cookie"===n)for(let t=0;t<r.length;++t)e.push([n,r[t]]);else e.push([n,s])}return this.#_[h]=e}[c.inspect.custom](e,t){return t.depth??=e,`Headers ${c.formatWithOptions(t,this.#_.entries)}`}static getHeadersGuard(e){return e.#U}static setHeadersGuard(e,t){e.#U=t}static getHeadersList(e){return e.#_}static setHeadersList(e,t){e.#_=t}}let{getHeadersGuard:m,setHeadersGuard:B,getHeadersList:y,setHeadersList:Q}=I;Reflect.deleteProperty(I,"getHeadersGuard"),Reflect.deleteProperty(I,"setHeadersGuard"),Reflect.deleteProperty(I,"getHeadersList"),Reflect.deleteProperty(I,"setHeadersList"),s("Headers",I,h,0,1),Object.defineProperties(I.prototype,{append:n,delete:n,get:n,has:n,set:n,getSetCookie:n,[Symbol.toStringTag]:{value:"Headers",configurable:!0},[c.inspect.custom]:{enumerable:!1}}),A.converters.HeadersInit=function(e,t,r){if("Object"===A.util.Type(e)){let i=Reflect.get(e,Symbol.iterator);if(!c.types.isProxy(e)&&i===I.prototype.entries)try{return y(e).entriesList}catch{}return"function"==typeof i?A.converters["sequence<sequence<ByteString>>"](e,t,r,i.bind(e)):A.converters["record<ByteString, ByteString>"](e,t,r)}throw A.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})},e.exports={fill:f,compareHeaderName:E,Headers:I,HeadersList:C,getHeadersGuard:m,setHeadersGuard:B,setHeadersList:Q,getHeadersList:y}},6531:(e,t,r)=>{"use strict";let i;let{makeNetworkError:n,makeAppropriateNetworkError:s,filterResponse:o,makeResponse:a,fromInnerResponse:A}=r(1119),{HeadersList:l}=r(5609),{Request:c,cloneRequest:u}=r(2236),h=r(5628),{bytesMatch:d,makePolicyContainer:g,clonePolicyContainer:f,requestBadPort:p,TAOCheck:E,appendRequestOriginHeader:C,responseLocationURL:I,requestCurrentURL:m,setRequestReferrerPolicyOnRedirect:B,tryUpgradeRequestToAPotentiallyTrustworthyURL:y,createOpaqueTimingInfo:Q,appendFetchMetadata:w,corsCheck:v,crossOriginResourcePolicyCheck:b,determineRequestsReferrer:S,coarsenedSharedCurrentTime:T,createDeferredPromise:D,isBlobLike:R,sameOrigin:k,isCancelled:N,isAborted:F,isErrorLike:M,fullyReadBody:L,readableStreamClose:U,isomorphicEncode:_,urlIsLocal:x,urlIsHttpHttpsScheme:O,urlHasHttpsScheme:P,clampAndCoarsenConnectionTimingInfo:V,simpleRangeHeaderValue:G,buildContentRange:Y,createInflate:H,extractMimeType:J}=r(4960),{kState:q,kDispatcher:W}=r(8115),j=r(8061),{safelyExtractBody:z,extractBody:K}=r(8611),{redirectStatusSet:Z,nullBodyStatus:X,safeMethodsSet:$,requestBodyHeader:ee,subresourceSet:et}=r(9964),er=r(5673),{Readable:ei,pipeline:en,finished:es}=r(4492),{addAbortListener:eo,isErrored:ea,isReadable:eA,bufferToLowerCasedHeaderName:el}=r(7211),{dataURLProcessor:ec,serializeAMimeType:eu,minimizeSupportedMimeType:eh}=r(8097),{getGlobalDispatcher:ed}=r(2051),{webidl:eg}=r(5007),{STATUS_CODES:ef}=r(8849),ep=["GET","HEAD"],eE="undefined"!=typeof __UNDICI_IS_NODE__||"undefined"!=typeof esbuildDetection?"node":"undici";class eC extends er{constructor(e){super(),this.dispatcher=e,this.connection=null,this.dump=!1,this.state="ongoing"}terminate(e){"ongoing"===this.state&&(this.state="terminated",this.connection?.destroy(e),this.emit("terminated",e))}abort(e){"ongoing"===this.state&&(this.state="aborted",e||(e=new DOMException("The operation was aborted.","AbortError")),this.serializedAbortReason=e,this.connection?.destroy(e),this.emit("terminated",e))}}function eI(e){eB(e,"fetch")}function em(e,t){let r;eg.argumentLengthCheck(arguments,1,"globalThis.fetch");let i=D();try{r=new c(e,t)}catch(e){return i.reject(e),i.promise}let n=r[q];if(r.signal.aborted)return eQ(i,n,null,r.signal.reason),i.promise;let s=n.client.globalObject;s?.constructor?.name==="ServiceWorkerGlobalScope"&&(n.serviceWorkers="none");let o=null,a=!1,l=null;eo(r.signal,()=>{a=!0,j(null!=l),l.abort(r.signal.reason);let e=o?.deref();eQ(i,n,e,r.signal.reason)});let u=e=>{if(!a){if(e.aborted){eQ(i,n,o,l.serializedAbortReason);return}if("error"===e.type){i.reject(TypeError("fetch failed",{cause:e.error}));return}o=new WeakRef(A(e,"immutable")),i.resolve(o.deref()),i=null}};return l=ew({request:n,processResponseEndOfBody:eI,processResponse:u,dispatcher:r[W]}),i.promise}function eB(e,t="other"){if("error"===e.type&&e.aborted||!e.urlList?.length)return;let r=e.urlList[0],i=e.timingInfo,n=e.cacheState;O(r)&&null!==i&&(e.timingAllowPassed||(i=Q({startTime:i.startTime}),n=""),i.endTime=T(),e.timingInfo=i,ey(i,r.href,t,globalThis,n))}let ey=performance.markResourceTiming;function eQ(e,t,r,i){if(e&&e.reject(i),null!=t.body&&eA(t.body?.stream)&&t.body.stream.cancel(i).catch(e=>{if("ERR_INVALID_STATE"!==e.code)throw e}),null==r)return;let n=r[q];null!=n.body&&eA(n.body?.stream)&&n.body.stream.cancel(i).catch(e=>{if("ERR_INVALID_STATE"!==e.code)throw e})}function ew({request:e,processRequestBodyChunkLength:t,processRequestEndOfBody:r,processResponse:i,processResponseEndOfBody:n,processResponseConsumeBody:s,useParallelQueue:o=!1,dispatcher:a=ed()}){j(a);let A=null,l=!1;null!=e.client&&(A=e.client.globalObject,l=e.client.crossOriginIsolatedCapability);let c=Q({startTime:T(l)}),u={controller:new eC(a),request:e,timingInfo:c,processRequestBodyChunkLength:t,processRequestEndOfBody:r,processResponse:i,processResponseConsumeBody:s,processResponseEndOfBody:n,taskDestination:A,crossOriginIsolatedCapability:l};if(j(!e.body||e.body.stream),"client"===e.window&&(e.window=e.client?.globalObject?.constructor?.name==="Window"?e.client:"no-window"),"client"===e.origin&&(e.origin=e.client.origin),"client"===e.policyContainer&&(null!=e.client?e.policyContainer=f(e.client.policyContainer):e.policyContainer=g()),!e.headersList.contains("accept",!0)){let t="*/*";e.headersList.append("accept",t,!0)}return e.headersList.contains("accept-language",!0)||e.headersList.append("accept-language","*",!0),e.priority,et.has(e.destination),ev(u).catch(e=>{u.controller.terminate(e)}),u.controller}async function ev(e,t=!1){let r=e.request,i=null;if(r.localURLsOnly&&!x(m(r))&&(i=n("local URLs only")),y(r),"blocked"===p(r)&&(i=n("bad port")),""===r.referrerPolicy&&(r.referrerPolicy=r.policyContainer.referrerPolicy),"no-referrer"!==r.referrer&&(r.referrer=S(r)),null===i&&(i=await (async()=>{let t=m(r);return k(t,r.url)&&"basic"===r.responseTainting||"data:"===t.protocol||"navigate"===r.mode||"websocket"===r.mode?(r.responseTainting="basic",await eb(e)):"same-origin"===r.mode?n('request mode cannot be "same-origin"'):"no-cors"===r.mode?"follow"!==r.redirect?n('redirect mode cannot be "follow" for "no-cors" request'):(r.responseTainting="opaque",await eb(e)):O(m(r))?(r.responseTainting="cors",await eD(e)):n("URL scheme must be a HTTP(S) scheme")})()),t)return i;0===i.status||i.internalResponse||(r.responseTainting,"basic"===r.responseTainting?i=o(i,"basic"):"cors"===r.responseTainting?i=o(i,"cors"):"opaque"===r.responseTainting?i=o(i,"opaque"):j(!1));let s=0===i.status?i:i.internalResponse;if(0===s.urlList.length&&s.urlList.push(...r.urlList),r.timingAllowFailed||(i.timingAllowPassed=!0),"opaque"===i.type&&206===s.status&&s.rangeRequested&&!r.headers.contains("range",!0)&&(i=s=n()),0!==i.status&&("HEAD"===r.method||"CONNECT"===r.method||X.includes(s.status))&&(s.body=null,e.controller.dump=!0),r.integrity){let t=t=>eT(e,n(t));if("opaque"===r.responseTainting||null==i.body){t(i.error);return}let s=n=>{if(!d(n,r.integrity)){t("integrity mismatch");return}i.body=z(n)[0],eT(e,i)};await L(i.body,s,t)}else eT(e,i)}function eb(e){if(N(e)&&0===e.request.redirectCount)return Promise.resolve(s(e));let{request:t}=e,{protocol:o}=m(t);switch(o){case"about:":return Promise.resolve(n("about scheme is not supported"));case"blob:":{i||(i=r(2254).resolveObjectURL);let e=m(t);if(0!==e.search.length)return Promise.resolve(n("NetworkError when attempting to fetch resource."));let s=i(e.toString());if("GET"!==t.method||!R(s))return Promise.resolve(n("invalid method"));let o=a(),A=s.size,l=_(`${A}`),c=s.type;if(t.headersList.contains("range",!0)){o.rangeRequested=!0;let e=G(t.headersList.get("range",!0),!0);if("failure"===e)return Promise.resolve(n("failed to fetch the data URL"));let{rangeStartValue:r,rangeEndValue:i}=e;if(null===r)i=(r=A-i)+i-1;else{if(r>=A)return Promise.resolve(n("Range start is greater than the blob's size."));(null===i||i>=A)&&(i=A-1)}let a=s.slice(r,i,c),l=K(a);o.body=l[0];let u=_(`${a.size}`),h=Y(r,i,A);o.status=206,o.statusText="Partial Content",o.headersList.set("content-length",u,!0),o.headersList.set("content-type",c,!0),o.headersList.set("content-range",h,!0)}else{let e=K(s);o.statusText="OK",o.body=e[0],o.headersList.set("content-length",l,!0),o.headersList.set("content-type",c,!0)}return Promise.resolve(o)}case"data:":{let e=ec(m(t));if("failure"===e)return Promise.resolve(n("failed to fetch the data URL"));return Promise.resolve(a({statusText:"OK",headersList:[["content-type",{name:"Content-Type",value:eu(e.mimeType)}]],body:z(e.body)[0]}))}case"file:":return Promise.resolve(n("not implemented... yet..."));case"http:":case"https:":return eD(e).catch(e=>n(e));default:return Promise.resolve(n("unknown scheme"))}}function eS(e,t){e.request.done=!0,null!=e.processResponseDone&&queueMicrotask(()=>e.processResponseDone(t))}function eT(e,t){let r=e.timingInfo,i=()=>{let i=Date.now();"document"===e.request.destination&&(e.controller.fullTimingInfo=r),e.controller.reportTimingSteps=()=>{if("https:"!==e.request.url.protocol)return;r.endTime=i;let n=t.cacheState,s=t.bodyInfo;t.timingAllowPassed||(r=Q(r),n="");let o=0;if("navigator"!==e.request.mode||!t.hasCrossOriginRedirects){o=t.status;let e=J(t.headersList);"failure"!==e&&(s.contentType=eh(e))}null!=e.request.initiatorType&&ey(r,e.request.url.href,e.request.initiatorType,globalThis,n,s,o)};let n=()=>{e.request.done=!0,null!=e.processResponseEndOfBody&&queueMicrotask(()=>e.processResponseEndOfBody(t)),null!=e.request.initiatorType&&e.controller.reportTimingSteps()};queueMicrotask(()=>n())};null!=e.processResponse&&queueMicrotask(()=>{e.processResponse(t),e.processResponse=null});let n="error"===t.type?t:t.internalResponse??t;null==n.body?i():es(n.body.stream,()=>{i()})}async function eD(e){let t=e.request,r=null,i=null,s=e.timingInfo;if(t.serviceWorkers,null===r){if("follow"===t.redirect&&(t.serviceWorkers="none"),i=r=await ek(e),"cors"===t.responseTainting&&"failure"===v(t,r))return n("cors failure");"failure"===E(t,r)&&(t.timingAllowFailed=!0)}return("opaque"===t.responseTainting||"opaque"===r.type)&&"blocked"===b(t.origin,t.client,t.destination,i)?n("blocked"):(Z.has(i.status)&&("manual"!==t.redirect&&e.controller.connection.destroy(void 0,!1),"error"===t.redirect?r=n("unexpected redirect"):"manual"===t.redirect?r=i:"follow"===t.redirect?r=await eR(e,r):j(!1)),r.timingInfo=s,r)}function eR(e,t){let r;let i=e.request,s=t.internalResponse?t.internalResponse:t;try{if(r=I(s,m(i).hash),null==r)return t}catch(e){return Promise.resolve(n(e))}if(!O(r))return Promise.resolve(n("URL scheme must be a HTTP(S) scheme"));if(20===i.redirectCount)return Promise.resolve(n("redirect count exceeded"));if(i.redirectCount+=1,"cors"===i.mode&&(r.username||r.password)&&!k(i,r))return Promise.resolve(n('cross origin not allowed for request mode "cors"'));if("cors"===i.responseTainting&&(r.username||r.password))return Promise.resolve(n('URL cannot contain credentials for request mode "cors"'));if(303!==s.status&&null!=i.body&&null==i.body.source)return Promise.resolve(n());if([301,302].includes(s.status)&&"POST"===i.method||303===s.status&&!ep.includes(i.method))for(let e of(i.method="GET",i.body=null,ee))i.headersList.delete(e);k(m(i),r)||(i.headersList.delete("authorization",!0),i.headersList.delete("proxy-authorization",!0),i.headersList.delete("cookie",!0),i.headersList.delete("host",!0)),null!=i.body&&(j(null!=i.body.source),i.body=z(i.body.source)[0]);let o=e.timingInfo;return o.redirectEndTime=o.postRedirectStartTime=T(e.crossOriginIsolatedCapability),0===o.redirectStartTime&&(o.redirectStartTime=o.startTime),i.urlList.push(r),B(i,s),ev(e,!0)}async function ek(e,t=!1,r=!1){let i=e.request,o=null,a=null,A=null,l=null,c=!1;"no-window"===i.window&&"error"===i.redirect?(o=e,a=i):(a=u(i),(o={...e}).request=a);let h="include"===i.credentials||"same-origin"===i.credentials&&"basic"===i.responseTainting,d=a.body?a.body.length:null,g=null;if(null==a.body&&["POST","PUT"].includes(a.method)&&(g="0"),null!=d&&(g=_(`${d}`)),null!=g&&a.headersList.append("content-length",g,!0),null!=d&&a.keepalive,a.referrer instanceof URL&&a.headersList.append("referer",_(a.referrer.href),!0),C(a),w(a),a.headersList.contains("user-agent",!0)||a.headersList.append("user-agent",eE),"default"===a.cache&&(a.headersList.contains("if-modified-since",!0)||a.headersList.contains("if-none-match",!0)||a.headersList.contains("if-unmodified-since",!0)||a.headersList.contains("if-match",!0)||a.headersList.contains("if-range",!0))&&(a.cache="no-store"),"no-cache"!==a.cache||a.preventNoCacheCacheControlHeaderModification||a.headersList.contains("cache-control",!0)||a.headersList.append("cache-control","max-age=0",!0),"no-store"!==a.cache&&"reload"!==a.cache||(a.headersList.contains("pragma",!0)||a.headersList.append("pragma","no-cache",!0),a.headersList.contains("cache-control",!0)||a.headersList.append("cache-control","no-cache",!0)),a.headersList.contains("range",!0)&&a.headersList.append("accept-encoding","identity",!0),a.headersList.contains("accept-encoding",!0)||(P(m(a))?a.headersList.append("accept-encoding","br, gzip, deflate",!0):a.headersList.append("accept-encoding","gzip, deflate",!0)),a.headersList.delete("host",!0),null==l&&(a.cache="no-store"),"no-store"!==a.cache&&a.cache,null==A){if("only-if-cached"===a.cache)return n("only if cached");let e=await eN(o,h,r);!$.has(a.method)&&e.status>=200&&e.status,c&&e.status,null==A&&(A=e)}if(A.urlList=[...a.urlList],a.headersList.contains("range",!0)&&(A.rangeRequested=!0),A.requestIncludesCredentials=h,407===A.status)return"no-window"===i.window?n():N(e)?s(e):n("proxy authentication required");if(421===A.status&&!r&&(null==i.body||null!=i.body.source)){if(N(e))return s(e);e.controller.connection.destroy(),A=await ek(e,t,!0)}return A}async function eN(e,t=!1,r=!1){j(!e.controller.connection||e.controller.connection.destroyed),e.controller.connection={abort:null,destroyed:!1,destroy(e,t=!0){!this.destroyed&&(this.destroyed=!0,t&&this.abort?.(e??new DOMException("The operation was aborted.","AbortError")))}};let i=e.request,o=null,A=e.timingInfo;i.cache="no-store",i.mode;let c=null;if(null==i.body&&e.processRequestEndOfBody)queueMicrotask(()=>e.processRequestEndOfBody());else if(null!=i.body){let t=async function*(t){N(e)||(yield t,e.processRequestBodyChunkLength?.(t.byteLength))},r=()=>{!N(e)&&e.processRequestEndOfBody&&e.processRequestEndOfBody()},n=t=>{N(e)||("AbortError"===t.name?e.controller.abort():e.controller.terminate(t))};c=async function*(){try{for await(let e of i.body.stream)yield*t(e);r()}catch(e){n(e)}}()}try{let{body:t,status:r,statusText:i,headersList:n,socket:s}=await p({body:c});if(s)o=a({status:r,statusText:i,headersList:n,socket:s});else{let s=t[Symbol.asyncIterator]();e.controller.next=()=>s.next(),o=a({status:r,statusText:i,headersList:n})}}catch(t){if("AbortError"===t.name)return e.controller.connection.destroy(),s(e,t);return n(t)}let u=async()=>{await e.controller.resume()},d=t=>{N(e)||e.controller.abort(t)},g=new ReadableStream({async start(t){e.controller.controller=t},async pull(e){await u(e)},async cancel(e){await d(e)},type:"bytes"});function f(t){F(e)?(o.aborted=!0,eA(g)&&e.controller.controller.error(e.controller.serializedAbortReason)):eA(g)&&e.controller.controller.error(TypeError("terminated",{cause:M(t)?t:void 0})),e.controller.connection.destroy()}return o.body={stream:g,source:null,length:null},e.controller.onAborted=f,e.controller.on("terminated",f),e.controller.resume=async()=>{for(;;){let t,r;try{let{done:r,value:i}=await e.controller.next();if(F(e))break;t=r?void 0:i}catch(i){e.controller.ended&&!A.encodedBodySize?t=void 0:(t=i,r=!0)}if(void 0===t){U(e.controller.controller),eS(e,o);return}if(A.decodedBodySize+=t?.byteLength??0,r){e.controller.terminate(t);return}let i=new Uint8Array(t);if(i.byteLength&&e.controller.controller.enqueue(i),ea(g)){e.controller.terminate();return}if(e.controller.controller.desiredSize<=0)return}},o;function p({body:t}){let r=m(i),n=e.controller.dispatcher;return new Promise((s,o)=>n.dispatch({path:r.pathname+r.search,origin:r.origin,method:i.method,body:n.isMockActive?i.body&&(i.body.source||i.body.stream):t,headers:i.headersList.entries,maxRedirections:0,upgrade:"websocket"===i.mode?"websocket":void 0},{body:null,abort:null,onConnect(t){let{connection:r}=e.controller;A.finalConnectionTimingInfo=V(void 0,A.postRedirectStartTime,e.crossOriginIsolatedCapability),r.destroyed?t(new DOMException("The operation was aborted.","AbortError")):(e.controller.on("terminated",t),this.abort=r.abort=t),A.finalNetworkRequestStartTime=T(e.crossOriginIsolatedCapability)},onResponseStarted(){A.finalNetworkResponseStartTime=T(e.crossOriginIsolatedCapability)},onHeaders(e,t,r,n){if(e<200)return;let o=[],a="",A=new l;for(let e=0;e<t.length;e+=2)A.append(el(t[e]),t[e+1].toString("latin1"),!0);let c=A.get("content-encoding",!0);c&&(o=c.toLowerCase().split(",").map(e=>e.trim())),a=A.get("location",!0),this.body=new ei({read:r});let u=[],d=a&&"follow"===i.redirect&&Z.has(e);if(0!==o.length&&"HEAD"!==i.method&&"CONNECT"!==i.method&&!X.includes(e)&&!d)for(let e=0;e<o.length;++e){let t=o[e];if("x-gzip"===t||"gzip"===t)u.push(h.createGunzip({flush:h.constants.Z_SYNC_FLUSH,finishFlush:h.constants.Z_SYNC_FLUSH}));else if("deflate"===t)u.push(H());else if("br"===t)u.push(h.createBrotliDecompress());else{u.length=0;break}}return s({status:e,statusText:n,headersList:A,body:u.length?en(this.body,...u,()=>{}):this.body.on("error",()=>{})}),!0},onData(t){if(e.controller.dump)return;let r=t;return A.encodedBodySize+=r.byteLength,this.body.push(r)},onComplete(){this.abort&&e.controller.off("terminated",this.abort),e.controller.onAborted&&e.controller.off("terminated",e.controller.onAborted),e.controller.ended=!0,this.body.push(null)},onError(t){this.abort&&e.controller.off("terminated",this.abort),this.body?.destroy(t),e.controller.terminate(t),o(t)},onUpgrade(e,t,r){if(101!==e)return;let i=new l;for(let e=0;e<t.length;e+=2)i.append(el(t[e]),t[e+1].toString("latin1"),!0);return s({status:e,statusText:ef[e],headersList:i,socket:r}),!0}}))}}e.exports={fetch:em,Fetch:eC,fetching:ew,finalizeAndReportTiming:eB}},2236:(e,t,r)=>{"use strict";let{extractBody:i,mixinBody:n,cloneBody:s}=r(8611),{Headers:o,fill:a,HeadersList:A,setHeadersGuard:l,getHeadersGuard:c,setHeadersList:u,getHeadersList:h}=r(5609),{FinalizationRegistry:d}=r(2217)(),g=r(7211),f=r(7261),{isValidHTTPToken:p,sameOrigin:E,environmentSettingsObject:C}=r(4960),{forbiddenMethodsSet:I,corsSafeListedMethodsSet:m,referrerPolicy:B,requestRedirect:y,requestMode:Q,requestCredentials:w,requestCache:v,requestDuplex:b}=r(9964),{kEnumerableProperty:S,normalizedMethodRecordsBase:T,normalizedMethodRecords:D}=g,{kHeaders:R,kSignal:k,kState:N,kDispatcher:F}=r(8115),{webidl:M}=r(5007),{URLSerializer:L}=r(8097),{kConstruct:U}=r(1053),_=r(8061),{getMaxListeners:x,setMaxListeners:O,getEventListeners:P,defaultMaxListeners:V}=r(5673),G=Symbol("abortController"),Y=new d(({signal:e,abort:t})=>{e.removeEventListener("abort",t)}),H=new WeakMap;function J(e){return t;function t(){let r=e.deref();if(void 0!==r){Y.unregister(t),this.removeEventListener("abort",t),r.abort(this.reason);let e=H.get(r.signal);if(void 0!==e){if(0!==e.size){for(let t of e){let e=t.deref();void 0!==e&&e.abort(this.reason)}e.clear()}H.delete(r.signal)}}}}let q=!1;class W{constructor(e,t={}){let r;if(e===U)return;let n="Request constructor";M.argumentLengthCheck(arguments,1,n),e=M.converters.RequestInfo(e,n,"input"),t=M.converters.RequestInit(t,n,"init");let s=null,c=null,d=C.settingsObject.baseUrl,f=null;if("string"==typeof e){let r;this[F]=t.dispatcher;try{r=new URL(e,d)}catch(t){throw TypeError("Failed to parse URL from "+e,{cause:t})}if(r.username||r.password)throw TypeError("Request cannot be constructed from a URL that includes credentials: "+e);s=j({urlList:[r]}),c="cors"}else this[F]=t.dispatcher||e[F],_(e instanceof W),s=e[N],f=e[k];let B=C.settingsObject.origin,y="client";if(s.window?.constructor?.name==="EnvironmentSettingsObject"&&E(s.window,B)&&(y=s.window),null!=t.window)throw TypeError(`'window' option '${y}' must be null`);"window"in t&&(y="no-window"),s=j({method:s.method,headersList:s.headersList,unsafeRequest:s.unsafeRequest,client:C.settingsObject,window:y,priority:s.priority,origin:s.origin,referrer:s.referrer,referrerPolicy:s.referrerPolicy,mode:s.mode,credentials:s.credentials,cache:s.cache,redirect:s.redirect,integrity:s.integrity,keepalive:s.keepalive,reloadNavigation:s.reloadNavigation,historyNavigation:s.historyNavigation,urlList:[...s.urlList]});let Q=0!==Object.keys(t).length;if(Q&&("navigate"===s.mode&&(s.mode="same-origin"),s.reloadNavigation=!1,s.historyNavigation=!1,s.origin="client",s.referrer="client",s.referrerPolicy="",s.url=s.urlList[s.urlList.length-1],s.urlList=[s.url]),void 0!==t.referrer){let e=t.referrer;if(""===e)s.referrer="no-referrer";else{let t;try{t=new URL(e,d)}catch(t){throw TypeError(`Referrer "${e}" is not a valid URL.`,{cause:t})}"about:"===t.protocol&&"client"===t.hostname||B&&!E(t,C.settingsObject.baseUrl)?s.referrer="client":s.referrer=t}}if(void 0!==t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),"navigate"===(r=void 0!==t.mode?t.mode:c))throw M.errors.exception({header:"Request constructor",message:"invalid request mode navigate."});if(null!=r&&(s.mode=r),void 0!==t.credentials&&(s.credentials=t.credentials),void 0!==t.cache&&(s.cache=t.cache),"only-if-cached"===s.cache&&"same-origin"!==s.mode)throw TypeError("'only-if-cached' can be set only with 'same-origin' mode");if(void 0!==t.redirect&&(s.redirect=t.redirect),null!=t.integrity&&(s.integrity=String(t.integrity)),void 0!==t.keepalive&&(s.keepalive=!!t.keepalive),void 0!==t.method){let e=t.method,r=D[e];if(void 0!==r)s.method=r;else{if(!p(e))throw TypeError(`'${e}' is not a valid HTTP method.`);let t=e.toUpperCase();if(I.has(t))throw TypeError(`'${e}' HTTP method is unsupported.`);e=T[t]??e,s.method=e}q||"patch"!==s.method||(process.emitWarning("Using `patch` is highly likely to result in a `405 Method Not Allowed`. `PATCH` is much more likely to succeed.",{code:"UNDICI-FETCH-patch"}),q=!0)}void 0!==t.signal&&(f=t.signal),this[N]=s;let w=new AbortController;if(this[k]=w.signal,null!=f){if(!f||"boolean"!=typeof f.aborted||"function"!=typeof f.addEventListener)throw TypeError("Failed to construct 'Request': member signal is not of type AbortSignal.");if(f.aborted)w.abort(f.reason);else{this[G]=w;let e=J(new WeakRef(w));try{"function"==typeof x&&x(f)===V?O(1500,f):P(f,"abort").length>=V&&O(1500,f)}catch{}g.addAbortListener(f,e),Y.register(w,{signal:f,abort:e},e)}}if(this[R]=new o(U),u(this[R],s.headersList),l(this[R],"request"),"no-cors"===r){if(!m.has(s.method))throw TypeError(`'${s.method} is unsupported in no-cors mode.`);l(this[R],"request-no-cors")}if(Q){let e=h(this[R]),r=void 0!==t.headers?t.headers:new A(e);if(e.clear(),r instanceof A){for(let{name:t,value:i}of r.rawValues())e.append(t,i,!1);e.cookies=r.cookies}else a(this[R],r)}let v=e instanceof W?e[N].body:null;if((null!=t.body||null!=v)&&("GET"===s.method||"HEAD"===s.method))throw TypeError("Request with GET/HEAD method cannot have body.");let b=null;if(null!=t.body){let[e,r]=i(t.body,s.keepalive);b=e,r&&!h(this[R]).contains("content-type",!0)&&this[R].append("content-type",r)}let S=b??v;if(null!=S&&null==S.source){if(null!=b&&null==t.duplex)throw TypeError("RequestInit: duplex option is required when sending a body.");if("same-origin"!==s.mode&&"cors"!==s.mode)throw TypeError('If request is made from ReadableStream, mode should be "same-origin" or "cors"');s.useCORSPreflightFlag=!0}let L=S;if(null==b&&null!=v){if(g.isDisturbed(v.stream)||v.stream.locked)throw TypeError("Cannot construct a Request with a Request object that has already been used.");let e=new TransformStream;v.stream.pipeThrough(e),L={source:v.source,length:v.length,stream:e.readable}}this[N].body=L}get method(){return M.brandCheck(this,W),this[N].method}get url(){return M.brandCheck(this,W),L(this[N].url)}get headers(){return M.brandCheck(this,W),this[R]}get destination(){return M.brandCheck(this,W),this[N].destination}get referrer(){return(M.brandCheck(this,W),"no-referrer"===this[N].referrer)?"":"client"===this[N].referrer?"about:client":this[N].referrer.toString()}get referrerPolicy(){return M.brandCheck(this,W),this[N].referrerPolicy}get mode(){return M.brandCheck(this,W),this[N].mode}get credentials(){return this[N].credentials}get cache(){return M.brandCheck(this,W),this[N].cache}get redirect(){return M.brandCheck(this,W),this[N].redirect}get integrity(){return M.brandCheck(this,W),this[N].integrity}get keepalive(){return M.brandCheck(this,W),this[N].keepalive}get isReloadNavigation(){return M.brandCheck(this,W),this[N].reloadNavigation}get isHistoryNavigation(){return M.brandCheck(this,W),this[N].historyNavigation}get signal(){return M.brandCheck(this,W),this[k]}get body(){return M.brandCheck(this,W),this[N].body?this[N].body.stream:null}get bodyUsed(){return M.brandCheck(this,W),!!this[N].body&&g.isDisturbed(this[N].body.stream)}get duplex(){return M.brandCheck(this,W),"half"}clone(){if(M.brandCheck(this,W),this.bodyUsed||this.body?.locked)throw TypeError("unusable");let e=z(this[N]),t=new AbortController;if(this.signal.aborted)t.abort(this.signal.reason);else{let e=H.get(this.signal);void 0===e&&(e=new Set,H.set(this.signal,e));let r=new WeakRef(t);e.add(r),g.addAbortListener(t.signal,J(r))}return K(e,t.signal,c(this[R]))}[f.inspect.custom](e,t){null===t.depth&&(t.depth=2),t.colors??=!0;let r={method:this.method,url:this.url,headers:this.headers,destination:this.destination,referrer:this.referrer,referrerPolicy:this.referrerPolicy,mode:this.mode,credentials:this.credentials,cache:this.cache,redirect:this.redirect,integrity:this.integrity,keepalive:this.keepalive,isReloadNavigation:this.isReloadNavigation,isHistoryNavigation:this.isHistoryNavigation,signal:this.signal};return`Request ${f.formatWithOptions(t,r)}`}}function j(e){return{method:e.method??"GET",localURLsOnly:e.localURLsOnly??!1,unsafeRequest:e.unsafeRequest??!1,body:e.body??null,client:e.client??null,reservedClient:e.reservedClient??null,replacesClientId:e.replacesClientId??"",window:e.window??"client",keepalive:e.keepalive??!1,serviceWorkers:e.serviceWorkers??"all",initiator:e.initiator??"",destination:e.destination??"",priority:e.priority??null,origin:e.origin??"client",policyContainer:e.policyContainer??"client",referrer:e.referrer??"client",referrerPolicy:e.referrerPolicy??"",mode:e.mode??"no-cors",useCORSPreflightFlag:e.useCORSPreflightFlag??!1,credentials:e.credentials??"same-origin",useCredentials:e.useCredentials??!1,cache:e.cache??"default",redirect:e.redirect??"follow",integrity:e.integrity??"",cryptoGraphicsNonceMetadata:e.cryptoGraphicsNonceMetadata??"",parserMetadata:e.parserMetadata??"",reloadNavigation:e.reloadNavigation??!1,historyNavigation:e.historyNavigation??!1,userActivation:e.userActivation??!1,taintedOrigin:e.taintedOrigin??!1,redirectCount:e.redirectCount??0,responseTainting:e.responseTainting??"basic",preventNoCacheCacheControlHeaderModification:e.preventNoCacheCacheControlHeaderModification??!1,done:e.done??!1,timingAllowFailed:e.timingAllowFailed??!1,urlList:e.urlList,url:e.urlList[0],headersList:e.headersList?new A(e.headersList):new A}}function z(e){let t=j({...e,body:null});return null!=e.body&&(t.body=s(e.body)),t}function K(e,t,r){let i=new W(U);return i[N]=e,i[k]=t,i[R]=new o(U),u(i[R],e.headersList),l(i[R],r),i}n(W),Object.defineProperties(W.prototype,{method:S,url:S,headers:S,redirect:S,clone:S,signal:S,duplex:S,destination:S,body:S,bodyUsed:S,isHistoryNavigation:S,isReloadNavigation:S,keepalive:S,integrity:S,cache:S,credentials:S,attribute:S,referrerPolicy:S,referrer:S,mode:S,[Symbol.toStringTag]:{value:"Request",configurable:!0}}),M.converters.Request=M.interfaceConverter(W),M.converters.RequestInfo=function(e,t,r){return"string"==typeof e?M.converters.USVString(e,t,r):e instanceof W?M.converters.Request(e,t,r):M.converters.USVString(e,t,r)},M.converters.AbortSignal=M.interfaceConverter(AbortSignal),M.converters.RequestInit=M.dictionaryConverter([{key:"method",converter:M.converters.ByteString},{key:"headers",converter:M.converters.HeadersInit},{key:"body",converter:M.nullableConverter(M.converters.BodyInit)},{key:"referrer",converter:M.converters.USVString},{key:"referrerPolicy",converter:M.converters.DOMString,allowedValues:B},{key:"mode",converter:M.converters.DOMString,allowedValues:Q},{key:"credentials",converter:M.converters.DOMString,allowedValues:w},{key:"cache",converter:M.converters.DOMString,allowedValues:v},{key:"redirect",converter:M.converters.DOMString,allowedValues:y},{key:"integrity",converter:M.converters.DOMString},{key:"keepalive",converter:M.converters.boolean},{key:"signal",converter:M.nullableConverter(e=>M.converters.AbortSignal(e,"RequestInit","signal",{strict:!1}))},{key:"window",converter:M.converters.any},{key:"duplex",converter:M.converters.DOMString,allowedValues:b},{key:"dispatcher",converter:M.converters.any}]),e.exports={Request:W,makeRequest:j,fromInnerRequest:K,cloneRequest:z}},1119:(e,t,r)=>{"use strict";let i;let{Headers:n,HeadersList:s,fill:o,getHeadersGuard:a,setHeadersGuard:A,setHeadersList:l}=r(5609),{extractBody:c,cloneBody:u,mixinBody:h}=r(8611),d=r(7211),g=r(7261),{kEnumerableProperty:f}=d,{isValidReasonPhrase:p,isCancelled:E,isAborted:C,isBlobLike:I,serializeJavascriptValueToJSONString:m,isErrorLike:B,isomorphicEncode:y,environmentSettingsObject:Q}=r(4960),{redirectStatusSet:w,nullBodyStatus:v}=r(9964),{kState:b,kHeaders:S}=r(8115),{webidl:T}=r(5007),{FormData:D}=r(744),{URLSerializer:R}=r(8097),{kConstruct:k}=r(1053),N=r(8061),{types:F}=r(7261),{isDisturbed:M,isErrored:L}=r(4492),U=new TextEncoder("utf-8"),_=globalThis.FinalizationRegistry&&0!==process.version.indexOf("v18");function x(){}_&&(i=new FinalizationRegistry(e=>{let t=e.deref();!t||t.locked||M(t)||L(t)||t.cancel("Response object has been garbage collected").catch(x)}));class O{static error(){return j(G(),"immutable")}static json(e,t={}){T.argumentLengthCheck(arguments,1,"Response.json"),null!==t&&(t=T.converters.ResponseInit(t));let r=c(U.encode(m(e))),i=j(V({}),"response");return W(i,t,{body:r[0],type:"application/json"}),i}static redirect(e,t=302){let r;T.argumentLengthCheck(arguments,1,"Response.redirect"),e=T.converters.USVString(e),t=T.converters["unsigned short"](t);try{r=new URL(e,Q.settingsObject.baseUrl)}catch(t){throw TypeError(`Failed to parse URL from ${e}`,{cause:t})}if(!w.has(t))throw RangeError(`Invalid status code ${t}`);let i=j(V({}),"immutable");i[b].status=t;let n=y(R(r));return i[b].headersList.append("location",n,!0),i}constructor(e=null,t={}){if(e===k)return;null!==e&&(e=T.converters.BodyInit(e)),t=T.converters.ResponseInit(t),this[b]=V({}),this[S]=new n(k),A(this[S],"response"),l(this[S],this[b].headersList);let r=null;if(null!=e){let[t,i]=c(e);r={body:t,type:i}}W(this,t,r)}get type(){return T.brandCheck(this,O),this[b].type}get url(){T.brandCheck(this,O);let e=this[b].urlList,t=e[e.length-1]??null;return null===t?"":R(t,!0)}get redirected(){return T.brandCheck(this,O),this[b].urlList.length>1}get status(){return T.brandCheck(this,O),this[b].status}get ok(){return T.brandCheck(this,O),this[b].status>=200&&this[b].status<=299}get statusText(){return T.brandCheck(this,O),this[b].statusText}get headers(){return T.brandCheck(this,O),this[S]}get body(){return T.brandCheck(this,O),this[b].body?this[b].body.stream:null}get bodyUsed(){return T.brandCheck(this,O),!!this[b].body&&d.isDisturbed(this[b].body.stream)}clone(){if(T.brandCheck(this,O),this.bodyUsed||this.body?.locked)throw T.errors.exception({header:"Response.clone",message:"Body has already been consumed."});return j(P(this[b]),a(this[S]))}[g.inspect.custom](e,t){null===t.depth&&(t.depth=2),t.colors??=!0;let r={status:this.status,statusText:this.statusText,headers:this.headers,body:this.body,bodyUsed:this.bodyUsed,ok:this.ok,redirected:this.redirected,type:this.type,url:this.url};return`Response ${g.formatWithOptions(t,r)}`}}function P(e){if(e.internalResponse)return J(P(e.internalResponse),e.type);let t=V({...e,body:null});return null!=e.body&&(t.body=u(e.body)),t}function V(e){return{aborted:!1,rangeRequested:!1,timingAllowPassed:!1,requestIncludesCredentials:!1,type:"default",status:200,timingInfo:null,cacheState:"",statusText:"",...e,headersList:e?.headersList?new s(e?.headersList):new s,urlList:e?.urlList?[...e.urlList]:[]}}function G(e){return V({type:"error",status:0,error:B(e)?e:Error(e?String(e):e),aborted:e&&"AbortError"===e.name})}function Y(e){return"error"===e.type&&0===e.status}function H(e,t){return t={internalResponse:e,...t},new Proxy(e,{get:(e,r)=>r in t?t[r]:e[r],set:(e,r,i)=>(N(!(r in t)),e[r]=i,!0)})}function J(e,t){return"basic"===t?H(e,{type:"basic",headersList:e.headersList}):"cors"===t?H(e,{type:"cors",headersList:e.headersList}):"opaque"===t?H(e,{type:"opaque",urlList:Object.freeze([]),status:0,statusText:"",body:null}):"opaqueredirect"===t?H(e,{type:"opaqueredirect",status:0,statusText:"",headersList:[],body:null}):void N(!1)}function q(e,t=null){return N(E(e)),C(e)?G(Object.assign(new DOMException("The operation was aborted.","AbortError"),{cause:t})):G(Object.assign(new DOMException("Request was cancelled."),{cause:t}))}function W(e,t,r){if(null!==t.status&&(t.status<200||t.status>599))throw RangeError('init["status"] must be in the range of 200 to 599, inclusive.');if("statusText"in t&&null!=t.statusText&&!p(String(t.statusText)))throw TypeError("Invalid statusText");if("status"in t&&null!=t.status&&(e[b].status=t.status),"statusText"in t&&null!=t.statusText&&(e[b].statusText=t.statusText),"headers"in t&&null!=t.headers&&o(e[S],t.headers),r){if(v.includes(e.status))throw T.errors.exception({header:"Response constructor",message:`Invalid response status code ${e.status}`});e[b].body=r.body,null==r.type||e[b].headersList.contains("content-type",!0)||e[b].headersList.append("content-type",r.type,!0)}}function j(e,t){let r=new O(k);return r[b]=e,r[S]=new n(k),l(r[S],e.headersList),A(r[S],t),_&&e.body?.stream&&i.register(r,new WeakRef(e.body.stream)),r}h(O),Object.defineProperties(O.prototype,{type:f,url:f,status:f,ok:f,redirected:f,statusText:f,headers:f,clone:f,body:f,bodyUsed:f,[Symbol.toStringTag]:{value:"Response",configurable:!0}}),Object.defineProperties(O,{json:f,redirect:f,error:f}),T.converters.ReadableStream=T.interfaceConverter(ReadableStream),T.converters.FormData=T.interfaceConverter(D),T.converters.URLSearchParams=T.interfaceConverter(URLSearchParams),T.converters.XMLHttpRequestBodyInit=function(e,t,r){return"string"==typeof e?T.converters.USVString(e,t,r):I(e)?T.converters.Blob(e,t,r,{strict:!1}):ArrayBuffer.isView(e)||F.isArrayBuffer(e)?T.converters.BufferSource(e,t,r):d.isFormDataLike(e)?T.converters.FormData(e,t,r,{strict:!1}):e instanceof URLSearchParams?T.converters.URLSearchParams(e,t,r):T.converters.DOMString(e,t,r)},T.converters.BodyInit=function(e,t,r){return e instanceof ReadableStream?T.converters.ReadableStream(e,t,r):e?.[Symbol.asyncIterator]?e:T.converters.XMLHttpRequestBodyInit(e,t,r)},T.converters.ResponseInit=T.dictionaryConverter([{key:"status",converter:T.converters["unsigned short"],defaultValue:()=>200},{key:"statusText",converter:T.converters.ByteString,defaultValue:()=>""},{key:"headers",converter:T.converters.HeadersInit}]),e.exports={isNetworkError:Y,makeNetworkError:G,makeResponse:V,makeAppropriateNetworkError:q,filterResponse:J,Response:O,cloneResponse:P,fromInnerResponse:j}},8115:e=>{"use strict";e.exports={kUrl:Symbol("url"),kHeaders:Symbol("headers"),kSignal:Symbol("signal"),kState:Symbol("state"),kDispatcher:Symbol("dispatcher")}},4960:(e,t,r)=>{"use strict";let i;let{Transform:n}=r(4492),s=r(5628),{redirectStatusSet:o,referrerPolicySet:a,badPortsSet:A}=r(9964),{getGlobalOrigin:l}=r(2047),{collectASequenceOfCodePoints:c,collectAnHTTPQuotedString:u,removeChars:h,parseMIMEType:d}=r(8097),{performance:g}=r(8846),{isBlobLike:f,ReadableStreamFrom:p,isValidHTTPToken:E,normalizedMethodRecordsBase:C}=r(7211),I=r(8061),{isUint8Array:m}=r(3746),{webidl:B}=r(5007),y=[];try{i=r(6005);let e=["sha256","sha384","sha512"];y=i.getHashes().filter(t=>e.includes(t))}catch{}function Q(e){let t=e.urlList,r=t.length;return 0===r?null:t[r-1].toString()}function w(e,t){if(!o.has(e.status))return null;let r=e.headersList.get("location",!0);return null!==r&&N(r)&&(v(r)||(r=b(r)),r=new URL(r,Q(e))),r&&!r.hash&&(r.hash=t),r}function v(e){for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(r>126||r<32)return!1}return!0}function b(e){return Buffer.from(e,"binary").toString("utf8")}function S(e){return e.urlList[e.urlList.length-1]}function T(e){let t=S(e);return eC(t)&&A.has(t.port)?"blocked":"allowed"}function D(e){return e instanceof Error||e?.constructor?.name==="Error"||e?.constructor?.name==="DOMException"}function R(e){for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(!(9===r||r>=32&&r<=126||r>=128&&r<=255))return!1}return!0}let k=E;function N(e){return!1===("	"===e[0]||" "===e[0]||"	"===e[e.length-1]||" "===e[e.length-1]||e.includes("\n")||e.includes("\r")||e.includes("\0"))}function F(e,t){let{headersList:r}=t,i=(r.get("referrer-policy",!0)??"").split(","),n="";if(i.length>0)for(let e=i.length;0!==e;e--){let t=i[e-1].trim();if(a.has(t)){n=t;break}}""!==n&&(e.referrerPolicy=n)}function M(){return"allowed"}function L(){return"success"}function U(){return"success"}function _(e){let t=null;t=e.mode,e.headersList.set("sec-fetch-mode",t,!0)}function x(e){let t=e.origin;if("client"!==t&&void 0!==t){if("cors"===e.responseTainting||"websocket"===e.mode)e.headersList.append("origin",t,!0);else if("GET"!==e.method&&"HEAD"!==e.method){switch(e.referrerPolicy){case"no-referrer":t=null;break;case"no-referrer-when-downgrade":case"strict-origin":case"strict-origin-when-cross-origin":e.origin&&eE(e.origin)&&!eE(S(e))&&(t=null);break;case"same-origin":et(e,S(e))||(t=null)}e.headersList.append("origin",t,!0)}}}function O(e,t){return e}function P(e,t,r){return!e?.startTime||e.startTime<t?{domainLookupStartTime:t,domainLookupEndTime:t,connectionStartTime:t,connectionEndTime:t,secureConnectionStartTime:t,ALPNNegotiatedProtocol:e?.ALPNNegotiatedProtocol}:{domainLookupStartTime:O(e.domainLookupStartTime,r),domainLookupEndTime:O(e.domainLookupEndTime,r),connectionStartTime:O(e.connectionStartTime,r),connectionEndTime:O(e.connectionEndTime,r),secureConnectionStartTime:O(e.secureConnectionStartTime,r),ALPNNegotiatedProtocol:e.ALPNNegotiatedProtocol}}function V(e){return O(g.now(),e)}function G(e){return{startTime:e.startTime??0,redirectStartTime:0,redirectEndTime:0,postRedirectStartTime:e.startTime??0,finalServiceWorkerStartTime:0,finalNetworkResponseStartTime:0,finalNetworkRequestStartTime:0,endTime:0,encodedBodySize:0,decodedBodySize:0,finalConnectionTimingInfo:null}}function Y(){return{referrerPolicy:"strict-origin-when-cross-origin"}}function H(e){return{referrerPolicy:e.referrerPolicy}}function J(e){let t=e.referrerPolicy;I(t);let r=null;if("client"===e.referrer){let e=l();if(!e||"null"===e.origin)return"no-referrer";r=new URL(e)}else e.referrer instanceof URL&&(r=e.referrer);let i=q(r),n=q(r,!0);i.toString().length>4096&&(i=n);let s=et(e,i),o=W(i)&&!W(e.url);switch(t){case"origin":return null!=n?n:q(r,!0);case"unsafe-url":return i;case"same-origin":return s?n:"no-referrer";case"origin-when-cross-origin":return s?i:n;case"strict-origin-when-cross-origin":{let t=S(e);if(et(i,t))return i;if(W(i)&&!W(t))return"no-referrer";return n}default:return o?"no-referrer":n}}function q(e,t){return(I(e instanceof URL),"file:"===(e=new URL(e)).protocol||"about:"===e.protocol||"blank:"===e.protocol)?"no-referrer":(e.username="",e.password="",e.hash="",t&&(e.pathname="",e.search=""),e)}function W(e){if(!(e instanceof URL))return!1;if("about:blank"===e.href||"about:srcdoc"===e.href||"data:"===e.protocol||"file:"===e.protocol)return!0;return t(e.origin);function t(e){if(null==e||"null"===e)return!1;let t=new URL(e);return!!("https:"===t.protocol||"wss:"===t.protocol||/^127(?:\.[0-9]+){0,2}\.[0-9]+$|^\[(?:0*:)*?:?0*1\]$/.test(t.hostname)||"localhost"===t.hostname||t.hostname.includes("localhost.")||t.hostname.endsWith(".localhost"))}}function j(e,t){if(void 0===i)return!0;let r=K(t);if("no metadata"===r||0===r.length)return!0;let n=Z(r);for(let t of X(r,n)){let r=t.algo,n=t.hash,s=i.createHash(r).update(e).digest("base64");if("="===s[s.length-1]&&(s="="===s[s.length-2]?s.slice(0,-2):s.slice(0,-1)),$(s,n))return!0}return!1}let z=/(?<algo>sha256|sha384|sha512)-((?<hash>[A-Za-z0-9+/]+|[A-Za-z0-9_-]+)={0,2}(?:\s|$)( +[!-~]*)?)?/i;function K(e){let t=[],r=!0;for(let i of e.split(" ")){r=!1;let e=z.exec(i);if(null===e||void 0===e.groups||void 0===e.groups.algo)continue;let n=e.groups.algo.toLowerCase();y.includes(n)&&t.push(e.groups)}return!0===r?"no metadata":t}function Z(e){let t=e[0].algo;if("5"===t[3])return t;for(let r=1;r<e.length;++r){let i=e[r];if("5"===i.algo[3]){t="sha512";break}"3"!==t[3]&&"3"===i.algo[3]&&(t="sha384")}return t}function X(e,t){if(1===e.length)return e;let r=0;for(let i=0;i<e.length;++i)e[i].algo===t&&(e[r++]=e[i]);return e.length=r,e}function $(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(e[r]!==t[r]){if("+"===e[r]&&"-"===t[r]||"/"===e[r]&&"_"===t[r])continue;return!1}return!0}function ee(e){}function et(e,t){return e.origin===t.origin&&"null"===e.origin||e.protocol===t.protocol&&e.hostname===t.hostname&&e.port===t.port}function er(){let e,t;return{promise:new Promise((r,i)=>{e=r,t=i}),resolve:e,reject:t}}function ei(e){return"aborted"===e.controller.state}function en(e){return"aborted"===e.controller.state||"terminated"===e.controller.state}function es(e){return C[e.toLowerCase()]??e}function eo(e){let t=JSON.stringify(e);if(void 0===t)throw TypeError("Value is not JSON serializable");return I("string"==typeof t),t}let ea=Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]()));function eA(e,t,r=0,i=1){class n{#x;#O;#P;constructor(e,t){this.#x=e,this.#O=t,this.#P=0}next(){let n;if("object"!=typeof this||this===null||!(#x in this))throw TypeError(`'next' called on an object that does not implement interface ${e} Iterator.`);let s=this.#P,o=this.#x[t];if(s>=o.length)return{value:void 0,done:!0};let{[r]:a,[i]:A}=o[s];switch(this.#P=s+1,this.#O){case"key":n=a;break;case"value":n=A;break;case"key+value":n=[a,A]}return{value:n,done:!1}}}return delete n.prototype.constructor,Object.setPrototypeOf(n.prototype,ea),Object.defineProperties(n.prototype,{[Symbol.toStringTag]:{writable:!1,enumerable:!1,configurable:!0,value:`${e} Iterator`},next:{writable:!0,enumerable:!0,configurable:!0}}),function(e,t){return new n(e,t)}}function el(e,t,r,i=0,n=1){let s=eA(e,r,i,n),o={keys:{writable:!0,enumerable:!0,configurable:!0,value:function(){return B.brandCheck(this,t),s(this,"key")}},values:{writable:!0,enumerable:!0,configurable:!0,value:function(){return B.brandCheck(this,t),s(this,"value")}},entries:{writable:!0,enumerable:!0,configurable:!0,value:function(){return B.brandCheck(this,t),s(this,"key+value")}},forEach:{writable:!0,enumerable:!0,configurable:!0,value:function(r,i=globalThis){if(B.brandCheck(this,t),B.argumentLengthCheck(arguments,1,`${e}.forEach`),"function"!=typeof r)throw TypeError(`Failed to execute 'forEach' on '${e}': parameter 1 is not of type 'Function'.`);for(let{0:e,1:t}of s(this,"key+value"))r.call(i,t,e,this)}}};return Object.defineProperties(t.prototype,{...o,[Symbol.iterator]:{writable:!0,enumerable:!1,configurable:!0,value:o.entries.value}})}async function ec(e,t,r){let i;let n=t,s=r;try{i=e.stream.getReader()}catch(e){s(e);return}try{n(await ef(i))}catch(e){s(e)}}function eu(e){return e instanceof ReadableStream||"ReadableStream"===e[Symbol.toStringTag]&&"function"==typeof e.tee}function eh(e){try{e.close(),e.byobRequest?.respond(0)}catch(e){if(!e.message.includes("Controller is already closed")&&!e.message.includes("ReadableStream is already closed"))throw e}}let ed=/[^\x00-\xFF]/;function eg(e){return I(!ed.test(e)),e}async function ef(e){let t=[],r=0;for(;;){let{done:i,value:n}=await e.read();if(i)return Buffer.concat(t,r);if(!m(n))throw TypeError("Received non-Uint8Array chunk");t.push(n),r+=n.length}}function ep(e){I("protocol"in e);let t=e.protocol;return"about:"===t||"blob:"===t||"data:"===t}function eE(e){return"string"==typeof e&&":"===e[5]&&"h"===e[0]&&"t"===e[1]&&"t"===e[2]&&"p"===e[3]&&"s"===e[4]||"https:"===e.protocol}function eC(e){I("protocol"in e);let t=e.protocol;return"http:"===t||"https:"===t}function eI(e,t){let r=e;if(!r.startsWith("bytes"))return"failure";let i={position:5};if(t&&c(e=>"	"===e||" "===e,r,i),61!==r.charCodeAt(i.position))return"failure";i.position++,t&&c(e=>"	"===e||" "===e,r,i);let n=c(e=>{let t=e.charCodeAt(0);return t>=48&&t<=57},r,i),s=n.length?Number(n):null;if(t&&c(e=>"	"===e||" "===e,r,i),45!==r.charCodeAt(i.position))return"failure";i.position++,t&&c(e=>"	"===e||" "===e,r,i);let o=c(e=>{let t=e.charCodeAt(0);return t>=48&&t<=57},r,i),a=o.length?Number(o):null;return i.position<r.length||null===a&&null===s||s>a?"failure":{rangeStartValue:s,rangeEndValue:a}}function em(e,t,r){return"bytes "+(eg(`${e}`)+"-"+eg(`${t}`)+"/")+eg(`${r}`)}class eB extends n{_transform(e,t,r){if(!this._inflateStream){if(0===e.length){r();return}this._inflateStream=(15&e[0])==8?s.createInflate():s.createInflateRaw(),this._inflateStream.on("data",this.push.bind(this)),this._inflateStream.on("end",()=>this.push(null)),this._inflateStream.on("error",e=>this.destroy(e))}this._inflateStream.write(e,t,r)}_final(e){this._inflateStream&&(this._inflateStream.end(),this._inflateStream=null),e()}}function ey(){return new eB}function eQ(e){let t=null,r=null,i=null,n=ev("content-type",e);if(null===n)return"failure";for(let e of n){let n=d(e);"failure"!==n&&"*/*"!==n.essence&&((i=n).essence!==r?(t=null,i.parameters.has("charset")&&(t=i.parameters.get("charset")),r=i.essence):i.parameters.has("charset")||null===t||i.parameters.set("charset",t))}return null==i?"failure":i}function ew(e){let t=e,r={position:0},i=[],n="";for(;r.position<t.length;){if(n+=c(e=>'"'!==e&&","!==e,t,r),r.position<t.length){if(34===t.charCodeAt(r.position)){if(n+=u(t,r),r.position<t.length)continue}else I(44===t.charCodeAt(r.position)),r.position++}n=h(n,!0,!0,e=>9===e||32===e),i.push(n),n=""}return i}function ev(e,t){let r=t.get(e,!0);return null===r?null:ew(r)}let eb=new TextDecoder;function eS(e){return 0===e.length?"":(239===e[0]&&187===e[1]&&191===e[2]&&(e=e.subarray(3)),eb.decode(e))}class eT{get baseUrl(){return l()}get origin(){return this.baseUrl?.origin}policyContainer=Y()}class eD{settingsObject=new eT}let eR=new eD;e.exports={isAborted:ei,isCancelled:en,isValidEncodedURL:v,createDeferredPromise:er,ReadableStreamFrom:p,tryUpgradeRequestToAPotentiallyTrustworthyURL:ee,clampAndCoarsenConnectionTimingInfo:P,coarsenedSharedCurrentTime:V,determineRequestsReferrer:J,makePolicyContainer:Y,clonePolicyContainer:H,appendFetchMetadata:_,appendRequestOriginHeader:x,TAOCheck:U,corsCheck:L,crossOriginResourcePolicyCheck:M,createOpaqueTimingInfo:G,setRequestReferrerPolicyOnRedirect:F,isValidHTTPToken:E,requestBadPort:T,requestCurrentURL:S,responseURL:Q,responseLocationURL:w,isBlobLike:f,isURLPotentiallyTrustworthy:W,isValidReasonPhrase:R,sameOrigin:et,normalizeMethod:es,serializeJavascriptValueToJSONString:eo,iteratorMixin:el,createIterator:eA,isValidHeaderName:k,isValidHeaderValue:N,isErrorLike:D,fullyReadBody:ec,bytesMatch:j,isReadableStreamLike:eu,readableStreamClose:eh,isomorphicEncode:eg,urlIsLocal:ep,urlHasHttpsScheme:eE,urlIsHttpHttpsScheme:eC,readAllBytes:ef,simpleRangeHeaderValue:eI,buildContentRange:em,parseMetadata:K,createInflate:ey,extractMimeType:eQ,getDecodeSplit:ev,utf8DecodeBytes:eS,environmentSettingsObject:eR}},5007:(e,t,r)=>{"use strict";let{types:i,inspect:n}=r(7261),{toUSVString:s}=r(7211),o={};o.converters={},o.util={},o.errors={},o.errors.exception=function(e){return TypeError(`${e.header}: ${e.message}`)},o.errors.conversionFailed=function(e){let t=1===e.types.length?"":" one of",r=`${e.argument} could not be converted to${t}: ${e.types.join(", ")}.`;return o.errors.exception({header:e.prefix,message:r})},o.errors.invalidArgument=function(e){return o.errors.exception({header:e.prefix,message:`"${e.value}" is an invalid ${e.type}.`})},o.brandCheck=function(e,t,r){if(r?.strict!==!1){if(!(e instanceof t)){let e=TypeError("Illegal invocation");throw e.code="ERR_INVALID_THIS",e}}else if(e?.[Symbol.toStringTag]!==t.prototype[Symbol.toStringTag]){let e=TypeError("Illegal invocation");throw e.code="ERR_INVALID_THIS",e}},o.argumentLengthCheck=function({length:e},t,r){if(e<t)throw o.errors.exception({message:`${t} argument${1!==t?"s":""} required, but${e?" only":""} ${e} found.`,header:r})},o.illegalConstructor=function(){throw o.errors.exception({header:"TypeError",message:"Illegal constructor"})},o.util.Type=function(e){switch(typeof e){case"undefined":return"Undefined";case"boolean":return"Boolean";case"string":return"String";case"symbol":return"Symbol";case"number":return"Number";case"bigint":return"BigInt";case"function":case"object":if(null===e)return"Null";return"Object"}},o.util.ConvertToInt=function(e,t,r,i){let n,s;64===t?(n=9007199254740991,s="unsigned"===r?0:-9007199254740991):"unsigned"===r?(s=0,n=Math.pow(2,t)-1):(s=Math.pow(-2,t)-1,n=Math.pow(2,t-1)-1);let a=Number(e);if(0===a&&(a=0),i?.enforceRange===!0){if(Number.isNaN(a)||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY)throw o.errors.exception({header:"Integer conversion",message:`Could not convert ${o.util.Stringify(e)} to an integer.`});if((a=o.util.IntegerPart(a))<s||a>n)throw o.errors.exception({header:"Integer conversion",message:`Value must be between ${s}-${n}, got ${a}.`});return a}return Number.isNaN(a)||i?.clamp!==!0?Number.isNaN(a)||0===a&&Object.is(0,a)||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY?0:(a=o.util.IntegerPart(a)%Math.pow(2,t),"signed"===r&&a>=Math.pow(2,t)-1)?a-Math.pow(2,t):a:a=Math.floor(a=Math.min(Math.max(a,s),n))%2==0?Math.floor(a):Math.ceil(a)},o.util.IntegerPart=function(e){let t=Math.floor(Math.abs(e));return e<0?-1*t:t},o.util.Stringify=function(e){switch(o.util.Type(e)){case"Symbol":return`Symbol(${e.description})`;case"Object":return n(e);case"String":return`"${e}"`;default:return`${e}`}},o.sequenceConverter=function(e){return(t,r,i,n)=>{if("Object"!==o.util.Type(t))throw o.errors.exception({header:r,message:`${i} (${o.util.Stringify(t)}) is not iterable.`});let s="function"==typeof n?n():t?.[Symbol.iterator]?.(),a=[],A=0;if(void 0===s||"function"!=typeof s.next)throw o.errors.exception({header:r,message:`${i} is not iterable.`});for(;;){let{done:t,value:n}=s.next();if(t)break;a.push(e(n,r,`${i}[${A++}]`))}return a}},o.recordConverter=function(e,t){return(r,n,s)=>{if("Object"!==o.util.Type(r))throw o.errors.exception({header:n,message:`${s} ("${o.util.Type(r)}") is not an Object.`});let a={};if(!i.isProxy(r)){for(let i of[...Object.getOwnPropertyNames(r),...Object.getOwnPropertySymbols(r)]){let o=e(i,n,s),A=t(r[i],n,s);a[o]=A}return a}for(let i of Reflect.ownKeys(r)){let o=Reflect.getOwnPropertyDescriptor(r,i);if(o?.enumerable){let o=e(i,n,s),A=t(r[i],n,s);a[o]=A}}return a}},o.interfaceConverter=function(e){return(t,r,i,n)=>{if(n?.strict!==!1&&!(t instanceof e))throw o.errors.exception({header:r,message:`Expected ${i} ("${o.util.Stringify(t)}") to be an instance of ${e.name}.`});return t}},o.dictionaryConverter=function(e){return(t,r,i)=>{let n=o.util.Type(t),s={};if("Null"===n||"Undefined"===n)return s;if("Object"!==n)throw o.errors.exception({header:r,message:`Expected ${t} to be one of: Null, Undefined, Object.`});for(let n of e){let{key:e,defaultValue:a,required:A,converter:l}=n;if(!0===A&&!Object.hasOwn(t,e))throw o.errors.exception({header:r,message:`Missing required key "${e}".`});let c=t[e],u=Object.hasOwn(n,"defaultValue");if(u&&null!==c&&(c??=a()),A||u||void 0!==c){if(c=l(c,r,`${i}.${e}`),n.allowedValues&&!n.allowedValues.includes(c))throw o.errors.exception({header:r,message:`${c} is not an accepted type. Expected one of ${n.allowedValues.join(", ")}.`});s[e]=c}}return s}},o.nullableConverter=function(e){return(t,r,i)=>null===t?t:e(t,r,i)},o.converters.DOMString=function(e,t,r,i){if(null===e&&i?.legacyNullToEmptyString)return"";if("symbol"==typeof e)throw o.errors.exception({header:t,message:`${r} is a symbol, which cannot be converted to a DOMString.`});return String(e)},o.converters.ByteString=function(e,t,r){let i=o.converters.DOMString(e,t,r);for(let e=0;e<i.length;e++)if(i.charCodeAt(e)>255)throw TypeError(`Cannot convert argument to a ByteString because the character at index ${e} has a value of ${i.charCodeAt(e)} which is greater than 255.`);return i},o.converters.USVString=s,o.converters.boolean=function(e){return!!e},o.converters.any=function(e){return e},o.converters["long long"]=function(e,t,r){return o.util.ConvertToInt(e,64,"signed",void 0,t,r)},o.converters["unsigned long long"]=function(e,t,r){return o.util.ConvertToInt(e,64,"unsigned",void 0,t,r)},o.converters["unsigned long"]=function(e,t,r){return o.util.ConvertToInt(e,32,"unsigned",void 0,t,r)},o.converters["unsigned short"]=function(e,t,r,i){return o.util.ConvertToInt(e,16,"unsigned",i,t,r)},o.converters.ArrayBuffer=function(e,t,r,n){if("Object"!==o.util.Type(e)||!i.isAnyArrayBuffer(e))throw o.errors.conversionFailed({prefix:t,argument:`${r} ("${o.util.Stringify(e)}")`,types:["ArrayBuffer"]});if(n?.allowShared===!1&&i.isSharedArrayBuffer(e))throw o.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(e.resizable||e.growable)throw o.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return e},o.converters.TypedArray=function(e,t,r,n,s){if("Object"!==o.util.Type(e)||!i.isTypedArray(e)||e.constructor.name!==t.name)throw o.errors.conversionFailed({prefix:r,argument:`${n} ("${o.util.Stringify(e)}")`,types:[t.name]});if(s?.allowShared===!1&&i.isSharedArrayBuffer(e.buffer))throw o.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(e.buffer.resizable||e.buffer.growable)throw o.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return e},o.converters.DataView=function(e,t,r,n){if("Object"!==o.util.Type(e)||!i.isDataView(e))throw o.errors.exception({header:t,message:`${r} is not a DataView.`});if(n?.allowShared===!1&&i.isSharedArrayBuffer(e.buffer))throw o.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(e.buffer.resizable||e.buffer.growable)throw o.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return e},o.converters.BufferSource=function(e,t,r,n){if(i.isAnyArrayBuffer(e))return o.converters.ArrayBuffer(e,t,r,{...n,allowShared:!1});if(i.isTypedArray(e))return o.converters.TypedArray(e,e.constructor,t,r,{...n,allowShared:!1});if(i.isDataView(e))return o.converters.DataView(e,t,r,{...n,allowShared:!1});throw o.errors.conversionFailed({prefix:t,argument:`${r} ("${o.util.Stringify(e)}")`,types:["BufferSource"]})},o.converters["sequence<ByteString>"]=o.sequenceConverter(o.converters.ByteString),o.converters["sequence<sequence<ByteString>>"]=o.sequenceConverter(o.converters["sequence<ByteString>"]),o.converters["record<ByteString, ByteString>"]=o.recordConverter(o.converters.ByteString,o.converters.ByteString),e.exports={webidl:o}},6233:e=>{"use strict";function t(e){if(!e)return"failure";switch(e.trim().toLowerCase()){case"unicode-1-1-utf-8":case"unicode11utf8":case"unicode20utf8":case"utf-8":case"utf8":case"x-unicode20utf8":return"UTF-8";case"866":case"cp866":case"csibm866":case"ibm866":return"IBM866";case"csisolatin2":case"iso-8859-2":case"iso-ir-101":case"iso8859-2":case"iso88592":case"iso_8859-2":case"iso_8859-2:1987":case"l2":case"latin2":return"ISO-8859-2";case"csisolatin3":case"iso-8859-3":case"iso-ir-109":case"iso8859-3":case"iso88593":case"iso_8859-3":case"iso_8859-3:1988":case"l3":case"latin3":return"ISO-8859-3";case"csisolatin4":case"iso-8859-4":case"iso-ir-110":case"iso8859-4":case"iso88594":case"iso_8859-4":case"iso_8859-4:1988":case"l4":case"latin4":return"ISO-8859-4";case"csisolatincyrillic":case"cyrillic":case"iso-8859-5":case"iso-ir-144":case"iso8859-5":case"iso88595":case"iso_8859-5":case"iso_8859-5:1988":return"ISO-8859-5";case"arabic":case"asmo-708":case"csiso88596e":case"csiso88596i":case"csisolatinarabic":case"ecma-114":case"iso-8859-6":case"iso-8859-6-e":case"iso-8859-6-i":case"iso-ir-127":case"iso8859-6":case"iso88596":case"iso_8859-6":case"iso_8859-6:1987":return"ISO-8859-6";case"csisolatingreek":case"ecma-118":case"elot_928":case"greek":case"greek8":case"iso-8859-7":case"iso-ir-126":case"iso8859-7":case"iso88597":case"iso_8859-7":case"iso_8859-7:1987":case"sun_eu_greek":return"ISO-8859-7";case"csiso88598e":case"csisolatinhebrew":case"hebrew":case"iso-8859-8":case"iso-8859-8-e":case"iso-ir-138":case"iso8859-8":case"iso88598":case"iso_8859-8":case"iso_8859-8:1988":case"visual":return"ISO-8859-8";case"csiso88598i":case"iso-8859-8-i":case"logical":return"ISO-8859-8-I";case"csisolatin6":case"iso-8859-10":case"iso-ir-157":case"iso8859-10":case"iso885910":case"l6":case"latin6":return"ISO-8859-10";case"iso-8859-13":case"iso8859-13":case"iso885913":return"ISO-8859-13";case"iso-8859-14":case"iso8859-14":case"iso885914":return"ISO-8859-14";case"csisolatin9":case"iso-8859-15":case"iso8859-15":case"iso885915":case"iso_8859-15":case"l9":return"ISO-8859-15";case"iso-8859-16":return"ISO-8859-16";case"cskoi8r":case"koi":case"koi8":case"koi8-r":case"koi8_r":return"KOI8-R";case"koi8-ru":case"koi8-u":return"KOI8-U";case"csmacintosh":case"mac":case"macintosh":case"x-mac-roman":return"macintosh";case"iso-8859-11":case"iso8859-11":case"iso885911":case"tis-620":case"windows-874":return"windows-874";case"cp1250":case"windows-1250":case"x-cp1250":return"windows-1250";case"cp1251":case"windows-1251":case"x-cp1251":return"windows-1251";case"ansi_x3.4-1968":case"ascii":case"cp1252":case"cp819":case"csisolatin1":case"ibm819":case"iso-8859-1":case"iso-ir-100":case"iso8859-1":case"iso88591":case"iso_8859-1":case"iso_8859-1:1987":case"l1":case"latin1":case"us-ascii":case"windows-1252":case"x-cp1252":return"windows-1252";case"cp1253":case"windows-1253":case"x-cp1253":return"windows-1253";case"cp1254":case"csisolatin5":case"iso-8859-9":case"iso-ir-148":case"iso8859-9":case"iso88599":case"iso_8859-9":case"iso_8859-9:1989":case"l5":case"latin5":case"windows-1254":case"x-cp1254":return"windows-1254";case"cp1255":case"windows-1255":case"x-cp1255":return"windows-1255";case"cp1256":case"windows-1256":case"x-cp1256":return"windows-1256";case"cp1257":case"windows-1257":case"x-cp1257":return"windows-1257";case"cp1258":case"windows-1258":case"x-cp1258":return"windows-1258";case"x-mac-cyrillic":case"x-mac-ukrainian":return"x-mac-cyrillic";case"chinese":case"csgb2312":case"csiso58gb231280":case"gb2312":case"gb_2312":case"gb_2312-80":case"gbk":case"iso-ir-58":case"x-gbk":return"GBK";case"gb18030":return"gb18030";case"big5":case"big5-hkscs":case"cn-big5":case"csbig5":case"x-x-big5":return"Big5";case"cseucpkdfmtjapanese":case"euc-jp":case"x-euc-jp":return"EUC-JP";case"csiso2022jp":case"iso-2022-jp":return"ISO-2022-JP";case"csshiftjis":case"ms932":case"ms_kanji":case"shift-jis":case"shift_jis":case"sjis":case"windows-31j":case"x-sjis":return"Shift_JIS";case"cseuckr":case"csksc56011987":case"euc-kr":case"iso-ir-149":case"korean":case"ks_c_5601-1987":case"ks_c_5601-1989":case"ksc5601":case"ksc_5601":case"windows-949":return"EUC-KR";case"csiso2022kr":case"hz-gb-2312":case"iso-2022-cn":case"iso-2022-cn-ext":case"iso-2022-kr":case"replacement":return"replacement";case"unicodefffe":case"utf-16be":return"UTF-16BE";case"csunicode":case"iso-10646-ucs-2":case"ucs-2":case"unicode":case"unicodefeff":case"utf-16":case"utf-16le":return"UTF-16LE";case"x-user-defined":return"x-user-defined";default:return"failure"}}e.exports={getEncoding:t}},3712:(e,t,r)=>{"use strict";let{staticPropertyDescriptors:i,readOperation:n,fireAProgressEvent:s}=r(3572),{kState:o,kError:a,kResult:A,kEvents:l,kAborted:c}=r(7168),{webidl:u}=r(5007),{kEnumerableProperty:h}=r(7211);class d extends EventTarget{constructor(){super(),this[o]="empty",this[A]=null,this[a]=null,this[l]={loadend:null,error:null,abort:null,load:null,progress:null,loadstart:null}}readAsArrayBuffer(e){u.brandCheck(this,d),u.argumentLengthCheck(arguments,1,"FileReader.readAsArrayBuffer"),n(this,e=u.converters.Blob(e,{strict:!1}),"ArrayBuffer")}readAsBinaryString(e){u.brandCheck(this,d),u.argumentLengthCheck(arguments,1,"FileReader.readAsBinaryString"),n(this,e=u.converters.Blob(e,{strict:!1}),"BinaryString")}readAsText(e,t){u.brandCheck(this,d),u.argumentLengthCheck(arguments,1,"FileReader.readAsText"),e=u.converters.Blob(e,{strict:!1}),void 0!==t&&(t=u.converters.DOMString(t,"FileReader.readAsText","encoding")),n(this,e,"Text",t)}readAsDataURL(e){u.brandCheck(this,d),u.argumentLengthCheck(arguments,1,"FileReader.readAsDataURL"),n(this,e=u.converters.Blob(e,{strict:!1}),"DataURL")}abort(){if("empty"===this[o]||"done"===this[o]){this[A]=null;return}"loading"===this[o]&&(this[o]="done",this[A]=null),this[c]=!0,s("abort",this),"loading"!==this[o]&&s("loadend",this)}get readyState(){switch(u.brandCheck(this,d),this[o]){case"empty":return this.EMPTY;case"loading":return this.LOADING;case"done":return this.DONE}}get result(){return u.brandCheck(this,d),this[A]}get error(){return u.brandCheck(this,d),this[a]}get onloadend(){return u.brandCheck(this,d),this[l].loadend}set onloadend(e){u.brandCheck(this,d),this[l].loadend&&this.removeEventListener("loadend",this[l].loadend),"function"==typeof e?(this[l].loadend=e,this.addEventListener("loadend",e)):this[l].loadend=null}get onerror(){return u.brandCheck(this,d),this[l].error}set onerror(e){u.brandCheck(this,d),this[l].error&&this.removeEventListener("error",this[l].error),"function"==typeof e?(this[l].error=e,this.addEventListener("error",e)):this[l].error=null}get onloadstart(){return u.brandCheck(this,d),this[l].loadstart}set onloadstart(e){u.brandCheck(this,d),this[l].loadstart&&this.removeEventListener("loadstart",this[l].loadstart),"function"==typeof e?(this[l].loadstart=e,this.addEventListener("loadstart",e)):this[l].loadstart=null}get onprogress(){return u.brandCheck(this,d),this[l].progress}set onprogress(e){u.brandCheck(this,d),this[l].progress&&this.removeEventListener("progress",this[l].progress),"function"==typeof e?(this[l].progress=e,this.addEventListener("progress",e)):this[l].progress=null}get onload(){return u.brandCheck(this,d),this[l].load}set onload(e){u.brandCheck(this,d),this[l].load&&this.removeEventListener("load",this[l].load),"function"==typeof e?(this[l].load=e,this.addEventListener("load",e)):this[l].load=null}get onabort(){return u.brandCheck(this,d),this[l].abort}set onabort(e){u.brandCheck(this,d),this[l].abort&&this.removeEventListener("abort",this[l].abort),"function"==typeof e?(this[l].abort=e,this.addEventListener("abort",e)):this[l].abort=null}}d.EMPTY=d.prototype.EMPTY=0,d.LOADING=d.prototype.LOADING=1,d.DONE=d.prototype.DONE=2,Object.defineProperties(d.prototype,{EMPTY:i,LOADING:i,DONE:i,readAsArrayBuffer:h,readAsBinaryString:h,readAsText:h,readAsDataURL:h,abort:h,readyState:h,result:h,error:h,onloadstart:h,onprogress:h,onload:h,onabort:h,onerror:h,onloadend:h,[Symbol.toStringTag]:{value:"FileReader",writable:!1,enumerable:!1,configurable:!0}}),Object.defineProperties(d,{EMPTY:i,LOADING:i,DONE:i}),e.exports={FileReader:d}},8862:(e,t,r)=>{"use strict";let{webidl:i}=r(5007),n=Symbol("ProgressEvent state");class s extends Event{constructor(e,t={}){super(e=i.converters.DOMString(e,"ProgressEvent constructor","type"),t=i.converters.ProgressEventInit(t??{})),this[n]={lengthComputable:t.lengthComputable,loaded:t.loaded,total:t.total}}get lengthComputable(){return i.brandCheck(this,s),this[n].lengthComputable}get loaded(){return i.brandCheck(this,s),this[n].loaded}get total(){return i.brandCheck(this,s),this[n].total}}i.converters.ProgressEventInit=i.dictionaryConverter([{key:"lengthComputable",converter:i.converters.boolean,defaultValue:()=>!1},{key:"loaded",converter:i.converters["unsigned long long"],defaultValue:()=>0},{key:"total",converter:i.converters["unsigned long long"],defaultValue:()=>0},{key:"bubbles",converter:i.converters.boolean,defaultValue:()=>!1},{key:"cancelable",converter:i.converters.boolean,defaultValue:()=>!1},{key:"composed",converter:i.converters.boolean,defaultValue:()=>!1}]),e.exports={ProgressEvent:s}},7168:e=>{"use strict";e.exports={kState:Symbol("FileReader state"),kResult:Symbol("FileReader result"),kError:Symbol("FileReader error"),kLastProgressEventFired:Symbol("FileReader last progress event fired timestamp"),kEvents:Symbol("FileReader events"),kAborted:Symbol("FileReader aborted")}},3572:(e,t,r)=>{"use strict";let{kState:i,kError:n,kResult:s,kAborted:o,kLastProgressEventFired:a}=r(7168),{ProgressEvent:A}=r(8862),{getEncoding:l}=r(6233),{serializeAMimeType:c,parseMIMEType:u}=r(8097),{types:h}=r(7261),{StringDecoder:d}=r(4026),{btoa:g}=r(2254),f={enumerable:!0,writable:!1,configurable:!1};function p(e,t,r,A){if("loading"===e[i])throw new DOMException("Invalid state","InvalidStateError");e[i]="loading",e[s]=null,e[n]=null;let l=t.stream().getReader(),c=[],u=l.read(),d=!0;(async()=>{for(;!e[o];)try{let{done:g,value:f}=await u;if(d&&!e[o]&&queueMicrotask(()=>{E("loadstart",e)}),d=!1,!g&&h.isUint8Array(f))c.push(f),(void 0===e[a]||Date.now()-e[a]>=50)&&!e[o]&&(e[a]=Date.now(),queueMicrotask(()=>{E("progress",e)})),u=l.read();else if(g){queueMicrotask(()=>{e[i]="done";try{let i=C(c,r,t.type,A);if(e[o])return;e[s]=i,E("load",e)}catch(t){e[n]=t,E("error",e)}"loading"!==e[i]&&E("loadend",e)});break}}catch(t){if(e[o])return;queueMicrotask(()=>{e[i]="done",e[n]=t,E("error",e),"loading"!==e[i]&&E("loadend",e)});break}})()}function E(e,t){let r=new A(e,{bubbles:!1,cancelable:!1});t.dispatchEvent(r)}function C(e,t,r,i){switch(t){case"DataURL":{let t="data:",i=u(r||"application/octet-stream");"failure"!==i&&(t+=c(i)),t+=";base64,";let n=new d("latin1");for(let r of e)t+=g(n.write(r));return t+g(n.end())}case"Text":{let t="failure";if(i&&(t=l(i)),"failure"===t&&r){let e=u(r);"failure"!==e&&(t=l(e.parameters.get("charset")))}return"failure"===t&&(t="UTF-8"),I(e,t)}case"ArrayBuffer":return B(e).buffer;case"BinaryString":{let t="",r=new d("latin1");for(let i of e)t+=r.write(i);return t+r.end()}}}function I(e,t){let r=B(e),i=m(r),n=0;null!==i&&(t=i,n="UTF-8"===i?3:2);let s=r.slice(n);return new TextDecoder(t).decode(s)}function m(e){let[t,r,i]=e;return 239===t&&187===r&&191===i?"UTF-8":254===t&&255===r?"UTF-16BE":255===t&&254===r?"UTF-16LE":null}function B(e){let t=e.reduce((e,t)=>e+t.byteLength,0),r=0;return e.reduce((e,t)=>(e.set(t,r),r+=t.byteLength,e),new Uint8Array(t))}e.exports={staticPropertyDescriptors:f,readOperation:p,fireAProgressEvent:E}},2968:(e,t,r)=>{"use strict";let i;let{uid:n,states:s,sentCloseFrameState:o,emptyBuffer:a,opcodes:A}=r(7979),{kReadyState:l,kSentClose:c,kByteParser:u,kReceivedClose:h,kResponse:d}=r(678),{fireEvent:g,failWebsocketConnection:f,isClosing:p,isClosed:E,isEstablished:C,parseExtensions:I}=r(1330),{channels:m}=r(1549),{CloseEvent:B}=r(7826),{makeRequest:y}=r(2236),{fetching:Q}=r(6531),{Headers:w,getHeadersList:v}=r(5609),{getDecodeSplit:b}=r(4960),{WebsocketFrameSend:S}=r(2208);try{i=r(6005)}catch{}function T(e,t,r,s,o,a){let A=e;A.protocol="ws:"===e.protocol?"http:":"https:";let l=y({urlList:[A],client:r,serviceWorkers:"none",referrer:"no-referrer",mode:"websocket",credentials:"include",cache:"no-store",redirect:"error"});if(a.headers){let e=v(new w(a.headers));l.headersList=e}let c=i.randomBytes(16).toString("base64");for(let e of(l.headersList.append("sec-websocket-key",c),l.headersList.append("sec-websocket-version","13"),t))l.headersList.append("sec-websocket-protocol",e);let u="permessage-deflate; client_max_window_bits";return l.headersList.append("sec-websocket-extensions",u),Q({request:l,useParallelQueue:!0,dispatcher:a.dispatcher,processResponse(e){let r;if("error"===e.type||101!==e.status){f(s,"Received network error or non-101 status code.");return}if(0!==t.length&&!e.headersList.get("Sec-WebSocket-Protocol")){f(s,"Server did not respond with sent protocols.");return}if(e.headersList.get("Upgrade")?.toLowerCase()!=="websocket"){f(s,'Server did not set Upgrade header to "websocket".');return}if(e.headersList.get("Connection")?.toLowerCase()!=="upgrade"){f(s,'Server did not set Connection header to "upgrade".');return}if(e.headersList.get("Sec-WebSocket-Accept")!==i.createHash("sha1").update(c+n).digest("base64")){f(s,"Incorrect hash received in Sec-WebSocket-Accept header.");return}let a=e.headersList.get("Sec-WebSocket-Extensions");if(null!==a&&!(r=I(a)).has("permessage-deflate")){f(s,"Sec-WebSocket-Extensions header does not match.");return}let A=e.headersList.get("Sec-WebSocket-Protocol");if(null!==A&&!b("sec-websocket-protocol",l.headersList).includes(A)){f(s,"Protocol was not set in the opening handshake.");return}e.socket.on("data",R),e.socket.on("close",k),e.socket.on("error",N),m.open.hasSubscribers&&m.open.publish({address:e.socket.address(),protocol:A,extensions:a}),o(e,r)}})}function D(e,t,r,i){if(p(e)||E(e));else if(C(e)){if(e[c]===o.NOT_SENT){e[c]=o.PROCESSING;let n=new S;void 0!==t&&void 0===r?(n.frameData=Buffer.allocUnsafe(2),n.frameData.writeUInt16BE(t,0)):void 0!==t&&void 0!==r?(n.frameData=Buffer.allocUnsafe(2+i),n.frameData.writeUInt16BE(t,0),n.frameData.write(r,2,"utf-8")):n.frameData=a,e[d].socket.write(n.createFrame(A.CLOSE)),e[c]=o.SENT,e[l]=s.CLOSING}else e[l]=s.CLOSING}else f(e,"Connection was closed before it was established."),e[l]=s.CLOSING}function R(e){this.ws[u].write(e)||this.pause()}function k(){let{ws:e}=this,{[d]:t}=e;t.socket.off("data",R),t.socket.off("close",k),t.socket.off("error",N);let r=e[c]===o.SENT&&e[h],i=1005,n="",a=e[u].closingInfo;a&&!a.error?(i=a.code??1005,n=a.reason):e[h]||(i=1006),e[l]=s.CLOSED,g("close",e,(e,t)=>new B(e,t),{wasClean:r,code:i,reason:n}),m.close.hasSubscribers&&m.close.publish({websocket:e,code:i,reason:n})}function N(e){let{ws:t}=this;t[l]=s.CLOSING,m.socketError.hasSubscribers&&m.socketError.publish(e),this.destroy()}e.exports={establishWebSocketConnection:T,closeWebSocketConnection:D}},7979:e=>{"use strict";let t="258EAFA5-E914-47DA-95CA-C5AB0DC85B11",r={enumerable:!0,writable:!1,configurable:!1},i={CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3},n={NOT_SENT:0,PROCESSING:1,SENT:2},s={CONTINUATION:0,TEXT:1,BINARY:2,CLOSE:8,PING:9,PONG:10},o=65535,a={INFO:0,PAYLOADLENGTH_16:2,PAYLOADLENGTH_64:3,READ_DATA:4},A=Buffer.allocUnsafe(0),l={string:1,typedArray:2,arrayBuffer:3,blob:4};e.exports={uid:t,sentCloseFrameState:n,staticPropertyDescriptors:r,states:i,opcodes:s,maxUnsigned16Bit:o,parserStates:a,emptyBuffer:A,sendHints:l}},7826:(e,t,r)=>{"use strict";let{webidl:i}=r(5007),{kEnumerableProperty:n}=r(7211),{kConstruct:s}=r(1053),{MessagePort:o}=r(4086);class a extends Event{#V;constructor(e,t={}){if(e===s){super(arguments[1],arguments[2]);return}let r="MessageEvent constructor";i.argumentLengthCheck(arguments,1,r),super(e=i.converters.DOMString(e,r,"type"),t=i.converters.MessageEventInit(t,r,"eventInitDict")),this.#V=t}get data(){return i.brandCheck(this,a),this.#V.data}get origin(){return i.brandCheck(this,a),this.#V.origin}get lastEventId(){return i.brandCheck(this,a),this.#V.lastEventId}get source(){return i.brandCheck(this,a),this.#V.source}get ports(){return i.brandCheck(this,a),Object.isFrozen(this.#V.ports)||Object.freeze(this.#V.ports),this.#V.ports}initMessageEvent(e,t=!1,r=!1,n=null,s="",o="",A=null,l=[]){return i.brandCheck(this,a),i.argumentLengthCheck(arguments,1,"MessageEvent.initMessageEvent"),new a(e,{bubbles:t,cancelable:r,data:n,origin:s,lastEventId:o,source:A,ports:l})}static createFastMessageEvent(e,t){let r=new a(s,e,t);return r.#V=t,r.#V.data??=null,r.#V.origin??="",r.#V.lastEventId??="",r.#V.source??=null,r.#V.ports??=[],r}}let{createFastMessageEvent:A}=a;delete a.createFastMessageEvent;class l extends Event{#V;constructor(e,t={}){let r="CloseEvent constructor";i.argumentLengthCheck(arguments,1,r),super(e=i.converters.DOMString(e,r,"type"),t=i.converters.CloseEventInit(t)),this.#V=t}get wasClean(){return i.brandCheck(this,l),this.#V.wasClean}get code(){return i.brandCheck(this,l),this.#V.code}get reason(){return i.brandCheck(this,l),this.#V.reason}}class c extends Event{#V;constructor(e,t){let r="ErrorEvent constructor";i.argumentLengthCheck(arguments,1,r),super(e,t),e=i.converters.DOMString(e,r,"type"),t=i.converters.ErrorEventInit(t??{}),this.#V=t}get message(){return i.brandCheck(this,c),this.#V.message}get filename(){return i.brandCheck(this,c),this.#V.filename}get lineno(){return i.brandCheck(this,c),this.#V.lineno}get colno(){return i.brandCheck(this,c),this.#V.colno}get error(){return i.brandCheck(this,c),this.#V.error}}Object.defineProperties(a.prototype,{[Symbol.toStringTag]:{value:"MessageEvent",configurable:!0},data:n,origin:n,lastEventId:n,source:n,ports:n,initMessageEvent:n}),Object.defineProperties(l.prototype,{[Symbol.toStringTag]:{value:"CloseEvent",configurable:!0},reason:n,code:n,wasClean:n}),Object.defineProperties(c.prototype,{[Symbol.toStringTag]:{value:"ErrorEvent",configurable:!0},message:n,filename:n,lineno:n,colno:n,error:n}),i.converters.MessagePort=i.interfaceConverter(o),i.converters["sequence<MessagePort>"]=i.sequenceConverter(i.converters.MessagePort);let u=[{key:"bubbles",converter:i.converters.boolean,defaultValue:()=>!1},{key:"cancelable",converter:i.converters.boolean,defaultValue:()=>!1},{key:"composed",converter:i.converters.boolean,defaultValue:()=>!1}];i.converters.MessageEventInit=i.dictionaryConverter([...u,{key:"data",converter:i.converters.any,defaultValue:()=>null},{key:"origin",converter:i.converters.USVString,defaultValue:()=>""},{key:"lastEventId",converter:i.converters.DOMString,defaultValue:()=>""},{key:"source",converter:i.nullableConverter(i.converters.MessagePort),defaultValue:()=>null},{key:"ports",converter:i.converters["sequence<MessagePort>"],defaultValue:()=>[]}]),i.converters.CloseEventInit=i.dictionaryConverter([...u,{key:"wasClean",converter:i.converters.boolean,defaultValue:()=>!1},{key:"code",converter:i.converters["unsigned short"],defaultValue:()=>0},{key:"reason",converter:i.converters.USVString,defaultValue:()=>""}]),i.converters.ErrorEventInit=i.dictionaryConverter([...u,{key:"message",converter:i.converters.DOMString,defaultValue:()=>""},{key:"filename",converter:i.converters.USVString,defaultValue:()=>""},{key:"lineno",converter:i.converters["unsigned long"],defaultValue:()=>0},{key:"colno",converter:i.converters["unsigned long"],defaultValue:()=>0},{key:"error",converter:i.converters.any}]),e.exports={MessageEvent:a,CloseEvent:l,ErrorEvent:c,createFastMessageEvent:A}},2208:(e,t,r)=>{"use strict";let i;let{maxUnsigned16Bit:n}=r(7979),s=16386,o=null,a=16386;try{i=r(6005)}catch{i={randomFillSync:function(e,t,r){for(let t=0;t<e.length;++t)e[t]=255*Math.random()|0;return e}}}function A(){return a===s&&(a=0,i.randomFillSync(o??=Buffer.allocUnsafe(s),0,s)),[o[a++],o[a++],o[a++],o[a++]]}class l{constructor(e){this.frameData=e}createFrame(e){let t=this.frameData,r=A(),i=t?.byteLength??0,s=i,o=6;i>n?(o+=8,s=127):i>125&&(o+=2,s=126);let a=Buffer.allocUnsafe(i+o);a[0]=a[1]=0,a[0]|=128,a[0]=(240&a[0])+e,a[o-4]=r[0],a[o-3]=r[1],a[o-2]=r[2],a[o-1]=r[3],a[1]=s,126===s?a.writeUInt16BE(i,2):127===s&&(a[2]=a[3]=0,a.writeUIntBE(i,4,6)),a[1]|=128;for(let e=0;e<i;++e)a[o+e]=t[e]^r[3&e];return a}}e.exports={WebsocketFrameSend:l}},1766:(e,t,r)=>{"use strict";let{createInflateRaw:i,Z_DEFAULT_WINDOWBITS:n}=r(5628),{isValidClientWindowBits:s}=r(1330),o=Buffer.from([0,0,255,255]),a=Symbol("kBuffer"),A=Symbol("kLength");class l{#G;#h={};constructor(e){this.#h.serverNoContextTakeover=e.has("server_no_context_takeover"),this.#h.serverMaxWindowBits=e.get("server_max_window_bits")}decompress(e,t,r){if(!this.#G){let e=n;if(this.#h.serverMaxWindowBits){if(!s(this.#h.serverMaxWindowBits)){r(Error("Invalid server_max_window_bits"));return}e=Number.parseInt(this.#h.serverMaxWindowBits)}this.#G=i({windowBits:e}),this.#G[a]=[],this.#G[A]=0,this.#G.on("data",e=>{this.#G[a].push(e),this.#G[A]+=e.length}),this.#G.on("error",e=>{this.#G=null,r(e)})}this.#G.write(e),t&&this.#G.write(o),this.#G.flush(()=>{let e=Buffer.concat(this.#G[a],this.#G[A]);this.#G[a].length=0,this.#G[A]=0,r(null,e)})}}e.exports={PerMessageDeflate:l}},8290:(e,t,r)=>{"use strict";let{Writable:i}=r(4492),n=r(8061),{parserStates:s,opcodes:o,states:a,emptyBuffer:A,sentCloseFrameState:l}=r(7979),{kReadyState:c,kSentClose:u,kResponse:h,kReceivedClose:d}=r(678),{channels:g}=r(1549),{isValidStatusCode:f,isValidOpcode:p,failWebsocketConnection:E,websocketMessageReceived:C,utf8Decode:I,isControlFrame:m,isTextBinaryFrame:B,isContinuationFrame:y}=r(1330),{WebsocketFrameSend:Q}=r(2208),{closeWebSocketConnection:w}=r(2968),{PerMessageDeflate:v}=r(1766);class b extends i{#Y=[];#H=0;#J=!1;#F=s.INFO;#q={};#W=[];#j;constructor(e,t){super(),this.ws=e,this.#j=null==t?new Map:t,this.#j.has("permessage-deflate")&&this.#j.set("permessage-deflate",new v(t))}_write(e,t,r){this.#Y.push(e),this.#H+=e.length,this.#J=!0,this.run(r)}run(e){for(;this.#J;)if(this.#F===s.INFO){if(this.#H<2)return e();let t=this.consume(2),r=(128&t[0])!=0,i=15&t[0],n=(128&t[1])==128,a=!r&&i!==o.CONTINUATION,A=127&t[1],l=64&t[0],c=32&t[0],u=16&t[0];if(!p(i))return E(this.ws,"Invalid opcode received"),e();if(n)return E(this.ws,"Frame cannot be masked"),e();if(0!==l&&!this.#j.has("permessage-deflate")){E(this.ws,"Expected RSV1 to be clear.");return}if(0!==c||0!==u){E(this.ws,"RSV1, RSV2, RSV3 must be clear");return}if(a&&!B(i)){E(this.ws,"Invalid frame type was fragmented.");return}if(B(i)&&this.#W.length>0){E(this.ws,"Expected continuation frame");return}if(this.#q.fragmented&&a){E(this.ws,"Fragmented frame exceeded 125 bytes.");return}if((A>125||a)&&m(i)){E(this.ws,"Control frame either too large or fragmented");return}if(y(i)&&0===this.#W.length&&!this.#q.compressed){E(this.ws,"Unexpected continuation frame");return}A<=125?(this.#q.payloadLength=A,this.#F=s.READ_DATA):126===A?this.#F=s.PAYLOADLENGTH_16:127===A&&(this.#F=s.PAYLOADLENGTH_64),B(i)&&(this.#q.binaryType=i,this.#q.compressed=0!==l),this.#q.opcode=i,this.#q.masked=n,this.#q.fin=r,this.#q.fragmented=a}else if(this.#F===s.PAYLOADLENGTH_16){if(this.#H<2)return e();let t=this.consume(2);this.#q.payloadLength=t.readUInt16BE(0),this.#F=s.READ_DATA}else if(this.#F===s.PAYLOADLENGTH_64){if(this.#H<8)return e();let t=this.consume(8),r=t.readUInt32BE(0);if(r>2147483648-1){E(this.ws,"Received payload length > 2^31 bytes.");return}let i=t.readUInt32BE(4);this.#q.payloadLength=(r<<8)+i,this.#F=s.READ_DATA}else if(this.#F===s.READ_DATA){if(this.#H<this.#q.payloadLength)return e();let t=this.consume(this.#q.payloadLength);if(m(this.#q.opcode))this.#J=this.parseControlFrame(t),this.#F=s.INFO;else{if(this.#q.compressed){this.#j.get("permessage-deflate").decompress(t,this.#q.fin,(t,r)=>{if(t){w(this.ws,1007,t.message,t.message.length);return}if(this.#W.push(r),!this.#q.fin){this.#F=s.INFO,this.#J=!0,this.run(e);return}C(this.ws,this.#q.binaryType,Buffer.concat(this.#W)),this.#J=!0,this.#F=s.INFO,this.#W.length=0,this.run(e)}),this.#J=!1;break}if(this.#W.push(t),!this.#q.fragmented&&this.#q.fin){let e=Buffer.concat(this.#W);C(this.ws,this.#q.binaryType,e),this.#W.length=0}this.#F=s.INFO}}}consume(e){if(e>this.#H)throw Error("Called consume() before buffers satiated.");if(0===e)return A;if(this.#Y[0].length===e)return this.#H-=this.#Y[0].length,this.#Y.shift();let t=Buffer.allocUnsafe(e),r=0;for(;r!==e;){let i=this.#Y[0],{length:n}=i;if(n+r===e){t.set(this.#Y.shift(),r);break}if(n+r>e){t.set(i.subarray(0,e-r),r),this.#Y[0]=i.subarray(e-r);break}t.set(this.#Y.shift(),r),r+=i.length}return this.#H-=e,t}parseCloseBody(e){let t;if(n(1!==e.length),e.length>=2&&(t=e.readUInt16BE(0)),void 0!==t&&!f(t))return{code:1002,reason:"Invalid status code",error:!0};let r=e.subarray(2);239===r[0]&&187===r[1]&&191===r[2]&&(r=r.subarray(3));try{r=I(r)}catch{return{code:1007,reason:"Invalid UTF-8",error:!0}}return{code:t,reason:r,error:!1}}parseControlFrame(e){let{opcode:t,payloadLength:r}=this.#q;if(t===o.CLOSE){if(1===r)return E(this.ws,"Received close frame with a 1-byte body."),!1;if(this.#q.closeInfo=this.parseCloseBody(e),this.#q.closeInfo.error){let{code:e,reason:t}=this.#q.closeInfo;return w(this.ws,e,t,t.length),E(this.ws,t),!1}if(this.ws[u]!==l.SENT){let e=A;this.#q.closeInfo.code&&(e=Buffer.allocUnsafe(2)).writeUInt16BE(this.#q.closeInfo.code,0);let t=new Q(e);this.ws[h].socket.write(t.createFrame(o.CLOSE),e=>{e||(this.ws[u]=l.SENT)})}return this.ws[c]=a.CLOSING,this.ws[d]=!0,!1}if(t===o.PING){if(!this.ws[d]){let t=new Q(e);this.ws[h].socket.write(t.createFrame(o.PONG)),g.ping.hasSubscribers&&g.ping.publish({payload:e})}}else t===o.PONG&&g.pong.hasSubscribers&&g.pong.publish({payload:e});return!0}get closingInfo(){return this.#q.closeInfo}}e.exports={ByteParser:b}},271:(e,t,r)=>{"use strict";let{WebsocketFrameSend:i}=r(2208),{opcodes:n,sendHints:s}=r(7979),o=r(3106),a=Buffer[Symbol.species];class A{#z=new o;#K=!1;#Z;constructor(e){this.#Z=e}add(e,t,r){if(r!==s.blob){let i=l(e,r);if(this.#K){let e={promise:null,callback:t,frame:i};this.#z.push(e)}else this.#Z.write(i,t);return}let i={promise:e.arrayBuffer().then(e=>{i.promise=null,i.frame=l(e,r)}),callback:t,frame:null};this.#z.push(i),this.#K||this.#X()}async #X(){this.#K=!0;let e=this.#z;for(;!e.isEmpty();){let t=e.shift();null!==t.promise&&await t.promise,this.#Z.write(t.frame,t.callback),t.callback=t.frame=null}this.#K=!1}}function l(e,t){return new i(c(e,t)).createFrame(t===s.string?n.TEXT:n.BINARY)}function c(e,t){switch(t){case s.string:return Buffer.from(e);case s.arrayBuffer:case s.blob:return new a(e);case s.typedArray:return new a(e.buffer,e.byteOffset,e.byteLength)}}e.exports={SendQueue:A}},678:e=>{"use strict";e.exports={kWebSocketURL:Symbol("url"),kReadyState:Symbol("ready state"),kController:Symbol("controller"),kResponse:Symbol("response"),kBinaryType:Symbol("binary type"),kSentClose:Symbol("sent close"),kReceivedClose:Symbol("received close"),kByteParser:Symbol("byte parser")}},1330:(e,t,r)=>{"use strict";let{kReadyState:i,kController:n,kResponse:s,kBinaryType:o,kWebSocketURL:a}=r(678),{states:A,opcodes:l}=r(7979),{ErrorEvent:c,createFastMessageEvent:u}=r(7826),{isUtf8:h}=r(2254),{collectASequenceOfCodePointsFast:d,removeHTTPWhitespace:g}=r(8097);function f(e){return e[i]===A.CONNECTING}function p(e){return e[i]===A.OPEN}function E(e){return e[i]===A.CLOSING}function C(e){return e[i]===A.CLOSED}function I(e,t,r=(e,t)=>new Event(e,t),i={}){let n=r(e,i);t.dispatchEvent(n)}function m(e,t,r){let n;if(e[i]===A.OPEN){if(t===l.TEXT)try{n=F(r)}catch{w(e,"Received invalid UTF-8 in text frame.");return}else t===l.BINARY&&(n="blob"===e[o]?new Blob([r]):B(r));I("message",e,u,{origin:e[a].origin,data:n})}}function B(e){return e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}function y(e){if(0===e.length)return!1;for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(r<33||r>126||34===r||40===r||41===r||44===r||47===r||58===r||59===r||60===r||61===r||62===r||63===r||64===r||91===r||92===r||93===r||123===r||125===r)return!1}return!0}function Q(e){return e>=1e3&&e<1015?1004!==e&&1005!==e&&1006!==e:e>=3e3&&e<=4999}function w(e,t){let{[n]:r,[s]:i}=e;r.abort(),i?.socket&&!i.socket.destroyed&&i.socket.destroy(),t&&I("error",e,(e,t)=>new c(e,t),{error:Error(t),message:t})}function v(e){return e===l.CLOSE||e===l.PING||e===l.PONG}function b(e){return e===l.CONTINUATION}function S(e){return e===l.TEXT||e===l.BINARY}function T(e){return S(e)||b(e)||v(e)}function D(e){let t={position:0},r=new Map;for(;t.position<e.length;){let[i,n=""]=d(";",e,t).split("=");r.set(g(i,!0,!1),g(n,!1,!0)),t.position++}return r}function R(e){for(let t=0;t<e.length;t++){let r=e.charCodeAt(t);if(r<48||r>57)return!1}return!0}let k="string"==typeof process.versions.icu,N=k?new TextDecoder("utf-8",{fatal:!0}):void 0,F=k?N.decode.bind(N):function(e){if(h(e))return e.toString("utf-8");throw TypeError("Invalid utf-8 received.")};e.exports={isConnecting:f,isEstablished:p,isClosing:E,isClosed:C,fireEvent:I,isValidSubprotocol:y,isValidStatusCode:Q,failWebsocketConnection:w,websocketMessageReceived:m,utf8Decode:F,isControlFrame:v,isContinuationFrame:b,isTextBinaryFrame:S,isValidOpcode:T,parseExtensions:D,isValidClientWindowBits:R}},2563:(e,t,r)=>{"use strict";let{webidl:i}=r(5007),{URLSerializer:n}=r(8097),{environmentSettingsObject:s}=r(4960),{staticPropertyDescriptors:o,states:a,sentCloseFrameState:A,sendHints:l}=r(7979),{kWebSocketURL:c,kReadyState:u,kController:h,kBinaryType:d,kResponse:g,kSentClose:f,kByteParser:p}=r(678),{isConnecting:E,isEstablished:C,isClosing:I,isValidSubprotocol:m,fireEvent:B}=r(1330),{establishWebSocketConnection:y,closeWebSocketConnection:Q}=r(2968),{ByteParser:w}=r(8290),{kEnumerableProperty:v,isBlobLike:b}=r(7211),{getGlobalDispatcher:S}=r(2051),{types:T}=r(7261),{ErrorEvent:D,CloseEvent:R}=r(7826),{SendQueue:k}=r(271);class N extends EventTarget{#S={open:null,error:null,close:null,message:null};#$=0;#ee="";#j="";#et;constructor(e,t=[]){let r;super();let n="WebSocket constructor";i.argumentLengthCheck(arguments,1,n);let o=i.converters["DOMString or sequence<DOMString> or WebSocketInit"](t,n,"options");e=i.converters.USVString(e,n,"url"),t=o.protocols;let a=s.settingsObject.baseUrl;try{r=new URL(e,a)}catch(e){throw new DOMException(e,"SyntaxError")}if("http:"===r.protocol?r.protocol="ws:":"https:"===r.protocol&&(r.protocol="wss:"),"ws:"!==r.protocol&&"wss:"!==r.protocol)throw new DOMException(`Expected a ws: or wss: protocol, got ${r.protocol}`,"SyntaxError");if(r.hash||r.href.endsWith("#"))throw new DOMException("Got fragment","SyntaxError");if("string"==typeof t&&(t=[t]),t.length!==new Set(t.map(e=>e.toLowerCase())).size||t.length>0&&!t.every(e=>m(e)))throw new DOMException("Invalid Sec-WebSocket-Protocol value","SyntaxError");this[c]=new URL(r.href);let l=s.settingsObject;this[h]=y(r,t,l,this,(e,t)=>this.#er(e,t),o),this[u]=N.CONNECTING,this[f]=A.NOT_SENT,this[d]="blob"}close(e,t){i.brandCheck(this,N);let r="WebSocket.close";if(void 0!==e&&(e=i.converters["unsigned short"](e,r,"code",{clamp:!0})),void 0!==t&&(t=i.converters.USVString(t,r,"reason")),void 0!==e&&1e3!==e&&(e<3e3||e>4999))throw new DOMException("invalid code","InvalidAccessError");let n=0;if(void 0!==t&&(n=Buffer.byteLength(t))>123)throw new DOMException(`Reason must be less than 123 bytes; received ${n}`,"SyntaxError");Q(this,e,t,n)}send(e){i.brandCheck(this,N);let t="WebSocket.send";if(i.argumentLengthCheck(arguments,1,t),e=i.converters.WebSocketSendData(e,t,"data"),E(this))throw new DOMException("Sent before connected.","InvalidStateError");if(!(!C(this)||I(this))){if("string"==typeof e){let t=Buffer.byteLength(e);this.#$+=t,this.#et.add(e,()=>{this.#$-=t},l.string)}else T.isArrayBuffer(e)?(this.#$+=e.byteLength,this.#et.add(e,()=>{this.#$-=e.byteLength},l.arrayBuffer)):ArrayBuffer.isView(e)?(this.#$+=e.byteLength,this.#et.add(e,()=>{this.#$-=e.byteLength},l.typedArray)):b(e)&&(this.#$+=e.size,this.#et.add(e,()=>{this.#$-=e.size},l.blob))}}get readyState(){return i.brandCheck(this,N),this[u]}get bufferedAmount(){return i.brandCheck(this,N),this.#$}get url(){return i.brandCheck(this,N),n(this[c])}get extensions(){return i.brandCheck(this,N),this.#j}get protocol(){return i.brandCheck(this,N),this.#ee}get onopen(){return i.brandCheck(this,N),this.#S.open}set onopen(e){i.brandCheck(this,N),this.#S.open&&this.removeEventListener("open",this.#S.open),"function"==typeof e?(this.#S.open=e,this.addEventListener("open",e)):this.#S.open=null}get onerror(){return i.brandCheck(this,N),this.#S.error}set onerror(e){i.brandCheck(this,N),this.#S.error&&this.removeEventListener("error",this.#S.error),"function"==typeof e?(this.#S.error=e,this.addEventListener("error",e)):this.#S.error=null}get onclose(){return i.brandCheck(this,N),this.#S.close}set onclose(e){i.brandCheck(this,N),this.#S.close&&this.removeEventListener("close",this.#S.close),"function"==typeof e?(this.#S.close=e,this.addEventListener("close",e)):this.#S.close=null}get onmessage(){return i.brandCheck(this,N),this.#S.message}set onmessage(e){i.brandCheck(this,N),this.#S.message&&this.removeEventListener("message",this.#S.message),"function"==typeof e?(this.#S.message=e,this.addEventListener("message",e)):this.#S.message=null}get binaryType(){return i.brandCheck(this,N),this[d]}set binaryType(e){i.brandCheck(this,N),"blob"!==e&&"arraybuffer"!==e?this[d]="blob":this[d]=e}#er(e,t){this[g]=e;let r=new w(this,t);r.on("drain",F),r.on("error",M.bind(this)),e.socket.ws=this,this[p]=r,this.#et=new k(e.socket),this[u]=a.OPEN;let i=e.headersList.get("sec-websocket-extensions");null!==i&&(this.#j=i);let n=e.headersList.get("sec-websocket-protocol");null!==n&&(this.#ee=n),B("open",this)}}function F(){this.ws[g].socket.resume()}function M(e){let t,r;e instanceof R?(t=e.reason,r=e.code):t=e.message,B("error",this,()=>new D("error",{error:e,message:t})),Q(this,r)}N.CONNECTING=N.prototype.CONNECTING=a.CONNECTING,N.OPEN=N.prototype.OPEN=a.OPEN,N.CLOSING=N.prototype.CLOSING=a.CLOSING,N.CLOSED=N.prototype.CLOSED=a.CLOSED,Object.defineProperties(N.prototype,{CONNECTING:o,OPEN:o,CLOSING:o,CLOSED:o,url:v,readyState:v,bufferedAmount:v,onopen:v,onerror:v,onclose:v,close:v,onmessage:v,binaryType:v,send:v,extensions:v,protocol:v,[Symbol.toStringTag]:{value:"WebSocket",writable:!1,enumerable:!1,configurable:!0}}),Object.defineProperties(N,{CONNECTING:o,OPEN:o,CLOSING:o,CLOSED:o}),i.converters["sequence<DOMString>"]=i.sequenceConverter(i.converters.DOMString),i.converters["DOMString or sequence<DOMString>"]=function(e,t,r){return"Object"===i.util.Type(e)&&Symbol.iterator in e?i.converters["sequence<DOMString>"](e):i.converters.DOMString(e,t,r)},i.converters.WebSocketInit=i.dictionaryConverter([{key:"protocols",converter:i.converters["DOMString or sequence<DOMString>"],defaultValue:()=>[]},{key:"dispatcher",converter:i.converters.any,defaultValue:()=>S()},{key:"headers",converter:i.nullableConverter(i.converters.HeadersInit)}]),i.converters["DOMString or sequence<DOMString> or WebSocketInit"]=function(e){return"Object"!==i.util.Type(e)||Symbol.iterator in e?{protocols:i.converters["DOMString or sequence<DOMString>"](e)}:i.converters.WebSocketInit(e)},i.converters.WebSocketSendData=function(e){if("Object"===i.util.Type(e)){if(b(e))return i.converters.Blob(e,{strict:!1});if(ArrayBuffer.isView(e)||T.isArrayBuffer(e))return i.converters.BufferSource(e)}return i.converters.USVString(e)},e.exports={WebSocket:N}},6846:(e,t,r)=>{"use strict";let i,n,s,o,a,A,l,c,u,h,d;r.r(t),r.d(t,{default:()=>Bz});var g,f,p,E,C,I=r(326),m=r(7577);let B={NODE_CLIENT:!1,SDK_VERSION:"${JSCORE_VERSION}"},y=function(e){let t=[],r=0;for(let i=0;i<e.length;i++){let n=e.charCodeAt(i);n<128?t[r++]=n:(n<2048?t[r++]=n>>6|192:((64512&n)==55296&&i+1<e.length&&(64512&e.charCodeAt(i+1))==56320?(n=65536+((1023&n)<<10)+(1023&e.charCodeAt(++i)),t[r++]=n>>18|240,t[r++]=n>>12&63|128):t[r++]=n>>12|224,t[r++]=n>>6&63|128),t[r++]=63&n|128)}return t},Q=function(e){let t=[],r=0,i=0;for(;r<e.length;){let n=e[r++];if(n<128)t[i++]=String.fromCharCode(n);else if(n>191&&n<224){let s=e[r++];t[i++]=String.fromCharCode((31&n)<<6|63&s)}else if(n>239&&n<365){let s=((7&n)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++])-65536;t[i++]=String.fromCharCode(55296+(s>>10)),t[i++]=String.fromCharCode(56320+(1023&s))}else{let s=e[r++],o=e[r++];t[i++]=String.fromCharCode((15&n)<<12|(63&s)<<6|63&o)}}return t.join("")},w={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let t=0;t<e.length;t+=3){let n=e[t],s=t+1<e.length,o=s?e[t+1]:0,a=t+2<e.length,A=a?e[t+2]:0,l=n>>2,c=(3&n)<<4|o>>4,u=(15&o)<<2|A>>6,h=63&A;a||(h=64,s||(u=64)),i.push(r[l],r[c],r[u],r[h])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(y(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Q(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let r=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let t=0;t<e.length;){let n=r[e.charAt(t++)],s=t<e.length?r[e.charAt(t)]:0,o=++t<e.length?r[e.charAt(t)]:64,a=++t<e.length?r[e.charAt(t)]:64;if(++t,null==n||null==s||null==o||null==a)throw new v;let A=n<<2|s>>4;if(i.push(A),64!==o){let e=s<<4&240|o>>2;if(i.push(e),64!==a){let e=o<<6&192|a;i.push(e)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class v extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}let b=function(e){let t=y(e);return w.encodeByteArray(t,!0)},S=function(e){return b(e).replace(/\./g,"")},T=function(e){try{return w.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function D(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw Error("Unable to locate global object.")}let R=()=>D().__FIREBASE_DEFAULTS__,k=()=>{if("undefined"==typeof process||void 0===process.env)return;let e=process.env.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},N=()=>{let e;if("undefined"==typeof document)return;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}let t=e&&T(e[1]);return t&&JSON.parse(t)},F=()=>{try{return R()||k()||N()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},M=e=>{var t,r;return null===(r=null===(t=F())||void 0===t?void 0:t.emulatorHosts)||void 0===r?void 0:r[e]},L=e=>{let t=M(e);if(!t)return;let r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw Error(`Invalid host ${t} with no separate hostname and port!`);let i=parseInt(t.substring(r+1),10);return"["===t[0]?[t.substring(1,r-1),i]:[t.substring(0,r),i]},U=()=>{var e;return null===(e=F())||void 0===e?void 0:e.config};class _{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function x(e,t){if(e.uid)throw Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let r={alg:"none",type:"JWT"},i=t||"demo-project",n=e.iat||0,s=e.sub||e.user_id;if(!s)throw Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:n,exp:n+3600,auth_time:n,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[S(JSON.stringify(r)),S(JSON.stringify(o)),a].join(".")}function O(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function P(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(O())}function V(){var e;let t=null===(e=F())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}function G(){return"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function Y(){let e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function H(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function J(){return!V()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function q(){try{return"object"==typeof indexedDB}catch(e){return!1}}function W(){return new Promise((e,t)=>{try{let r=!0,i="validate-browser-context-for-indexeddb-analytics-module",n=self.indexedDB.open(i);n.onsuccess=()=>{n.result.close(),r||self.indexedDB.deleteDatabase(i),e(!0)},n.onupgradeneeded=()=>{r=!1},n.onerror=()=>{var e;t((null===(e=n.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}})}function j(){return"undefined"!=typeof navigator&&!!navigator.cookieEnabled}let z="FirebaseError";class K extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=z,Object.setPrototypeOf(this,K.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Z.prototype.create)}}class Z{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,n=this.errors[e],s=n?X(n,r):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new K(i,o,r)}}function X(e,t){return e.replace($,(e,r)=>{let i=t[r];return null!=i?String(i):`<${r}?>`})}let $=/\{\$([^}]+)}/g;function ee(e,t){if(e===t)return!0;let r=Object.keys(e),i=Object.keys(t);for(let n of r){if(!i.includes(n))return!1;let r=e[n],s=t[n];if(et(r)&&et(s)){if(!ee(r,s))return!1}else if(r!==s)return!1}for(let e of i)if(!r.includes(e))return!1;return!0}function et(e){return null!==e&&"object"==typeof e}function er(e){let t=[];for(let[r,i]of Object.entries(e))Array.isArray(i)?i.forEach(e=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function ei(e){let t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){let[r,i]=e.split("=");t[decodeURIComponent(r)]=decodeURIComponent(i)}}),t}function en(e){let t=e.indexOf("?");if(!t)return"";let r=e.indexOf("#",t);return e.substring(t,r>0?r:void 0)}function es(e,t){let r=new eo(e,t);return r.subscribe.bind(r)}class eo{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw Error("Missing Observer.");void 0===(i=ea(e,["next","error","complete"])?e:{next:e,error:t,complete:r}).next&&(i.next=eA),void 0===i.error&&(i.error=eA),void 0===i.complete&&(i.complete=eA);let n=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(e){}}),this.observers.push(i),n}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ea(e,t){if("object"!=typeof e||null===e)return!1;for(let r of t)if(r in e&&"function"==typeof e[r])return!0;return!1}function eA(){}let el=1e3,ec=2,eu=144e5,eh=.5;function ed(e,t=el,r=ec){let i=t*Math.pow(r,e),n=Math.round(eh*i*(Math.random()-.5)*2);return Math.min(eu,i+n)}function eg(e){return e&&e._delegate?e._delegate:e}B.NODE_CLIENT=!0;class ef{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}let ep="[DEFAULT]";class eE{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let e=new _;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:t});r&&e.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(e){if(i)return null;throw e}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(eI(e))try{this.getOrInitializeService({instanceIdentifier:ep})}catch(e){}for(let[e,t]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:r});t.resolve(e)}catch(e){}}}}clearInstance(e=ep){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=ep){return this.instances.has(e)}getOptions(e=ep){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[e,t]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(e)&&t.resolve(i);return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),n=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;n.add(e),this.onInitCallbacks.set(i,n);let s=this.instances.get(i);return s&&e(s,i),()=>{n.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:eC(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(e){}return r||null}normalizeInstanceIdentifier(e=ep){return this.component?this.component.multipleInstances?e:ep:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function eC(e){return e===ep?void 0:e}function eI(e){return"EAGER"===e.instantiationMode}class em{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new eE(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}let eB=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(g||(g={}));let ey={debug:g.DEBUG,verbose:g.VERBOSE,info:g.INFO,warn:g.WARN,error:g.ERROR,silent:g.SILENT},eQ=g.INFO,ew={[g.DEBUG]:"log",[g.VERBOSE]:"log",[g.INFO]:"info",[g.WARN]:"warn",[g.ERROR]:"error"},ev=(e,t,...r)=>{if(t<e.logLevel)return;let i=new Date().toISOString(),n=ew[t];if(n)console[n](`[${i}]  ${e.name}:`,...r);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class eb{constructor(e){this.name=e,this._logLevel=eQ,this._logHandler=ev,this._userLogHandler=null,eB.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in g))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?ey[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,g.DEBUG,...e),this._logHandler(this,g.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,g.VERBOSE,...e),this._logHandler(this,g.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,g.INFO,...e),this._logHandler(this,g.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,g.WARN,...e),this._logHandler(this,g.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,g.ERROR,...e),this._logHandler(this,g.ERROR,...e)}}let eS=(e,t)=>t.some(t=>e instanceof t);function eT(){return i||(i=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eD(){return n||(n=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}let eR=new WeakMap,ek=new WeakMap,eN=new WeakMap,eF=new WeakMap,eM=new WeakMap;function eL(e){let t=new Promise((t,r)=>{let i=()=>{e.removeEventListener("success",n),e.removeEventListener("error",s)},n=()=>{t(eV(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",n),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&eR.set(t,e)}).catch(()=>{}),eM.set(t,e),t}function eU(e){if(ek.has(e))return;let t=new Promise((t,r)=>{let i=()=>{e.removeEventListener("complete",n),e.removeEventListener("error",s),e.removeEventListener("abort",s)},n=()=>{t(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",n),e.addEventListener("error",s),e.addEventListener("abort",s)});ek.set(e,t)}let e_={get(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return ek.get(e);if("objectStoreNames"===t)return e.objectStoreNames||eN.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return eV(e[t])},set:(e,t,r)=>(e[t]=r,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function ex(e){e_=e(e_)}function eO(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?eD().includes(e)?function(...t){return e.apply(eG(this),t),eV(eR.get(this))}:function(...t){return eV(e.apply(eG(this),t))}:function(t,...r){let i=e.call(eG(this),t,...r);return eN.set(i,t.sort?t.sort():[t]),eV(i)}}function eP(e){return"function"==typeof e?eO(e):(e instanceof IDBTransaction&&eU(e),eS(e,eT()))?new Proxy(e,e_):e}function eV(e){if(e instanceof IDBRequest)return eL(e);if(eF.has(e))return eF.get(e);let t=eP(e);return t!==e&&(eF.set(e,t),eM.set(t,e)),t}let eG=e=>eM.get(e);function eY(e,t,{blocked:r,upgrade:i,blocking:n,terminated:s}={}){let o=indexedDB.open(e,t),a=eV(o);return i&&o.addEventListener("upgradeneeded",e=>{i(eV(o.result),e.oldVersion,e.newVersion,eV(o.transaction),e)}),r&&o.addEventListener("blocked",e=>r(e.oldVersion,e.newVersion,e)),a.then(e=>{s&&e.addEventListener("close",()=>s()),n&&e.addEventListener("versionchange",e=>n(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}let eH=["get","getKey","getAll","getAllKeys","count"],eJ=["put","add","delete","clear"],eq=new Map;function eW(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t))return;if(eq.get(t))return eq.get(t);let r=t.replace(/FromIndex$/,""),i=t!==r,n=eJ.includes(r);if(!(r in(i?IDBIndex:IDBObjectStore).prototype)||!(n||eH.includes(r)))return;let s=async function(e,...t){let s=this.transaction(e,n?"readwrite":"readonly"),o=s.store;return i&&(o=o.index(t.shift())),(await Promise.all([o[r](...t),n&&s.done]))[0]};return eq.set(t,s),s}ex(e=>({...e,get:(t,r,i)=>eW(t,r)||e.get(t,r,i),has:(t,r)=>!!eW(t,r)||e.has(t,r)}));class ej{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(!ez(e))return null;{let t=e.getImmediate();return`${t.library}/${t.version}`}}).filter(e=>e).join(" ")}}function ez(e){let t=e.getComponent();return(null==t?void 0:t.type)==="VERSION"}let eK="@firebase/app",eZ="0.10.13",eX=new eb("@firebase/app"),e$="10.14.1",e0="[DEFAULT]",e1={[eK]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},e2=new Map,e9=new Map,e4=new Map;function e5(e,t){try{e.container.addComponent(t)}catch(r){eX.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function e3(e){let t=e.name;if(e4.has(t))return eX.debug(`There were multiple attempts to register component ${t}.`),!1;for(let r of(e4.set(t,e),e2.values()))e5(r,e);for(let t of e9.values())e5(t,e);return!0}function e6(e,t){let r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function e8(e){return void 0!==e.settings}let e7=new Z("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class te{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ef("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw e7.create("app-deleted",{appName:this._name})}}let tt=e$;function tr(e,t={}){let r=e;"object"!=typeof t&&(t={name:t});let i=Object.assign({name:e0,automaticDataCollectionEnabled:!1},t),n=i.name;if("string"!=typeof n||!n)throw e7.create("bad-app-name",{appName:String(n)});if(r||(r=U()),!r)throw e7.create("no-options");let s=e2.get(n);if(s){if(ee(r,s.options)&&ee(i,s.config))return s;throw e7.create("duplicate-app",{appName:n})}let o=new em(n);for(let e of e4.values())o.addComponent(e);let a=new te(r,i,o);return e2.set(n,a),a}function ti(e=e0){let t=e2.get(e);if(!t&&e===e0&&U())return tr();if(!t)throw e7.create("no-app",{appName:e});return t}function tn(){return Array.from(e2.values())}function ts(e,t,r){var i;let n=null!==(i=e1[e])&&void 0!==i?i:e;r&&(n+=`-${r}`);let s=n.match(/\s|\//),o=t.match(/\s|\//);if(s||o){let e=[`Unable to register library "${n}" with version "${t}":`];s&&e.push(`library name "${n}" contains illegal characters (whitespace or "/")`),s&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),eX.warn(e.join(" "));return}e3(new ef(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}let to="firebase-heartbeat-database",ta=1,tA="firebase-heartbeat-store",tl=null;function tc(){return tl||(tl=eY(to,ta,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(tA)}catch(e){console.warn(e)}}}).catch(e=>{throw e7.create("idb-open",{originalErrorMessage:e.message})})),tl}async function tu(e){try{let t=(await tc()).transaction(tA),r=await t.objectStore(tA).get(td(e));return await t.done,r}catch(e){if(e instanceof K)eX.warn(e.message);else{let t=e7.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});eX.warn(t.message)}}}async function th(e,t){try{let r=(await tc()).transaction(tA,"readwrite"),i=r.objectStore(tA);await i.put(t,td(e)),await r.done}catch(e){if(e instanceof K)eX.warn(e.message);else{let t=e7.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});eX.warn(t.message)}}}function td(e){return`${e.name}!${e.options.appId}`}let tg=1024,tf=2592e6;class tp{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new tI(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=tE();if((null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(e=>e.date===i))return;return this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{let t=new Date(e.date).valueOf();return Date.now()-t<=tf}),this._storage.overwrite(this._heartbeatsCache)}catch(e){eX.warn(e)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)==null||0===this._heartbeatsCache.heartbeats.length)return"";let t=tE(),{heartbeatsToSend:r,unsentEntries:i}=tC(this._heartbeatsCache.heartbeats),n=S(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),n}catch(e){return eX.warn(e),""}}}function tE(){return new Date().toISOString().substring(0,10)}function tC(e,t=tg){let r=[],i=e.slice();for(let n of e){let e=r.find(e=>e.agent===n.agent);if(e){if(e.dates.push(n.date),tm(r)>t){e.dates.pop();break}}else if(r.push({agent:n.agent,dates:[n.date]}),tm(r)>t){r.pop();break}i=i.slice(1)}return{heartbeatsToSend:r,unsentEntries:i}}class tI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!q()&&W().then(()=>!0).catch(()=>!1)}async read(){if(!await this._canUseIndexedDBPromise)return{heartbeats:[]};{let e=await tu(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){let r=await this.read();return th(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){let r=await this.read();return th(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}}}function tm(e){return S(JSON.stringify({version:2,heartbeats:e})).length}(function(e){e3(new ef("platform-logger",e=>new ej(e),"PRIVATE")),e3(new ef("heartbeat",e=>new tp(e),"PRIVATE")),ts(eK,eZ,""),ts(eK,eZ,"esm2017"),ts("fire-js","")})(0),ts("firebase","10.14.1","app");function tB(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>t.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)0>t.indexOf(i[n])&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r}Object.create;Object.create;var ty=("function"==typeof SuppressedError&&SuppressedError,r(3962));function tQ(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}let tw=tQ,tv=new Z("auth","Firebase",tQ()),tb=new eb("@firebase/auth");function tS(e,...t){tb.logLevel<=g.WARN&&tb.warn(`Auth (${tt}): ${e}`,...t)}function tT(e,...t){tb.logLevel<=g.ERROR&&tb.error(`Auth (${tt}): ${e}`,...t)}function tD(e,...t){throw tF(e,...t)}function tR(e,...t){return tF(e,...t)}function tk(e,t,r){return new Z("auth","Firebase",Object.assign(Object.assign({},tw()),{[t]:r})).create(t,{appName:e.name})}function tN(e){return tk(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tF(e,...t){if("string"!=typeof e){let r=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(r,...i)}return tv.create(e,...t)}function tM(e,t,...r){if(!e)throw tF(t,...r)}function tL(e){let t="INTERNAL ASSERTION FAILED: "+e;throw tT(t),Error(t)}function tU(e,t){e||tL(t)}function t_(){return"http:"===tx()||"https:"===tx()}function tx(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function tO(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(t_()||Y()||"connection"in navigator))||navigator.onLine}function tP(){if("undefined"==typeof navigator)return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}class tV{constructor(e,t){this.shortDelay=e,this.longDelay=t,tU(t>e,"Short delay should be less than long delay!"),this.isMobile=P()||H()}get(){return tO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function tG(e,t){tU(e.emulator,"Emulator should always be set here");let{url:r}=e.emulator;return t?`${r}${t.startsWith("/")?t.slice(1):t}`:r}class tY{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void tL("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void tL("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void tL("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}let tH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},tJ=new tV(3e4,6e4);function tq(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function tW(e,t,r,i,n={}){return tj(e,n,async()=>{let n={},s={};i&&("GET"===t?s=i:n={body:JSON.stringify(i)});let o=er(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);let A=Object.assign({method:t,headers:a},n);return G()||(A.referrerPolicy="no-referrer"),tY.fetch()(tK(e,e.config.apiHost,r,o),A)})}async function tj(e,t,r){e._canInitEmulator=!1;let i=Object.assign(Object.assign({},tH),t);try{let t=new tX(e),n=await Promise.race([r(),t.promise]);t.clearNetworkTimeout();let s=await n.json();if("needConfirmation"in s)throw t$(e,"account-exists-with-different-credential",s);if(n.ok&&!("errorMessage"in s))return s;{let[t,r]=(n.ok?s.errorMessage:s.error.message).split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===t)throw t$(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===t)throw t$(e,"email-already-in-use",s);if("USER_DISABLED"===t)throw t$(e,"user-disabled",s);let o=i[t]||t.toLowerCase().replace(/[_\s]+/g,"-");if(r)throw tk(e,o,r);tD(e,o)}}catch(t){if(t instanceof K)throw t;tD(e,"network-request-failed",{message:String(t)})}}async function tz(e,t,r,i,n={}){let s=await tW(e,t,r,i,n);return"mfaPendingCredential"in s&&tD(e,"multi-factor-auth-required",{_serverResponse:s}),s}function tK(e,t,r,i){let n=`${t}${r}?${i}`;return e.config.emulator?tG(e.config,n):`${e.config.apiScheme}://${n}`}function tZ(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class tX{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(tR(this.auth,"network-request-failed")),tJ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function t$(e,t,r){let i={appName:e.name};r.email&&(i.email=r.email),r.phoneNumber&&(i.phoneNumber=r.phoneNumber);let n=tR(e,t,i);return n.customData._tokenResponse=r,n}function t0(e){return void 0!==e&&void 0!==e.enterprise}class t1{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return tZ(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function t2(e,t){return tW(e,"GET","/v2/recaptchaConfig",tq(e,t))}async function t9(e,t){return tW(e,"POST","/v1/accounts:delete",t)}async function t4(e,t){return tW(e,"POST","/v1/accounts:lookup",t)}function t5(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}async function t3(e,t=!1){let r=eg(e),i=await r.getIdToken(t),n=t8(i);tM(n&&n.exp&&n.auth_time&&n.iat,r.auth,"internal-error");let s="object"==typeof n.firebase?n.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:n,token:i,authTime:t5(t6(n.auth_time)),issuedAtTime:t5(t6(n.iat)),expirationTime:t5(t6(n.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}function t6(e){return 1e3*Number(e)}function t8(e){let[t,r,i]=e.split(".");if(void 0===t||void 0===r||void 0===i)return tT("JWT malformed, contained fewer than 3 sections"),null;try{let e=T(r);if(!e)return tT("Failed to decode base64 JWT payload"),null;return JSON.parse(e)}catch(e){return tT("Caught error parsing JWT payload as JSON",null==e?void 0:e.toString()),null}}function t7(e){let t=t8(e);return tM(t,"internal-error"),tM(void 0!==t.exp,"internal-error"),tM(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function re(e,t,r=!1){if(r)return t;try{return await t}catch(t){throw t instanceof K&&rt(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}function rt({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}class rr{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(!e)return this.errorBackoff=3e4,Math.max(0,(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5);{let e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(null==e?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ri{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=t5(this.lastLoginAt),this.creationTime=t5(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function rn(e){var t;let r=e.auth,i=await e.getIdToken(),n=await re(e,t4(r,{idToken:i}));tM(null==n?void 0:n.users.length,r,"internal-error");let s=n.users[0];e._notifyReloadListener(s);let o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?ra(s.providerUserInfo):[],a=ro(e.providerData,o),A=e.isAnonymous,l=!(e.email&&s.passwordHash)&&!(null==a?void 0:a.length),c=!!A&&l;Object.assign(e,{uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ri(s.createdAt,s.lastLoginAt),isAnonymous:c})}async function rs(e){let t=eg(e);await rn(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function ro(e,t){return[...e.filter(e=>!t.some(t=>t.providerId===e.providerId)),...t]}function ra(e){return e.map(e=>{var{providerId:t}=e,r=tB(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function rA(e,t){let r=await tj(e,{},async()=>{let r=er({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:n}=e.config,s=tK(e,i,"/v1/token",`key=${n}`),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",tY.fetch()(s,{method:"POST",headers:o,body:r})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function rl(e,t){return tW(e,"POST","/v2/accounts:revokeToken",tq(e,t))}class rc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){tM(e.idToken,"internal-error"),tM(void 0!==e.idToken,"internal-error"),tM(void 0!==e.refreshToken,"internal-error");let t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):t7(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){tM(0!==e.length,"internal-error");let t=t7(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return t||!this.accessToken||this.isExpired?(tM(this.refreshToken,e,"user-token-expired"),this.refreshToken)?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:r,refreshToken:i,expiresIn:n}=await rA(e,t);this.updateTokensAndExpiration(r,i,Number(n))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:n}=t,s=new rc;return r&&(tM("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(tM("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),n&&(tM("number"==typeof n,"internal-error",{appName:e}),s.expirationTime=n),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new rc,this.toJSON())}_performRefresh(){return tL("not implemented")}}function ru(e,t){tM("string"==typeof e||void 0===e,"internal-error",{appName:t})}class rh{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,n=tB(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=n.displayName||null,this.email=n.email||null,this.emailVerified=n.emailVerified||!1,this.phoneNumber=n.phoneNumber||null,this.photoURL=n.photoURL||null,this.isAnonymous=n.isAnonymous||!1,this.tenantId=n.tenantId||null,this.providerData=n.providerData?[...n.providerData]:[],this.metadata=new ri(n.createdAt||void 0,n.lastLoginAt||void 0)}async getIdToken(e){let t=await re(this,this.stsTokenManager.getToken(this.auth,e));return tM(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return t3(this,e)}reload(){return rs(this)}_assign(e){this!==e&&(tM(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new rh(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){tM(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await rn(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(e8(this.auth.app))return Promise.reject(tN(this.auth));let e=await this.getIdToken();return await re(this,t9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,n,s,o,a,A,l;let c=null!==(r=t.displayName)&&void 0!==r?r:void 0,u=null!==(i=t.email)&&void 0!==i?i:void 0,h=null!==(n=t.phoneNumber)&&void 0!==n?n:void 0,d=null!==(s=t.photoURL)&&void 0!==s?s:void 0,g=null!==(o=t.tenantId)&&void 0!==o?o:void 0,f=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,p=null!==(A=t.createdAt)&&void 0!==A?A:void 0,E=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:C,emailVerified:I,isAnonymous:m,providerData:B,stsTokenManager:y}=t;tM(C&&y,e,"internal-error");let Q=rc.fromJSON(this.name,y);tM("string"==typeof C,e,"internal-error"),ru(c,e.name),ru(u,e.name),tM("boolean"==typeof I,e,"internal-error"),tM("boolean"==typeof m,e,"internal-error"),ru(h,e.name),ru(d,e.name),ru(g,e.name),ru(f,e.name),ru(p,e.name),ru(E,e.name);let w=new rh({uid:C,auth:e,email:u,emailVerified:I,displayName:c,isAnonymous:m,photoURL:d,phoneNumber:h,tenantId:g,stsTokenManager:Q,createdAt:p,lastLoginAt:E});return B&&Array.isArray(B)&&(w.providerData=B.map(e=>Object.assign({},e))),f&&(w._redirectEventId=f),w}static async _fromIdTokenResponse(e,t,r=!1){let i=new rc;i.updateFromServerResponse(t);let n=new rh({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await rn(n),n}static async _fromGetAccountInfoResponse(e,t,r){let i=t.users[0];tM(void 0!==i.localId,"internal-error");let n=void 0!==i.providerUserInfo?ra(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(null==n?void 0:n.length),o=new rc;o.updateFromIdToken(r);let a=new rh({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:s});return Object.assign(a,{uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:n,metadata:new ri(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(null==n?void 0:n.length)}),a}}let rd=new Map;function rg(e){tU(e instanceof Function,"Expected a class definition");let t=rd.get(e);return t?tU(t instanceof e,"Instance stored in cache mismatched with class"):(t=new e,rd.set(e,t)),t}class rf{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){let t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}rf.type="NONE";let rp=rf;function rE(e,t,r){return`firebase:${e}:${t}:${r}`}class rC{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:n}=this.auth;this.fullUserKey=rE(this.userKey,i.apiKey,n),this.fullPersistenceKey=rE("persistence",i.apiKey,n),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);return e?rh._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new rC(rg(rp),e,r);let i=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e),n=i[0]||rg(rp),s=rE(r,e.config.apiKey,e.name),o=null;for(let r of t)try{let t=await r._get(s);if(t){let i=rh._fromJSON(e,t);r!==n&&(o=i),n=r;break}}catch(e){}let a=i.filter(e=>e._shouldAllowMigration);return n._shouldAllowMigration&&a.length&&(n=a[0],o&&await n._set(s,o.toJSON()),await Promise.all(t.map(async e=>{if(e!==n)try{await e._remove(s)}catch(e){}}))),new rC(n,e,r)}}function rI(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(rQ(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";{if(t.includes("edge/"))return"Edge";if(rm(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(rv(t))return"Blackberry";if(rb(t))return"Webos";if(rB(t))return"Safari";if((t.includes("chrome/")||ry(t))&&!t.includes("edge/"))return"Chrome";if(rw(t))return"Android";let r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(r);if((null==i?void 0:i.length)===2)return i[1]}return"Other"}function rm(e=O()){return/firefox\//i.test(e)}function rB(e=O()){let t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ry(e=O()){return/crios\//i.test(e)}function rQ(e=O()){return/iemobile/i.test(e)}function rw(e=O()){return/android/i.test(e)}function rv(e=O()){return/blackberry/i.test(e)}function rb(e=O()){return/webos/i.test(e)}function rS(e,t=[]){let r;switch(e){case"Browser":r=rI(O());break;case"Worker":r=`${rI(O())}-${e}`;break;default:r=e}let i=t.length?t.join(","):"FirebaseCore-web";return`${r}/JsCore/${tt}/${i}`}class rT{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=t=>new Promise((r,i)=>{try{let i=e(t);r(i)}catch(e){i(e)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(e){for(let e of(t.reverse(),t))try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==e?void 0:e.message})}}}async function rD(e,t={}){return tW(e,"GET","/v2/passwordPolicy",tq(e,t))}let rR=6;class rk{constructor(e){var t,r,i,n;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:rR,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(n=e.forceUpgradeOnSignin)&&void 0!==n&&n,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,n,s,o;let a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(r=a.meetsMaxPasswordLength)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsLowercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(n=a.containsUppercaseLetter)||void 0===n||n),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,n){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=n))}}class rN{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rM(this),this.idTokenSubscription=new rM(this),this.beforeStateQueue=new rT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=rg(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await rC.create(this,e),!this._deleted)){if(null===(r=this._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(this.currentUser||e){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await t4(this,{idToken:e}),r=await rh._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(e8(this.app)){let e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}let r=await this.assertedPersistence.getCurrentUser(),i=r,n=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let r=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null==i?void 0:i._redirectEventId,o=await this.tryRedirectSignIn(e);(!r||r===s)&&(null==o?void 0:o.user)&&(i=o.user,n=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(n)try{await this.beforeStateQueue.runMiddleware(i)}catch(e){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return(tM(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId)?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await rn(e)}catch(e){if((null==e?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(e8(this.app))return Promise.reject(tN(this));let t=e?eg(e):null;return t&&tM(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&tM(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return e8(this.app)?Promise.reject(tN(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return e8(this.app)?Promise.reject(tN(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rg(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=new rk(await rD(this));null===this.tenantId?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Z("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await rl(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){let r=await this.getOrInitRedirectPersistenceManager(t);return null===e?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&rg(e)||this._popupRedirectResolver;tM(t,this,"argument-error"),this.redirectPersistenceManager=await rC.create(this,[rg(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return(this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e)?this._currentUser:(null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let n="function"==typeof t?t:t.next.bind(t),s=!1,o=this._isInitialized?Promise.resolve():this._initializationPromise;if(tM(o,this,"internal-error"),o.then(()=>{s||n(this.currentUser)}),"function"==typeof t){let n=e.addObserver(t,r,i);return()=>{s=!0,n()}}{let r=e.addObserver(t);return()=>{s=!0,r()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return tM(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=await (null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);let i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;let t=await (null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null==t?void 0:t.error)&&tS(`Error while retrieving App Check token: ${t.error}`),null==t?void 0:t.token}}function rF(e){return eg(e)}class rM{constructor(e){this.auth=e,this.observer=null,this.addObserver=es(e=>this.observer=e)}get next(){return tM(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let rL={async loadJS(){throw Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rU(e){return rL.loadJS(e)}function r_(){return rL.recaptchaEnterpriseScript}let rx="recaptcha-enterprise",rO="NO_RECAPTCHA";class rP{constructor(e){this.type=rx,this.auth=rF(e)}async verify(e="verify",t=!1){async function r(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,r)=>{t2(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(i=>{if(void 0===i.recaptchaKey)r(Error("recaptcha Enterprise site key undefined"));else{let r=new t1(i);return null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,t(r.siteKey)}}).catch(e=>{r(e)})})}function i(t,r,i){let n=window.grecaptcha;t0(n)?n.enterprise.ready(()=>{n.enterprise.execute(t,{action:e}).then(e=>{r(e)}).catch(()=>{r(rO)})}):i(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,n)=>{r(this.auth).then(r=>{if(!t&&t0(window.grecaptcha))i(r,e,n);else{if("undefined"==typeof window){n(Error("RecaptchaVerifier is only supported in browser"));return}let t=r_();0!==t.length&&(t+=r),rU(t).then(()=>{i(r,e,n)}).catch(e=>{n(e)})}}).catch(e=>{n(e)})})}}async function rV(e,t,r,i=!1){let n;let s=new rP(e);try{n=await s.verify(r)}catch(e){n=await s.verify(r,!0)}let o=Object.assign({},t);return i?Object.assign(o,{captchaResp:n}):Object.assign(o,{captchaResponse:n}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function rG(e,t,r,i){var n;if(null===(n=e._getRecaptchaConfig())||void 0===n||!n.isProviderEnabled("EMAIL_PASSWORD_PROVIDER"))return i(e,t).catch(async n=>{if("auth/missing-recaptcha-token"!==n.code)return Promise.reject(n);{console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let n=await rV(e,t,r,"getOobCode"===r);return i(e,n)}});{let n=await rV(e,t,r,"getOobCode"===r);return i(e,n)}}function rY(e,t){let r=e6(e,"auth");if(r.isInitialized()){let e=r.getImmediate();if(ee(r.getOptions(),null!=t?t:{}))return e;tD(e,"already-initialized")}return r.initialize({options:t})}function rH(e,t){let r=(null==t?void 0:t.persistence)||[],i=(Array.isArray(r)?r:[r]).map(rg);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,null==t?void 0:t.popupRedirectResolver)}function rJ(e,t,r){let i=rF(e);tM(i._canInitEmulator,i,"emulator-config-failed"),tM(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");let n=!!(null==r?void 0:r.disableWarnings),s=rq(t),{host:o,port:a}=rW(t),A=null===a?"":`:${a}`;i.config.emulator={url:`${s}//${o}${A}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:n})}),n||rz()}function rq(e){let t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function rW(e){let t=rq(e),r=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!r)return{host:"",port:null};let i=r[2].split("@").pop()||"",n=/^(\[[^\]]+\])(:|$)/.exec(i);if(n){let e=n[1];return{host:e,port:rj(i.substr(e.length+1))}}{let[e,t]=i.split(":");return{host:e,port:rj(t)}}}function rj(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}function rz(){function e(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}class rK{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return tL("not implemented")}_getIdTokenResponse(e){return tL("not implemented")}_linkToIdToken(e,t){return tL("not implemented")}_getReauthenticationResolver(e){return tL("not implemented")}}async function rZ(e,t){return tW(e,"POST","/v1/accounts:signUp",t)}async function rX(e,t){return tz(e,"POST","/v1/accounts:signInWithPassword",tq(e,t))}async function r$(e,t){return tz(e,"POST","/v1/accounts:signInWithEmailLink",tq(e,t))}async function r0(e,t){return tz(e,"POST","/v1/accounts:signInWithEmailLink",tq(e,t))}class r1 extends rK{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new r1(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new r1(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return rG(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",rX);case"emailLink":return r$(e,{email:this._email,oobCode:this._password});default:tD(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return rG(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",rZ);case"emailLink":return r0(e,{idToken:t,email:this._email,oobCode:this._password});default:tD(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function r2(e,t){return tz(e,"POST","/v1/accounts:signInWithIdp",tq(e,t))}let r9="http://localhost";class r4 extends rK{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new r4(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):tD("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,n=tB(t,["providerId","signInMethod"]);if(!r||!i)return null;let s=new r4(r,i);return s.idToken=n.idToken||void 0,s.accessToken=n.accessToken||void 0,s.secret=n.secret,s.nonce=n.nonce,s.pendingToken=n.pendingToken||null,s}_getIdTokenResponse(e){return r2(e,this.buildRequest())}_linkToIdToken(e,t){let r=this.buildRequest();return r.idToken=t,r2(e,r)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,r2(e,t)}buildRequest(){let e={requestUri:r9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=er(t)}return e}}async function r5(e,t){return tz(e,"POST","/v1/accounts:signInWithPhoneNumber",tq(e,t))}async function r3(e,t){let r=await tz(e,"POST","/v1/accounts:signInWithPhoneNumber",tq(e,t));if(r.temporaryProof)throw t$(e,"account-exists-with-different-credential",r);return r}let r6={USER_NOT_FOUND:"user-not-found"};async function r8(e,t){return tz(e,"POST","/v1/accounts:signInWithPhoneNumber",tq(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),r6)}class r7 extends rK{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new r7({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new r7({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return r5(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return r3(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return r8(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));let{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:n}=e;return r||t||i||n?new r7({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:n}):null}}function ie(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function it(e){let t=ei(en(e)).link,r=t?ei(en(t)).deep_link_id:null,i=ei(en(e)).deep_link_id;return(i?ei(en(i)).link:null)||i||r||t||e}class ir{constructor(e){var t,r,i,n,s,o;let a=ei(en(e)),A=null!==(t=a.apiKey)&&void 0!==t?t:null,l=null!==(r=a.oobCode)&&void 0!==r?r:null,c=ie(null!==(i=a.mode)&&void 0!==i?i:null);tM(A&&l&&c,"argument-error"),this.apiKey=A,this.operation=c,this.code=l,this.continueUrl=null!==(n=a.continueUrl)&&void 0!==n?n:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){let t=it(e);try{return new ir(t)}catch(e){return null}}}class ii{constructor(){this.providerId=ii.PROVIDER_ID}static credential(e,t){return r1._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){let r=ir.parseLink(t);return tM(r,"argument-error"),r1._fromEmailAndCode(e,r.code,r.tenantId)}}ii.PROVIDER_ID="password",ii.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ii.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class is{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class io extends is{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ia extends null{static credentialFromJSON(e){let t="string"==typeof e?JSON.parse(e):e;return tM("providerId"in t&&"signInMethod"in t,"argument-error"),r4._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return tM(e.idToken||e.accessToken,"argument-error"),r4._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return ia.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return ia.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:n,nonce:s,providerId:o}=e;if(!r&&!i&&!t&&!n||!o)return null;try{return new ia(o)._credential({idToken:t,accessToken:r,nonce:s,pendingToken:n})}catch(e){return null}}}class iA extends io{constructor(){super("facebook.com")}static credential(e){return r4._fromParams({providerId:iA.PROVIDER_ID,signInMethod:iA.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return iA.credentialFromTaggedObject(e)}static credentialFromError(e){return iA.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return iA.credential(e.oauthAccessToken)}catch(e){return null}}}iA.FACEBOOK_SIGN_IN_METHOD="facebook.com",iA.PROVIDER_ID="facebook.com";class il extends io{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return r4._fromParams({providerId:il.PROVIDER_ID,signInMethod:il.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return il.credentialFromTaggedObject(e)}static credentialFromError(e){return il.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return il.credential(t,r)}catch(e){return null}}}il.GOOGLE_SIGN_IN_METHOD="google.com",il.PROVIDER_ID="google.com";class ic extends io{constructor(){super("github.com")}static credential(e){return r4._fromParams({providerId:ic.PROVIDER_ID,signInMethod:ic.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ic.credentialFromTaggedObject(e)}static credentialFromError(e){return ic.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ic.credential(e.oauthAccessToken)}catch(e){return null}}}ic.GITHUB_SIGN_IN_METHOD="github.com",ic.PROVIDER_ID="github.com";let iu="http://localhost";class ih extends rK{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return r2(e,this.buildRequest())}_linkToIdToken(e,t){let r=this.buildRequest();return r.idToken=t,r2(e,r)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,r2(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){let{providerId:t,signInMethod:r,pendingToken:i}="string"==typeof e?JSON.parse(e):e;return t&&r&&i&&t===r?new ih(t,i):null}static _create(e,t){return new ih(e,t)}buildRequest(){return{requestUri:iu,returnSecureToken:!0,pendingToken:this.pendingToken}}}let id="saml.";class ig extends is{constructor(e){tM(e.startsWith(id),"argument-error"),super(e)}static credentialFromResult(e){return ig.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return ig.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){let t=ih.fromJSON(e);return tM(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return ih._create(r,t)}catch(e){return null}}}class ip extends io{constructor(){super("twitter.com")}static credential(e,t){return r4._fromParams({providerId:ip.PROVIDER_ID,signInMethod:ip.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ip.credentialFromTaggedObject(e)}static credentialFromError(e){return ip.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ip.credential(t,r)}catch(e){return null}}}ip.TWITTER_SIGN_IN_METHOD="twitter.com",ip.PROVIDER_ID="twitter.com";class iE{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){return new iE({user:await rh._fromIdTokenResponse(e,r,i),providerId:iC(r),_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){return await e._updateTokensIfNecessary(r,!0),new iE({user:e,providerId:iC(r),_tokenResponse:r,operationType:t})}}function iC(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class iI extends K{constructor(e,t,r,i){var n;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,iI.prototype),this.customData={appName:e.name,tenantId:null!==(n=e.tenantId)&&void 0!==n?n:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new iI(e,t,r,i)}}function im(e,t,r,i){return("reauthenticate"===t?r._getReauthenticationResolver(e):r._getIdTokenResponse(e)).catch(r=>{if("auth/multi-factor-auth-required"===r.code)throw iI._fromErrorAndOperation(e,r,t,i);throw r})}class iB{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?iy._fromServerResponse(e,t):"totpInfo"in t?iQ._fromServerResponse(e,t):tD(e,"internal-error")}}class iy extends iB{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new iy(t)}}class iQ extends iB{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new iQ(t)}}class iw{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class iv extends iw{constructor(e,t,r,i){super(e,t,r),this.username=i}}class ib{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new ib("enroll",e,t)}static _fromMfaPendingCredential(e){return new ib("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return ib._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(r=e.multiFactorSession)||void 0===r?void 0:r.idToken)return ib._fromIdtoken(e.multiFactorSession.idToken)}return null}}class iS{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){let r=rF(e),i=t.customData._serverResponse,n=(i.mfaInfo||[]).map(e=>iB._fromServerResponse(r,e));tM(i.mfaPendingCredential,r,"internal-error");let s=ib._fromMfaPendingCredential(i.mfaPendingCredential);return new iS(s,n,async e=>{let n=await e._process(r,s);delete i.mfaInfo,delete i.mfaPendingCredential;let o=Object.assign(Object.assign({},i),{idToken:n.idToken,refreshToken:n.refreshToken});switch(t.operationType){case"signIn":let a=await iE._fromIdTokenResponse(r,t.operationType,o);return await r._updateCurrentUser(a.user),a;case"reauthenticate":return tM(t.user,r,"internal-error"),iE._forOperation(t.user,t.operationType,o);default:tD(r,"internal-error")}})}async resolveSignIn(e){let t=e;return this.signInResolver(t)}}function iT(e,t){return tW(e,"POST","/v2/accounts/mfaEnrollment:start",tq(e,t))}function iD(e,t){return tW(e,"POST","/v2/accounts/mfaEnrollment:finalize",tq(e,t))}function iR(e,t){return tW(e,"POST","/v2/accounts/mfaEnrollment:withdraw",tq(e,t))}class ik{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(t=>iB._fromServerResponse(e.auth,t)))})}static _fromUser(e){return new ik(e)}async getSession(){return ib._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){let r=e,i=await this.getSession(),n=await re(this.user,r._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(n),this.user.reload()}async unenroll(e){let t="string"==typeof e?e:e.uid,r=await this.user.getIdToken();try{let e=await re(this.user,iR(this.user.auth,{idToken:r,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:e})=>e!==t),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(e){throw e}}}new WeakMap;var iN="@firebase/auth",iF="1.7.9";class iM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return(this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser)?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){tM(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function iL(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iU(e){e3(new ef("auth",(t,{options:r})=>{let i=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;tM(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});let A=new rN(i,n,s,{apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rS(e)});return rH(A,r),A},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),e3(new ef("auth-internal",e=>new iM(rF(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),ts(iN,iF,iL(e)),ts(iN,iF,"esm2017")}function i_(e=ti()){let t=e6(e,"auth");if(t.isInitialized())return t.getImmediate();let r=rY(e),i=M("auth");return i&&rJ(r,`http://${i}`),r}function ix(e,t){return tW(e,"POST","/v2/accounts/mfaSignIn:finalize",tq(e,t))}tY.initialize(ty.he,ty.Headers,ty.Response),iU("Node"),tR("operation-not-supported-in-this-environment"),rN.prototype.setPersistence=async()=>{};class iO{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return tL("unexpected MultiFactorSessionType")}}}class iP{static assertionForEnrollment(e,t){return iV._fromSecret(e,t)}static assertionForSignIn(e,t){return iV._fromEnrollmentId(e,t)}static async generateSecret(e){var t;let r=e;tM(void 0!==(null===(t=r.user)||void 0===t?void 0:t.auth),"internal-error");let i=await iT(r.user.auth,{idToken:r.credential,totpEnrollmentInfo:{}});return iG._fromStartTotpMfaEnrollmentResponse(i,r.user.auth)}}iP.FACTOR_ID="totp";class iV extends iO{constructor(e,t,r){super("totp"),this.otp=e,this.enrollmentId=t,this.secret=r}static _fromSecret(e,t){return new iV(t,void 0,e)}static _fromEnrollmentId(e,t){return new iV(t,e)}async _finalizeEnroll(e,t,r){return tM(void 0!==this.secret,e,"argument-error"),iD(e,{idToken:t,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(e,t){tM(void 0!==this.enrollmentId&&void 0!==this.otp,e,"argument-error");let r={verificationCode:this.otp};return ix(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r})}}class iG{constructor(e,t,r,i,n,s,o){this.sessionInfo=s,this.auth=o,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=n}static _fromStartTotpMfaEnrollmentResponse(e,t){return new iG(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,t)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){var r;let i=!1;return(iY(e)||iY(t))&&(i=!0),i&&(iY(e)&&(e=(null===(r=this.auth.currentUser)||void 0===r?void 0:r.email)||"unknownuser"),iY(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function iY(e){return void 0===e||(null==e?void 0:e.length)===0}var iH=r(153);require("crypto");var iJ="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},iq={};(function(){function e(){this.blockSize=-1,this.blockSize=64,this.g=[,,,,],this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function t(e,t,r){r||(r=0);var i=Array(16);if("string"==typeof t)for(var n=0;16>n;++n)i[n]=t.charCodeAt(r++)|t.charCodeAt(r++)<<8|t.charCodeAt(r++)<<16|t.charCodeAt(r++)<<24;else for(n=0;16>n;++n)i[n]=t[r++]|t[r++]<<8|t[r++]<<16|t[r++]<<24;t=e.g[0],r=e.g[1],n=e.g[2];var s=e.g[3],o=t+(s^r&(n^s))+i[0]+3614090360&4294967295;o=s+(n^(t=r+(o<<7&4294967295|o>>>25))&(r^n))+i[1]+3905402710&4294967295,o=n+(r^(s=t+(o<<12&4294967295|o>>>20))&(t^r))+i[2]+606105819&4294967295,o=r+(t^(n=s+(o<<17&4294967295|o>>>15))&(s^t))+i[3]+3250441966&4294967295,o=t+(s^(r=n+(o<<22&4294967295|o>>>10))&(n^s))+i[4]+4118548399&4294967295,o=s+(n^(t=r+(o<<7&4294967295|o>>>25))&(r^n))+i[5]+1200080426&4294967295,o=n+(r^(s=t+(o<<12&4294967295|o>>>20))&(t^r))+i[6]+2821735955&4294967295,o=r+(t^(n=s+(o<<17&4294967295|o>>>15))&(s^t))+i[7]+4249261313&4294967295,o=t+(s^(r=n+(o<<22&4294967295|o>>>10))&(n^s))+i[8]+1770035416&4294967295,o=s+(n^(t=r+(o<<7&4294967295|o>>>25))&(r^n))+i[9]+2336552879&4294967295,o=n+(r^(s=t+(o<<12&4294967295|o>>>20))&(t^r))+i[10]+4294925233&4294967295,o=r+(t^(n=s+(o<<17&4294967295|o>>>15))&(s^t))+i[11]+2304563134&4294967295,o=t+(s^(r=n+(o<<22&4294967295|o>>>10))&(n^s))+i[12]+1804603682&4294967295,o=s+(n^(t=r+(o<<7&4294967295|o>>>25))&(r^n))+i[13]+4254626195&4294967295,o=n+(r^(s=t+(o<<12&4294967295|o>>>20))&(t^r))+i[14]+2792965006&4294967295,o=r+(t^(n=s+(o<<17&4294967295|o>>>15))&(s^t))+i[15]+1236535329&4294967295,r=n+(o<<22&4294967295|o>>>10),o=t+(n^s&(r^n))+i[1]+4129170786&4294967295,t=r+(o<<5&4294967295|o>>>27),o=s+(r^n&(t^r))+i[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=n+(t^r&(s^t))+i[11]+643717713&4294967295,n=s+(o<<14&4294967295|o>>>18),o=r+(s^t&(n^s))+i[0]+3921069994&4294967295,r=n+(o<<20&4294967295|o>>>12),o=t+(n^s&(r^n))+i[5]+3593408605&4294967295,t=r+(o<<5&4294967295|o>>>27),o=s+(r^n&(t^r))+i[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=n+(t^r&(s^t))+i[15]+3634488961&4294967295,n=s+(o<<14&4294967295|o>>>18),o=r+(s^t&(n^s))+i[4]+3889429448&4294967295,r=n+(o<<20&4294967295|o>>>12),o=t+(n^s&(r^n))+i[9]+568446438&4294967295,t=r+(o<<5&4294967295|o>>>27),o=s+(r^n&(t^r))+i[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=n+(t^r&(s^t))+i[3]+4107603335&4294967295,n=s+(o<<14&4294967295|o>>>18),o=r+(s^t&(n^s))+i[8]+1163531501&4294967295,r=n+(o<<20&4294967295|o>>>12),o=t+(n^s&(r^n))+i[13]+2850285829&4294967295,t=r+(o<<5&4294967295|o>>>27),o=s+(r^n&(t^r))+i[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=n+(t^r&(s^t))+i[7]+1735328473&4294967295,n=s+(o<<14&4294967295|o>>>18),o=r+(s^t&(n^s))+i[12]+2368359562&4294967295,o=t+((r=n+(o<<20&4294967295|o>>>12))^n^s)+i[5]+4294588738&4294967295,o=s+((t=r+(o<<4&4294967295|o>>>28))^r^n)+i[8]+2272392833&4294967295,o=n+((s=t+(o<<11&4294967295|o>>>21))^t^r)+i[11]+1839030562&4294967295,o=r+((n=s+(o<<16&4294967295|o>>>16))^s^t)+i[14]+4259657740&4294967295,o=t+((r=n+(o<<23&4294967295|o>>>9))^n^s)+i[1]+2763975236&4294967295,o=s+((t=r+(o<<4&4294967295|o>>>28))^r^n)+i[4]+1272893353&4294967295,o=n+((s=t+(o<<11&4294967295|o>>>21))^t^r)+i[7]+4139469664&4294967295,o=r+((n=s+(o<<16&4294967295|o>>>16))^s^t)+i[10]+3200236656&4294967295,o=t+((r=n+(o<<23&4294967295|o>>>9))^n^s)+i[13]+681279174&4294967295,o=s+((t=r+(o<<4&4294967295|o>>>28))^r^n)+i[0]+3936430074&4294967295,o=n+((s=t+(o<<11&4294967295|o>>>21))^t^r)+i[3]+3572445317&4294967295,o=r+((n=s+(o<<16&4294967295|o>>>16))^s^t)+i[6]+76029189&4294967295,o=t+((r=n+(o<<23&4294967295|o>>>9))^n^s)+i[9]+3654602809&4294967295,o=s+((t=r+(o<<4&4294967295|o>>>28))^r^n)+i[12]+3873151461&4294967295,o=n+((s=t+(o<<11&4294967295|o>>>21))^t^r)+i[15]+530742520&4294967295,o=r+((n=s+(o<<16&4294967295|o>>>16))^s^t)+i[2]+3299628645&4294967295,r=n+(o<<23&4294967295|o>>>9),o=t+(n^(r|~s))+i[0]+4096336452&4294967295,t=r+(o<<6&4294967295|o>>>26),o=s+(r^(t|~n))+i[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=n+(t^(s|~r))+i[14]+2878612391&4294967295,n=s+(o<<15&4294967295|o>>>17),o=r+(s^(n|~t))+i[5]+4237533241&4294967295,r=n+(o<<21&4294967295|o>>>11),o=t+(n^(r|~s))+i[12]+1700485571&4294967295,t=r+(o<<6&4294967295|o>>>26),o=s+(r^(t|~n))+i[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=n+(t^(s|~r))+i[10]+4293915773&4294967295,n=s+(o<<15&4294967295|o>>>17),o=r+(s^(n|~t))+i[1]+2240044497&4294967295,r=n+(o<<21&4294967295|o>>>11),o=t+(n^(r|~s))+i[8]+1873313359&4294967295,t=r+(o<<6&4294967295|o>>>26),o=s+(r^(t|~n))+i[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=n+(t^(s|~r))+i[6]+2734768916&4294967295,n=s+(o<<15&4294967295|o>>>17),o=r+(s^(n|~t))+i[13]+1309151649&4294967295,r=n+(o<<21&4294967295|o>>>11),o=t+(n^(r|~s))+i[4]+4149444226&4294967295,t=r+(o<<6&4294967295|o>>>26),o=s+(r^(t|~n))+i[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=n+(t^(s|~r))+i[2]+718787259&4294967295,n=s+(o<<15&4294967295|o>>>17),o=r+(s^(n|~t))+i[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(n+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+n&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){var r=s;return Object.prototype.hasOwnProperty.call(r,e)?r[e]:r[e]=t(e)}function i(e,t){this.h=t;for(var r=[],i=!0,n=e.length-1;0<=n;n--){var s=0|e[n];i&&s==t||(r[n]=s,i=!1)}this.g=r}(function(e,t){function r(){}r.prototype=t.prototype,e.D=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.C=function(e,r,i){for(var n=Array(arguments.length-2),s=2;s<arguments.length;s++)n[s-2]=arguments[s];return t.prototype[r].apply(e,n)}})(e,function(){this.blockSize=-1}),e.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},e.prototype.u=function(e,r){void 0===r&&(r=e.length);for(var i=r-this.blockSize,n=this.B,s=this.h,o=0;o<r;){if(0==s)for(;o<=i;)t(this,e,o),o+=this.blockSize;if("string"==typeof e){for(;o<r;)if(n[s++]=e.charCodeAt(o++),s==this.blockSize){t(this,n),s=0;break}}else for(;o<r;)if(n[s++]=e[o++],s==this.blockSize){t(this,n),s=0;break}}this.h=s,this.o+=r},e.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var r=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&r,r/=256;for(this.u(e),e=Array(16),t=r=0;4>t;++t)for(var i=0;32>i;i+=8)e[r++]=this.g[t]>>>i&255;return e};var n,s={};function o(e){return -128<=e&&128>e?r(e,function(e){return new i([0|e],0>e?-1:0)}):new i([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return l;if(0>e)return g(a(-e));for(var t=[],r=1,n=0;e>=r;n++)t[n]=e/r|0,r*=4294967296;return new i(t,0)}function A(e,t){if(0==e.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==e.charAt(0))return g(A(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(t,8)),i=l,n=0;n<e.length;n+=8){var s=Math.min(8,e.length-n),o=parseInt(e.substring(n,n+s),t);8>s?(s=a(Math.pow(t,s)),i=i.j(s).add(a(o))):i=(i=i.j(r)).add(a(o))}return i}var l=o(0),c=o(1),u=o(16777216);function h(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return -1==e.h}function g(e){for(var t=e.g.length,r=[],n=0;n<t;n++)r[n]=~e.g[n];return new i(r,~e.h).add(c)}function E(e,t){return e.add(g(t))}function C(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function I(e,t){this.g=e,this.h=t}function m(e,t){if(h(t))throw Error("division by zero");if(h(e))return new I(l,l);if(d(e))return t=m(g(e),t),new I(g(t.g),g(t.h));if(d(t))return t=m(e,g(t)),new I(g(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var r=c,i=t;0>=i.l(e);)r=B(r),i=B(i);var n=y(r,1),s=y(i,1);for(i=y(i,2),r=y(r,2);!h(i);){var o=s.add(i);0>=o.l(e)&&(n=n.add(r),s=o),i=y(i,1),r=y(r,1)}return t=E(e,n.j(t)),new I(n,t)}for(n=l;0<=e.l(t);){for(i=48>=(i=Math.ceil(Math.log(r=Math.max(1,Math.floor(e.m()/t.m())))/Math.LN2))?1:Math.pow(2,i-48),o=(s=a(r)).j(t);d(o)||0<o.l(e);)r-=i,o=(s=a(r)).j(t);h(s)&&(s=c),n=n.add(s),e=E(e,o)}return new I(n,e)}function B(e){for(var t=e.g.length+1,r=[],n=0;n<t;n++)r[n]=e.i(n)<<1|e.i(n-1)>>>31;return new i(r,e.h)}function y(e,t){var r=t>>5;t%=32;for(var n=e.g.length-r,s=[],o=0;o<n;o++)s[o]=0<t?e.i(o+r)>>>t|e.i(o+r+1)<<32-t:e.i(o+r);return new i(s,e.h)}(n=i.prototype).m=function(){if(d(this))return-g(this).m();for(var e=0,t=1,r=0;r<this.g.length;r++){var i=this.i(r);e+=(0<=i?i:4294967296+i)*t,t*=4294967296}return e},n.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(h(this))return"0";if(d(this))return"-"+g(this).toString(e);for(var t=a(Math.pow(e,6)),r=this,i="";;){var n=m(r,t).g,s=((0<(r=E(r,n.j(t))).g.length?r.g[0]:r.h)>>>0).toString(e);if(h(r=n))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},n.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},n.l=function(e){return d(e=E(this,e))?-1:h(e)?0:1},n.abs=function(){return d(this)?g(this):this},n.add=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],n=0,s=0;s<=t;s++){var o=n+(65535&this.i(s))+(65535&e.i(s)),a=(o>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);n=a>>>16,o&=65535,a&=65535,r[s]=a<<16|o}return new i(r,-2147483648&r[r.length-1]?-1:0)},n.j=function(e){if(h(this)||h(e))return l;if(d(this))return d(e)?g(this).j(g(e)):g(g(this).j(e));if(d(e))return g(this.j(g(e)));if(0>this.l(u)&&0>e.l(u))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,r=[],n=0;n<2*t;n++)r[n]=0;for(n=0;n<this.g.length;n++)for(var s=0;s<e.g.length;s++){var o=this.i(n)>>>16,A=65535&this.i(n),c=e.i(s)>>>16,f=65535&e.i(s);r[2*n+2*s]+=A*f,C(r,2*n+2*s),r[2*n+2*s+1]+=o*f,C(r,2*n+2*s+1),r[2*n+2*s+1]+=A*c,C(r,2*n+2*s+1),r[2*n+2*s+2]+=o*c,C(r,2*n+2*s+2)}for(n=0;n<t;n++)r[n]=r[2*n+1]<<16|r[2*n];for(n=t;n<2*t;n++)r[n]=0;return new i(r,0)},n.A=function(e){return m(this,e).h},n.and=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],n=0;n<t;n++)r[n]=this.i(n)&e.i(n);return new i(r,this.h&e.h)},n.or=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],n=0;n<t;n++)r[n]=this.i(n)|e.i(n);return new i(r,this.h|e.h)},n.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],n=0;n<t;n++)r[n]=this.i(n)^e.i(n);return new i(r,this.h^e.h)},e.prototype.digest=e.prototype.v,e.prototype.reset=e.prototype.s,e.prototype.update=e.prototype.u,p=iq.Md5=e,i.prototype.add=i.prototype.add,i.prototype.multiply=i.prototype.j,i.prototype.modulo=i.prototype.A,i.prototype.compare=i.prototype.l,i.prototype.toNumber=i.prototype.m,i.prototype.toString=i.prototype.toString,i.prototype.getBits=i.prototype.i,i.fromNumber=a,i.fromString=A,f=iq.Integer=i}).apply(void 0!==iJ?iJ:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var iW=r(1968),ij=r(3716);let iz="@firebase/firestore",iK="4.7.3";class iZ{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}iZ.UNAUTHENTICATED=new iZ(null),iZ.GOOGLE_CREDENTIALS=new iZ("google-credentials-uid"),iZ.FIRST_PARTY=new iZ("first-party-uid"),iZ.MOCK_USER=new iZ("mock-user");let iX="10.14.0";function i$(e){iX=e}function i0(e){return(0,iH.inspect)(e,{depth:100})}let i1=new eb("@firebase/firestore");function i2(){return i1.logLevel}function i9(e,...t){if(i1.logLevel<=g.DEBUG){let r=t.map(i3);i1.debug(`Firestore (${iX}): ${e}`,...r)}}function i4(e,...t){if(i1.logLevel<=g.ERROR){let r=t.map(i3);i1.error(`Firestore (${iX}): ${e}`,...r)}}function i5(e,...t){if(i1.logLevel<=g.WARN){let r=t.map(i3);i1.warn(`Firestore (${iX}): ${e}`,...r)}}function i3(e){if("string"==typeof e)return e;try{return i0(e)}catch(t){return e}}function i6(e="Unexpected state"){let t=`FIRESTORE (${iX}) INTERNAL ASSERTION FAILED: `+e;throw i4(t),Error(t)}function i8(e,t){e||i6()}function i7(e,t){return e}let ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class nt extends K{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class nr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ni{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nn{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(iZ.UNAUTHENTICATED))}shutdown(){}}class ns{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class no{constructor(e){this.authProvider=e,this.currentUser=iZ.UNAUTHENTICATED,this.tokenCounter=0,this.forceRefresh=!1,this.auth=null}start(e,t){i8(void 0===this.tokenListener);let r=this.tokenCounter,i=e=>this.tokenCounter!==r?(r=this.tokenCounter,t(e)):Promise.resolve(),n=new nr;this.tokenListener=()=>{this.tokenCounter++,this.currentUser=this.getUser(),n.resolve(),n=new nr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let t=n;e.enqueueRetryable(async()=>{await t.promise,await i(this.currentUser)})},o=e=>{i9("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.tokenListener&&(this.auth.addAuthTokenListener(this.tokenListener),s())};this.authProvider.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){let e=this.authProvider.getImmediate({optional:!0});e?o(e):(i9("FirebaseAuthCredentialsProvider","Auth not yet detected"),n.resolve(),n=new nr)}},0),s()}getToken(){let e=this.tokenCounter,t=this.forceRefresh;return(this.forceRefresh=!1,this.auth)?this.auth.getToken(t).then(t=>this.tokenCounter!==e?(i9("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(i8("string"==typeof t.accessToken),new ni(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.tokenListener&&this.auth.removeAuthTokenListener(this.tokenListener),this.tokenListener=void 0}getUser(){let e=this.auth&&this.auth.getUid();return i8(null===e||"string"==typeof e),new iZ(e)}}class na{constructor(e,t,r){this.sessionIndex=e,this.iamToken=t,this.authTokenFactory=r,this.type="FirstParty",this.user=iZ.FIRST_PARTY,this._headers=new Map}getAuthToken(){return this.authTokenFactory?this.authTokenFactory():null}get headers(){this._headers.set("X-Goog-AuthUser",this.sessionIndex);let e=this.getAuthToken();return e&&this._headers.set("Authorization",e),this.iamToken&&this._headers.set("X-Goog-Iam-Authorization-Token",this.iamToken),this._headers}}class nA{constructor(e,t,r){this.sessionIndex=e,this.iamToken=t,this.authTokenFactory=r}getToken(){return Promise.resolve(new na(this.sessionIndex,this.iamToken,this.authTokenFactory))}start(e,t){e.enqueueRetryable(()=>t(iZ.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nl{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nc{constructor(e){this.appCheckProvider=e,this.forceRefresh=!1,this.appCheck=null,this.latestAppCheckToken=null}start(e,t){i8(void 0===this.tokenListener);let r=e=>{null!=e.error&&i9("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);let r=e.token!==this.latestAppCheckToken;return this.latestAppCheckToken=e.token,i9("FirebaseAppCheckTokenProvider",`Received ${r?"new":"existing"} token.`),r?t(e.token):Promise.resolve()};this.tokenListener=t=>{e.enqueueRetryable(()=>r(t))};let i=e=>{i9("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.tokenListener&&this.appCheck.addTokenListener(this.tokenListener)};this.appCheckProvider.onInit(e=>i(e)),setTimeout(()=>{if(!this.appCheck){let e=this.appCheckProvider.getImmediate({optional:!0});e?i(e):i9("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return(this.forceRefresh=!1,this.appCheck)?this.appCheck.getToken(e).then(e=>e?(i8("string"==typeof e.token),this.latestAppCheckToken=e.token,new nl(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.tokenListener&&this.appCheck.removeTokenListener(this.tokenListener),this.tokenListener=void 0}}function nu(e){if(!e)return new nn;switch(e.type){case"firstParty":return new nA(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new nt(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}function nh(e){return randomBytes$1(e)}class nd{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="",i=20;for(;r.length<i;){let n=nh(40);for(let s=0;s<n.length;++s)r.length<i&&n[s]<t&&(r+=e.charAt(n[s]%e.length))}return r}}function ng(e,t){return e<t?-1:e>t?1:0}function nf(e,t,r){return e.length===t.length&&e.every((e,i)=>r(e,t[i]))}function np(e){return e+"\0"}let nE=-62135596800,nC=1e6;class nI{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0||t>=1e9)throw new nt(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<nE||e>=253402300800)throw new nt(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return nI.fromMillis(Date.now())}static fromDate(e){return nI.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*nC);return new nI(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/nC}_compareTo(e){return this.seconds===e.seconds?ng(this.nanoseconds,e.nanoseconds):ng(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds-nE).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class nm{constructor(e){this.timestamp=e}static fromTimestamp(e){return new nm(e)}static min(){return new nm(new nI(0,0))}static max(){return new nm(new nI(253402300799,1e9-1))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}let nB="__name__";class ny{constructor(e,t,r){void 0===t?t=0:t>e.length&&i6(),void 0===r?r=e.length-t:r>e.length-t&&i6(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===ny.comparator(this,e)}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof ny?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let r=e.get(i),n=t.get(i);if(r<n)return -1;if(r>n)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class nQ extends ny{construct(e,t,r){return new nQ(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new nt(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(e=>e.length>0))}return new nQ(t)}static emptyPath(){return new nQ([])}}let nw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nv extends ny{construct(e,t,r){return new nv(e,t,r)}static isValidIdentifier(e){return nw.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nv.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===nB}static keyField(){return new nv([nB])}static fromServerFormat(e){let t=[],r="",i=0,n=()=>{if(0===r.length)throw new nt(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let t=e[i];if("\\"===t){if(i+1===e.length)throw new nt(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let t=e[i+1];if(!("\\"===t||"."===t||"`"===t))throw new nt(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=t,i+=2}else"`"===t?s=!s:"."!==t||s?r+=t:n(),i++}if(n(),s)throw new nt(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nv(t)}static emptyPath(){return new nv([])}}class nb{constructor(e){this.path=e}static fromPath(e){return new nb(nQ.fromString(e))}static fromName(e){return new nb(nQ.fromString(e).popFirst(5))}static empty(){return new nb(nQ.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===nQ.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return nQ.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new nb(new nQ(e.slice()))}}let nS=-1,nT=0;class nD{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function nR(e){return e.fields.find(e=>2===e.kind)}function nk(e){return e.fields.filter(e=>2!==e.kind)}function nN(e){let t=nk(e);return 0===t.length?0:t[t.length-1].kind}function nF(e,t){let r=ng(e.collectionGroup,t.collectionGroup);if(0!==r)return r;for(let i=0;i<Math.min(e.fields.length,t.fields.length);++i)if(0!==(r=nU(e.fields[i],t.fields[i])))return r;return ng(e.fields.length,t.fields.length)}function nM(e){return`id=${e.indexId}|cg=${e.collectionGroup}|f=${e.fields.map(e=>`${e.fieldPath}:${e.kind}`).join(",")}`}nD.UNKNOWN_ID=-1;class nL{constructor(e,t){this.fieldPath=e,this.kind=t}}function nU(e,t){let r=nv.comparator(e.fieldPath,t.fieldPath);return 0!==r?r:ng(e.kind,t.kind)}class n_{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new n_(nT,nP.min())}}function nx(e,t){let r=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1;return new nP(nm.fromTimestamp(1e9===i?new nI(r+1,0):new nI(r,i)),nb.empty(),t)}function nO(e){return new nP(e.readTime,e.key,nS)}class nP{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new nP(nm.min(),nb.empty(),nS)}static max(){return new nP(nm.max(),nb.empty(),nS)}}function nV(e,t){let r=e.readTime.compareTo(t.readTime);return 0!==r||0!==(r=nb.comparator(e.documentKey,t.documentKey))?r:ng(e.largestBatchId,t.largestBatchId)}let nG="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nY{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function nH(e){if(e.code===ne.FAILED_PRECONDITION&&e.message===nG)i9("LocalStore","Unexpectedly lost primary lease");else throw e}class nJ{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return(this.callbackAttached&&i6(),this.callbackAttached=!0,this.isDone)?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new nJ((r,i)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(r,i)},this.catchCallback=e=>{this.wrapFailure(t,e).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();if(t instanceof nJ)return t;return nJ.resolve(t)}catch(e){return nJ.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):nJ.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):nJ.reject(t)}static resolve(e){return new nJ((t,r)=>{t(e)})}static reject(e){return new nJ((t,r)=>{r(e)})}static waitFor(e){return new nJ((t,r)=>{let i=0,n=0,s=!1;e.forEach(e=>{++i,e.next(()=>{++n,s&&n===i&&t()},e=>r(e))}),s=!0,n===i&&t()})}static or(e){let t=nJ.resolve(!1);for(let r of e)t=t.next(e=>e?nJ.resolve(e):r());return t}static forEach(e,t){let r=[];return e.forEach((e,i)=>{r.push(t.call(this,e,i))}),this.waitFor(r)}static mapArray(e,t){return new nJ((r,i)=>{let n=e.length,s=Array(n),o=0;for(let a=0;a<n;a++){let A=a;t(e[A]).next(e=>{s[A]=e,++o===n&&r(s)},e=>i(e))}})}static doWhile(e,t){return new nJ((r,i)=>{let n=()=>{!0===e()?t().next(()=>{n()},i):r()};n()})}}let nq="SimpleDb",nW=3;class nj{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.completionDeferred=new nr,this.transaction.oncomplete=()=>{this.completionDeferred.resolve()},this.transaction.onabort=()=>{t.error?this.completionDeferred.reject(new nX(e,t.error)):this.completionDeferred.resolve()},this.transaction.onerror=t=>{let r=n9(t.target.error);this.completionDeferred.reject(new nX(e,r))}}static open(e,t,r,i){try{return new nj(t,e.transaction(i,r))}catch(e){throw new nX(t,e)}}get completionPromise(){return this.completionDeferred.promise}abort(e){e&&this.completionDeferred.reject(e),this.aborted||(i9(nq,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}maybeCommit(){let e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){return new n0(this.transaction.objectStore(e))}}class nz{constructor(e,t,r){this.name=e,this.version=t,this.schemaConverter=r,12.2===nz.getIOSVersion(O())&&i4("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return i9(nq,"Removing database:",e),n1(window.indexedDB.deleteDatabase(e)).toPromise()}static isAvailable(){if(!q())return!1;if(nz.isMockPersistence())return!0;let e=O(),t=nz.getIOSVersion(e),r=0<t&&t<10,i=nK(e),n=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0)&&!r&&!n}static isMockPersistence(){var e;return"undefined"!=typeof process&&(null===(e=process.env)||void 0===e?void 0:e.USE_MOCK_PERSISTENCE)==="YES"}static getStore(e,t){return e.store(t)}static getIOSVersion(e){let t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i);return Number(t?t[1].split("_").slice(0,2).join("."):"-1")}async ensureDb(e){return this.db||(i9(nq,"Opening database:",this.name),this.db=await new Promise((t,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=e=>{t(e.target.result)},i.onblocked=()=>{r(new nX(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=t=>{let i=t.target.error;"VersionError"===i.name?r(new nt(ne.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===i.name?r(new nt(ne.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+i)):r(new nX(e,i))},i.onupgradeneeded=e=>{i9(nq,'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);let t=e.target.result;this.schemaConverter.createOrUpgrade(t,i.transaction,e.oldVersion,this.version).next(()=>{i9(nq,"Database upgrade to version "+this.version+" complete")})}})),this.versionchangelistener&&(this.db.onversionchange=e=>this.versionchangelistener(e)),this.db}setVersionChangeListener(e){this.versionchangelistener=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,i){let n="readonly"===t,s=0;for(;;){++s;try{this.db=await this.ensureDb(e);let t=nj.open(this.db,e,n?"readonly":"readwrite",r),s=i(t).next(e=>(t.maybeCommit(),e)).catch(e=>(t.abort(e),nJ.reject(e))).toPromise();return s.catch(()=>{}),await t.completionPromise,s}catch(r){let e=r,t="FirebaseError"!==e.name&&s<nW;if(i9(nq,"Transaction failed with error:",e.message,"Retrying:",t),this.close(),!t)return Promise.reject(e)}}}close(){this.db&&this.db.close(),this.db=void 0}}function nK(e){let t=e.match(/Android ([\d.]+)/i);return Number(t?t[1].split(".").slice(0,2).join("."):"-1")}class nZ{constructor(e){this.dbCursor=e,this.shouldStop=!1,this.nextKey=null}get isDone(){return this.shouldStop}get skipToKey(){return this.nextKey}set cursor(e){this.dbCursor=e}done(){this.shouldStop=!0}skip(e){this.nextKey=e}delete(){return n1(this.dbCursor.delete())}}class nX extends nt{constructor(e,t){super(ne.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function n$(e){return"IndexedDbTransactionError"===e.name}class n0{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(i9(nq,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(i9(nq,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),n1(r)}add(e){return i9(nq,"ADD",this.store.name,e,e),n1(this.store.add(e))}get(e){return n1(this.store.get(e)).next(t=>(void 0===t&&(t=null),i9(nq,"GET",this.store.name,e,t),t))}delete(e){return i9(nq,"DELETE",this.store.name,e),n1(this.store.delete(e))}count(){return i9(nq,"COUNT",this.store.name),n1(this.store.count())}loadAll(e,t){let r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if("function"==typeof i.getAll){let e=i.getAll(r.range);return new nJ((t,r)=>{e.onerror=e=>{r(e.target.error)},e.onsuccess=e=>{t(e.target.result)}})}{let e=this.cursor(r),t=[];return this.iterateCursor(e,(e,r)=>{t.push(r)}).next(()=>t)}}loadFirst(e,t){let r=this.store.getAll(e,null===t?void 0:t);return new nJ((e,t)=>{r.onerror=e=>{t(e.target.error)},r.onsuccess=t=>{e(t.target.result)}})}deleteAll(e,t){i9(nq,"DELETE ALL",this.store.name);let r=this.options(e,t);r.keysOnly=!1;let i=this.cursor(r);return this.iterateCursor(i,(e,t,r)=>r.delete())}iterate(e,t){let r;t?r=e:(r={},t=e);let i=this.cursor(r);return this.iterateCursor(i,t)}iterateSerial(e){let t=this.cursor({});return new nJ((r,i)=>{t.onerror=e=>{i(n9(e.target.error))},t.onsuccess=t=>{let i=t.target.result;if(!i){r();return}e(i.primaryKey,i.value).next(e=>{e?i.continue():r()})}})}iterateCursor(e,t){let r=[];return new nJ((i,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{let n=e.target.result;if(!n){i();return}let s=new nZ(n),o=t(n.primaryKey,n.value,s);if(o instanceof nJ){let e=o.catch(e=>(s.done(),nJ.reject(e)));r.push(e)}s.isDone?i():null===s.skipToKey?n.continue():n.continue(s.skipToKey)}}).next(()=>nJ.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),!e.index)return this.store.openCursor(e.range,t);{let r=this.store.index(e.index);return e.keysOnly?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}}}function n1(e){return new nJ((t,r)=>{e.onsuccess=e=>{t(e.target.result)},e.onerror=e=>{r(n9(e.target.error))}})}let n2=!1;function n9(e){let t=nz.getIOSVersion(O());if(t>=12.2&&t<13){let t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){let e=new nt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return n2||(n2=!0,setTimeout(()=>{throw e},0)),e}}return e}let n4="IndexBackfiller",n5=15e3,n3=6e4,n6=50;class n8{constructor(e,t){this.asyncQueue=e,this.backfiller=t,this.task=null}start(){this.schedule(n5)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}schedule(e){i9(n4,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{let e=await this.backfiller.backfill();i9(n4,`Documents written: ${e}`)}catch(e){n$(e)?i9(n4,"Ignoring IndexedDB error during index backfill: ",e):await nH(e)}await this.schedule(n3)})}}class n7{constructor(e,t){this.localStore=e,this.persistence=t}async backfill(e=n6){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.writeIndexEntries(t,e))}writeIndexEntries(e,t){let r=new Set,i=t,n=!0;return nJ.doWhile(()=>!0===n&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(t=>{if(!(null===t||r.has(t)))return i9(n4,`Processing collection: ${t}`),this.writeEntriesForCollectionGroup(e,t,i).next(e=>{i-=e,r.add(t)});n=!1})).next(()=>t-i)}writeEntriesForCollectionGroup(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(r=>{let n=r.changes;return this.localStore.indexManager.updateIndexEntries(e,n).next(()=>this.getNewOffset(i,r)).next(r=>(i9(n4,`Updating offset: ${r}`),this.localStore.indexManager.updateCollectionGroup(e,t,r))).next(()=>n.size)}))}getNewOffset(e,t){let r=e;return t.changes.forEach((e,t)=>{let i=nO(t);nV(i,r)>0&&(r=i)}),new nP(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class se{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.setPreviousValue(e),this.writeNewSequenceNumber=e=>t.writeSequenceNumber(e))}setPreviousValue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(e),e}}se.INVALID=-1;let st="\x01",sr="\x01",si="\x10",sn="\x11";function ss(e){let t="";for(let r=0;r<e.length;r++)t.length>0&&(t=sa(t)),t=so(e.get(r),t);return sa(t)}function so(e,t){let r=t,i=e.length;for(let t=0;t<i;t++){let i=e.charAt(t);switch(i){case"\0":r+=st+si;break;case st:r+=st+sn;break;default:r+=i}}return r}function sa(e){return e+st+sr}function sA(e){let t=e.length;if(i8(t>=2),2===t)return i8(e.charAt(0)===st&&e.charAt(1)===sr),nQ.emptyPath();let r=t-2,i=[],n="";for(let s=0;s<t;){let t=e.indexOf(st,s);switch((t<0||t>r)&&i6(),e.charAt(t+1)){case sr:let o;let a=e.substring(s,t);0===n.length?o=a:(n+=a,o=n,n=""),i.push(o);break;case si:n+=e.substring(s,t)+"\0";break;case sn:n+=e.substring(s,t+1);break;default:i6()}s=t+2}return new nQ(i)}let sl="remoteDocuments",sc="owner",su="owner",sh="mutationQueues",sd="userId",sg="mutations",sf="batchId",sp="userMutationsIndex",sE=["userId","batchId"];function sC(e){return[e]}function sI(e,t){return[e,ss(t)]}function sm(e,t,r){return[e,ss(t),r]}let sB={},sy="documentMutations",sQ="remoteDocumentsV14",sw=["prefixPath","collectionGroup","readTime","documentId"],sv="documentKeyIndex",sb=["prefixPath","collectionGroup","documentId"],sS="collectionGroupIndex",sT=["collectionGroup","readTime","prefixPath","documentId"],sD="remoteDocumentGlobal",sR="remoteDocumentGlobalKey",sk="targets",sN="targetId",sF="queryTargetsIndex",sM=["canonicalId","targetId"],sL="targetDocuments",sU=["targetId","path"],s_="documentTargetsIndex",sx=["path","targetId"],sO="targetGlobalKey",sP="targetGlobal",sV="collectionParents",sG=["collectionId","parent"],sY="clientMetadata",sH="clientId",sJ="bundles",sq="bundleId",sW="namedQueries",sj="name",sz="indexConfiguration",sK="indexId",sZ="collectionGroupIndex",sX="collectionGroup",s$="indexState",s0=["indexId","uid"],s1="sequenceNumberIndex",s2=["uid","sequenceNumber"],s9="indexEntries",s4=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],s5="documentKeyIndex",s3=["indexId","uid","orderedDocumentKey"],s6="documentOverlays",s8=["userId","collectionPath","documentId"],s7="collectionPathOverlayIndex",oe=["userId","collectionPath","largestBatchId"],ot="collectionGroupOverlayIndex",or=["userId","collectionGroup","largestBatchId"],oi="globals",on="name",os=[sh,sg,sy,sl,sk,sc,sP,sL,sY,sD,sV,sJ,sW],oo=[...os,s6],oa=[sh,sg,sy,sQ,sk,sc,sP,sL,sY,sD,sV,sJ,sW,s6],oA=oa,ol=[...oA,sz,s$,s9],oc=ol,ou=[...ol,oi];function oh(e){return 17===e?ou:16===e?oc:15===e?ol:14===e?oA:13===e?oa:12===e?oo:11===e?os:void i6()}class od extends nY{constructor(e,t){super(),this.simpleDbTransaction=e,this.currentSequenceNumber=t}}function og(e,t){let r=i7(e);return nz.getStore(r.simpleDbTransaction,t)}function of(e){let t=0;for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function op(e,t){for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function oE(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class oC{constructor(e,t){this.comparator=e,this.root=t||om.EMPTY}insert(e,t){return new oC(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,om.BLACK,null,null))}remove(e){return new oC(this.comparator,this.root.remove(e,this.comparator).copy(null,null,om.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return -1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oI(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oI(this.root,e,this.comparator,!1)}getReverseIterator(){return new oI(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oI(this.root,e,this.comparator,!0)}}class oI{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let n=1;for(;!e.isEmpty();)if(n=t?r(e.key,t):1,t&&i&&(n*=-1),n<0)e=this.isReverse?e.left:e.right;else if(0===n){this.nodeStack.push(e);break}else this.nodeStack.push(e),e=this.isReverse?e.right:e.left}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class om{constructor(e,t,r,i,n){this.key=e,this.value=t,this.color=null!=r?r:om.RED,this.left=null!=i?i:om.EMPTY,this.right=null!=n?n:om.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,n){return new om(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=n?n:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,n=r(e,i.key);return(i=n<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===n?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r))).fixUp()}removeMin(){if(this.left.isEmpty())return om.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()}remove(e,t){let r;let i=this;if(0>t(e,i.key))i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return om.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}rotateLeft(){let e=this.copy(null,null,om.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,om.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){return Math.pow(2,this.check())<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw i6();let e=this.left.check();if(e===this.right.check())return e+(this.isRed()?0:1);throw i6()}}om.EMPTY=null,om.RED=!0,om.BLACK=!1;class oB{constructor(){this.size=0}get key(){throw i6()}get value(){throw i6()}get color(){throw i6()}get left(){throw i6()}get right(){throw i6()}copy(e,t,r,i,n){return this}insert(e,t,r){return new om(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}}om.EMPTY=new oB;class oy{constructor(e){this.comparator=e,this.data=new oC(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new oQ(this.data.getIterator())}getIteratorFrom(e){return new oQ(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof oy)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let e=t.getNext().key,i=r.getNext().key;if(0!==this.comparator(e,i))return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new oy(this.comparator);return t.data=e,t}}class oQ{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ow(e,t,r,i,n){let s=e.getIterator(),o=t.getIterator(),a=ov(s),A=ov(o);for(;a||A;){let e=!1,t=!1;if(a&&A){let i=r(a,A);i<0?t=!0:i>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(i(A),A=ov(o)):t?(n(a),a=ov(s)):(a=ov(s),A=ov(o))}}function ov(e){return e.hasNext()?e.getNext():void 0}class ob{constructor(e){this.fields=e,e.sort(nv.comparator)}static empty(){return new ob([])}unionWith(e){let t=new oy(nv.comparator);for(let e of this.fields)t=t.add(e);for(let r of e)t=t.add(r);return new ob(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return nf(this.fields,e.fields,(e,t)=>e.isEqual(t))}}function oS(e){return Buffer.from(e,"base64").toString("binary")}function oT(e){return Buffer.from(e,"binary").toString("base64")}class oD{constructor(e){this.binaryString=e}static fromBase64String(e){return new oD(oS(e))}static fromUint8Array(e){return new oD(oR(e))}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return oT(this.binaryString)}toUint8Array(){return ok(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ng(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}function oR(e){let t="";for(let r=0;r<e.length;++r)t+=String.fromCharCode(e[r]);return t}function ok(e){let t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}oD.EMPTY_BYTE_STRING=new oD("");let oN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oF(e){if(i8(!!e),"string"==typeof e){let t=0,r=oN.exec(e);if(i8(!!r),r[1]){let e=r[1];t=Number(e=(e+"000000000").substr(0,9))}return{seconds:Math.floor(new Date(e).getTime()/1e3),nanos:t}}return{seconds:oM(e.seconds),nanos:oM(e.nanos)}}function oM(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function oL(e){return"string"==typeof e?oD.fromBase64String(e):oD.fromUint8Array(e)}let oU="server_timestamp",o_="__type__",ox="__previous_value__",oO="__local_write_time__";function oP(e){var t,r;return(null===(r=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[o_])||void 0===r?void 0:r.stringValue)===oU}function oV(e,t){let r={fields:{[o_]:{stringValue:oU},[oO]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&oP(t)&&(t=oG(t)),t&&(r.fields[ox]=t),{mapValue:r}}function oG(e){let t=e.mapValue.fields[ox];return oP(t)?oG(t):t}function oY(e){let t=oF(e.mapValue.fields[oO].timestampValue);return new nI(t.seconds,t.nanos)}class oH{constructor(e,t,r,i,n,s,o,a,A){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=n,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=A}}let oJ="(default)";class oq{constructor(e,t){this.projectId=e,this.database=t||oJ}static empty(){return new oq("","")}get isDefaultDatabase(){return this.database===oJ}isEqual(e){return e instanceof oq&&e.projectId===this.projectId&&e.database===this.database}}function oW(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new nt(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oq(e.options.projectId,t)}let oj=-1;function oz(e){return null==e}function oK(e){return 0===e&&1/e==-1/0}function oZ(e){return"number"==typeof e&&Number.isInteger(e)&&!oK(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}let oX="__type__",o$="__max__",o0={mapValue:{fields:{__type__:{stringValue:o$}}}},o1="__vector__",o2="value",o9={nullValue:"NULL_VALUE"};function o4(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?oP(e)?4:aN(e)?9007199254740991:aR(e)?10:11:i6()}function o5(e,t){if(e===t)return!0;let r=o4(e);if(r!==o4(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return oY(e).isEqual(oY(t));case 3:return o3(e,t);case 5:return e.stringValue===t.stringValue;case 6:return o8(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return o6(e,t);case 2:return o7(e,t);case 9:return nf(e.arrayValue.values||[],t.arrayValue.values||[],o5);case 10:case 11:return ae(e,t);default:return i6()}}function o3(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;let r=oF(e.timestampValue),i=oF(t.timestampValue);return r.seconds===i.seconds&&r.nanos===i.nanos}function o6(e,t){return oM(e.geoPointValue.latitude)===oM(t.geoPointValue.latitude)&&oM(e.geoPointValue.longitude)===oM(t.geoPointValue.longitude)}function o8(e,t){return oL(e.bytesValue).isEqual(oL(t.bytesValue))}function o7(e,t){if("integerValue"in e&&"integerValue"in t)return oM(e.integerValue)===oM(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){let r=oM(e.doubleValue),i=oM(t.doubleValue);return r===i?oK(r)===oK(i):isNaN(r)&&isNaN(i)}return!1}function ae(e,t){let r=e.mapValue.fields||{},i=t.mapValue.fields||{};if(of(r)!==of(i))return!1;for(let e in r)if(r.hasOwnProperty(e)&&(void 0===i[e]||!o5(r[e],i[e])))return!1;return!0}function at(e,t){return void 0!==(e.values||[]).find(e=>o5(e,t))}function ar(e,t){if(e===t)return 0;let r=o4(e),i=o4(t);if(r!==i)return ng(r,i);switch(r){case 0:case 9007199254740991:return 0;case 1:return ng(e.booleanValue,t.booleanValue);case 2:return ai(e,t);case 3:return an(e.timestampValue,t.timestampValue);case 4:return an(oY(e),oY(t));case 5:return ng(e.stringValue,t.stringValue);case 6:return aa(e.bytesValue,t.bytesValue);case 7:return as(e.referenceValue,t.referenceValue);case 8:return ao(e.geoPointValue,t.geoPointValue);case 9:return aA(e.arrayValue,t.arrayValue);case 10:return al(e.mapValue,t.mapValue);case 11:return ac(e.mapValue,t.mapValue);default:throw i6()}}function ai(e,t){let r=oM(e.integerValue||e.doubleValue),i=oM(t.integerValue||t.doubleValue);return r<i?-1:r>i?1:r===i?0:isNaN(r)?isNaN(i)?0:-1:1}function an(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ng(e,t);let r=oF(e),i=oF(t),n=ng(r.seconds,i.seconds);return 0!==n?n:ng(r.nanos,i.nanos)}function as(e,t){let r=e.split("/"),i=t.split("/");for(let e=0;e<r.length&&e<i.length;e++){let t=ng(r[e],i[e]);if(0!==t)return t}return ng(r.length,i.length)}function ao(e,t){let r=ng(oM(e.latitude),oM(t.latitude));return 0!==r?r:ng(oM(e.longitude),oM(t.longitude))}function aa(e,t){let r=oL(e),i=oL(t);return r.compareTo(i)}function aA(e,t){let r=e.values||[],i=t.values||[];for(let e=0;e<r.length&&e<i.length;++e){let t=ar(r[e],i[e]);if(t)return t}return ng(r.length,i.length)}function al(e,t){var r,i,n,s;let o=e.fields||{},a=t.fields||{},A=null===(r=o[o2])||void 0===r?void 0:r.arrayValue,l=null===(i=a[o2])||void 0===i?void 0:i.arrayValue,c=ng((null===(n=null==A?void 0:A.values)||void 0===n?void 0:n.length)||0,(null===(s=null==l?void 0:l.values)||void 0===s?void 0:s.length)||0);return 0!==c?c:aA(A,l)}function ac(e,t){if(e===o0.mapValue&&t===o0.mapValue)return 0;if(e===o0.mapValue)return 1;if(t===o0.mapValue)return -1;let r=e.fields||{},i=Object.keys(r),n=t.fields||{},s=Object.keys(n);i.sort(),s.sort();for(let e=0;e<i.length&&e<s.length;++e){let t=ng(i[e],s[e]);if(0!==t)return t;let o=ar(r[i[e]],n[s[e]]);if(0!==o)return o}return ng(i.length,s.length)}function au(e){return ah(e)}function ah(e){if("nullValue"in e)return"null";if("booleanValue"in e)return""+e.booleanValue;if("integerValue"in e)return""+e.integerValue;if("doubleValue"in e)return""+e.doubleValue;if("timestampValue"in e)return ag(e.timestampValue);if("stringValue"in e)return e.stringValue;if("bytesValue"in e)return ad(e.bytesValue);else if("referenceValue"in e)return ap(e.referenceValue);else if("geoPointValue"in e)return af(e.geoPointValue);else if("arrayValue"in e)return aC(e.arrayValue);else if("mapValue"in e)return aE(e.mapValue);else return i6()}function ad(e){return oL(e).toBase64()}function ag(e){let t=oF(e);return`time(${t.seconds},${t.nanos})`}function af(e){return`geo(${e.latitude},${e.longitude})`}function ap(e){return nb.fromName(e).toString()}function aE(e){let t=Object.keys(e.fields||{}).sort(),r="{",i=!0;for(let n of t)i?i=!1:r+=",",r+=`${n}:${ah(e.fields[n])}`;return r+"}"}function aC(e){let t="[",r=!0;for(let i of e.values||[])r?r=!1:t+=",",t+=ah(i);return t+"]"}function aI(e){switch(o4(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let t=oG(e);return t?16+aI(t):16;case 5:return 2*e.stringValue.length;case 6:return oL(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return aB(e.arrayValue);case 10:case 11:return am(e.mapValue);default:throw i6()}}function am(e){let t=0;return op(e.fields,(e,r)=>{t+=e.length+aI(r)}),t}function aB(e){return(e.values||[]).reduce((e,t)=>e+aI(t),0)}function ay(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function aQ(e){return!!e&&"integerValue"in e}function aw(e){return!!e&&"doubleValue"in e}function av(e){return aQ(e)||aw(e)}function ab(e){return!!e&&"arrayValue"in e}function aS(e){return!!e&&"nullValue"in e}function aT(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function aD(e){return!!e&&"mapValue"in e}function aR(e){var t,r;return(null===(r=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[oX])||void 0===r?void 0:r.stringValue)===o1}function ak(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){let t={mapValue:{fields:{}}};return op(e.mapValue.fields,(e,r)=>t.mapValue.fields[e]=ak(r)),t}{if(!e.arrayValue)return Object.assign({},e);let t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=ak(e.arrayValue.values[r]);return t}}function aN(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===o$}let aF={mapValue:{fields:{[oX]:{stringValue:o1},[o2]:{arrayValue:{}}}}};function aM(e){if("nullValue"in e)return o9;if("booleanValue"in e)return{booleanValue:!1};if("integerValue"in e||"doubleValue"in e)return{doubleValue:NaN};if("timestampValue"in e)return{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}};if("stringValue"in e)return{stringValue:""};if("bytesValue"in e)return{bytesValue:""};if("referenceValue"in e)return ay(oq.empty(),nb.empty());else if("geoPointValue"in e)return{geoPointValue:{latitude:-90,longitude:-180}};else if("arrayValue"in e)return{arrayValue:{}};else if(!("mapValue"in e))return i6();else return aR(e)?aF:{mapValue:{}}}function aL(e){if("nullValue"in e)return{booleanValue:!1};if("booleanValue"in e)return{doubleValue:NaN};if("integerValue"in e||"doubleValue"in e)return{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}};if("timestampValue"in e)return{stringValue:""};if("stringValue"in e)return{bytesValue:""};if("bytesValue"in e)return ay(oq.empty(),nb.empty());if("referenceValue"in e)return{geoPointValue:{latitude:-90,longitude:-180}};else if("geoPointValue"in e)return{arrayValue:{}};else if("arrayValue"in e)return aF;else if(!("mapValue"in e))return i6();else return aR(e)?{mapValue:{}}:o0}function aU(e,t){let r=ar(e.value,t.value);return 0!==r?r:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function a_(e,t){let r=ar(e.value,t.value);return 0!==r?r:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class ax{constructor(e){this.value=e}static empty(){return new ax({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(!aD(t=(t.mapValue.fields||{})[e.get(r)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ak(t)}setAll(e){let t=nv.emptyPath(),r={},i=[];e.forEach((e,n)=>{if(!t.isImmediateParentOf(n)){let e=this.getFieldsMap(t);this.applyChanges(e,r,i),r={},i=[],t=n.popLast()}e?r[n.lastSegment()]=ak(e):i.push(n.lastSegment())});let n=this.getFieldsMap(t);this.applyChanges(n,r,i)}delete(e){let t=this.field(e.popLast());aD(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return o5(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];aD(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){for(let i of(op(t,(t,r)=>e[t]=r),r))delete e[i]}clone(){return new ax(ak(this.value))}}function aO(e){let t=[];return op(e.fields,(e,r)=>{let i=new nv([e]);if(aD(r)){let e=aO(r.mapValue).fields;if(0===e.length)t.push(i);else for(let r of e)t.push(i.child(r))}else t.push(i)}),new ob(t)}class aP{constructor(e,t,r,i,n,s,o){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=n,this.data=s,this.documentState=o}static newInvalidDocument(e){return new aP(e,0,nm.min(),nm.min(),nm.min(),ax.empty(),0)}static newFoundDocument(e,t,r,i){return new aP(e,1,t,nm.min(),r,i,0)}static newNoDocument(e,t){return new aP(e,2,t,nm.min(),nm.min(),ax.empty(),0)}static newUnknownDocument(e,t){return new aP(e,3,t,nm.min(),nm.min(),ax.empty(),2)}convertToFoundDocument(e,t){return this.createTime.isEqual(nm.min())&&(2===this.documentType||0===this.documentType)&&(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ax.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ax.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=nm.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof aP&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new aP(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}function aV(e,t,r){let i=t.data.field(e),n=r.data.field(e);return null!==i&&null!==n?ar(i,n):i6()}class aG{constructor(e,t){this.position=e,this.inclusive=t}}function aY(e,t,r){let i=0;for(let n=0;n<e.position.length;n++){let s=t[n],o=e.position[n];if(i=s.field.isKeyField()?nb.comparator(nb.fromName(o.referenceValue),r.key):ar(o,r.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function aH(e,t,r){let i=aY(e,t,r);return e.inclusive?i>=0:i>0}function aJ(e,t,r){let i=aY(e,t,r);return e.inclusive?i<=0:i<0}function aq(e,t){if(null===e)return null===t;if(null===t||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!o5(e.position[r],t.position[r]))return!1;return!0}class aW{constructor(e,t="asc"){this.field=e,this.dir=t}}function aj(e){return e.field.canonicalString()+e.dir}function az(e){return`${e.field.canonicalString()} (${e.dir})`}function aK(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class aZ{}class aX extends aZ{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Ar(e,t,r):"array-contains"===t?new Ao(e,r):"in"===t?new Aa(e,r):"not-in"===t?new AA(e,r):"array-contains-any"===t?new Al(e,r):new aX(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new Ai(e,r):new An(e,r)}matches(e){let t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ar(t,this.value)):null!==t&&o4(this.value)===o4(t)&&this.matchesComparison(ar(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return i6()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class a$ extends aZ{constructor(e,t){super(),this.filters=e,this.op=t,this.memoizedFlattenedFilters=null}static create(e,t){return new a$(e,t)}matches(e){return a0(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.memoizedFlattenedFilters||(this.memoizedFlattenedFilters=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.memoizedFlattenedFilters}getFilters(){return Object.assign([],this.filters)}}function a0(e){return"and"===e.op}function a1(e){return"or"===e.op}function a2(e){return a9(e)&&a0(e)}function a9(e){for(let t of e.filters)if(t instanceof a$)return!1;return!0}function a4(e){if(e instanceof aX)return e.field.canonicalString()+e.op.toString()+au(e.value);if(a2(e))return e.filters.map(e=>a4(e)).join(",");{let t=e.filters.map(e=>a4(e)).join(",");return`${e.op}(${t})`}}function a5(e,t){return e instanceof aX?a3(e,t):e instanceof a$?a6(e,t):void i6()}function a3(e,t){return t instanceof aX&&e.op===t.op&&e.field.isEqual(t.field)&&o5(e.value,t.value)}function a6(e,t){return t instanceof a$&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,r,i)=>e&&a5(r,t.filters[i]),!0)}function a8(e,t){let r=e.filters.concat(t);return a$.create(r,e.op)}function a7(e){return e instanceof aX?At(e):e instanceof a$?Ae(e):"Filter"}function Ae(e){return e.op.toString()+" {"+e.getFilters().map(a7).join(" ,")+"}"}function At(e){return`${e.field.canonicalString()} ${e.op} ${au(e.value)}`}class Ar extends aX{constructor(e,t,r){super(e,t,r),this.key=nb.fromName(r.referenceValue)}matches(e){let t=nb.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ai extends aX{constructor(e,t){super(e,"in",t),this.keys=As("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class An extends aX{constructor(e,t){super(e,"not-in",t),this.keys=As("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function As(e,t){var r;return((null===(r=t.arrayValue)||void 0===r?void 0:r.values)||[]).map(e=>nb.fromName(e.referenceValue))}class Ao extends aX{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return ab(t)&&at(t.arrayValue,this.value)}}class Aa extends aX{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return null!==t&&at(this.value.arrayValue,t)}}class AA extends aX{constructor(e,t){super(e,"not-in",t)}matches(e){if(at(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return null!==t&&!at(this.value.arrayValue,t)}}class Al extends aX{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!!ab(t)&&!!t.arrayValue.values&&t.arrayValue.values.some(e=>at(this.value.arrayValue,e))}}class Ac{constructor(e,t=null,r=[],i=[],n=null,s=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=n,this.startAt=s,this.endAt=o,this.memoizedCanonicalId=null}}function Au(e,t=null,r=[],i=[],n=null,s=null,o=null){return new Ac(e,t,r,i,n,s,o)}function Ah(e){let t=i7(e);if(null===t.memoizedCanonicalId){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:"+t.filters.map(e=>a4(e)).join(",")+"|ob:"+t.orderBy.map(e=>aj(e)).join(","),oz(t.limit)||(e+="|l:"+t.limit),t.startAt&&(e+="|lb:"+(t.startAt.inclusive?"b:":"a:")+t.startAt.position.map(e=>au(e)).join(",")),t.endAt&&(e+="|ub:"+(t.endAt.inclusive?"a:":"b:")+t.endAt.position.map(e=>au(e)).join(",")),t.memoizedCanonicalId=e}return t.memoizedCanonicalId}function Ad(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>a7(e)).join(", ")}]`),oz(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>az(e)).join(", ")}]`),e.startAt&&(t+=", startAt: "+(e.startAt.inclusive?"b:":"a:")+e.startAt.position.map(e=>au(e)).join(",")),e.endAt&&(t+=", endAt: "+(e.endAt.inclusive?"a:":"b:")+e.endAt.position.map(e=>au(e)).join(",")),`Target(${t})`}function Ag(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!aK(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!a5(e.filters[r],t.filters[r]))return!1;return!!(e.collectionGroup===t.collectionGroup&&e.path.isEqual(t.path)&&aq(e.startAt,t.startAt))&&aq(e.endAt,t.endAt)}function Af(e){return nb.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Ap(e,t){return e.filters.filter(e=>e instanceof aX&&e.field.isEqual(t))}function AE(e,t){let r=nR(t);if(void 0===r)return null;for(let t of Ap(e,r.fieldPath))switch(t.op){case"array-contains-any":return t.value.arrayValue.values||[];case"array-contains":return[t.value]}return null}function AC(e,t){let r=new Map;for(let i of nk(t))for(let t of Ap(e,i.fieldPath))switch(t.op){case"==":case"in":r.set(i.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return r.set(i.fieldPath.canonicalString(),t.value),Array.from(r.values())}return null}function AI(e,t){let r=[],i=!0;for(let n of nk(t)){let t=0===n.kind?AB(e,n.fieldPath,e.startAt):Ay(e,n.fieldPath,e.startAt);r.push(t.value),i&&(i=t.inclusive)}return new aG(r,i)}function Am(e,t){let r=[],i=!0;for(let n of nk(t)){let t=0===n.kind?Ay(e,n.fieldPath,e.endAt):AB(e,n.fieldPath,e.endAt);r.push(t.value),i&&(i=t.inclusive)}return new aG(r,i)}function AB(e,t,r){let i=o9,n=!0;for(let r of Ap(e,t)){let e=o9,t=!0;switch(r.op){case"<":case"<=":e=aM(r.value);break;case"==":case"in":case">=":e=r.value;break;case">":e=r.value,t=!1;break;case"!=":case"not-in":e=o9}0>aU({value:i,inclusive:n},{value:e,inclusive:t})&&(i=e,n=t)}if(null!==r){for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){let e=r.position[s];0>aU({value:i,inclusive:n},{value:e,inclusive:r.inclusive})&&(i=e,n=r.inclusive);break}}return{value:i,inclusive:n}}function Ay(e,t,r){let i=o0,n=!0;for(let r of Ap(e,t)){let e=o0,t=!0;switch(r.op){case">=":case">":e=aL(r.value),t=!1;break;case"==":case"in":case"<=":e=r.value;break;case"<":e=r.value,t=!1;break;case"!=":case"not-in":e=o0}a_({value:i,inclusive:n},{value:e,inclusive:t})>0&&(i=e,n=t)}if(null!==r){for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){let e=r.position[s];a_({value:i,inclusive:n},{value:e,inclusive:r.inclusive})>0&&(i=e,n=r.inclusive);break}}return{value:i,inclusive:n}}function AQ(e){let t=new oy(nv.comparator),r=!1;for(let i of e.filters)for(let e of i.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?r=!0:t=t.add(e.field));for(let r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(r?1:0)}function Aw(e){return null!==e.limit}class Av{constructor(e,t=null,r=[],i=[],n=null,s="F",o=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=n,this.limitType=s,this.startAt=o,this.endAt=a,this.memoizedNormalizedOrderBy=null,this.memoizedTarget=null,this.memoizedAggregateTarget=null,this.startAt,this.endAt}}function Ab(e,t,r,i,n,s,o,a){return new Av(e,t,r,i,n,s,o,a)}function AS(e){return new Av(e)}function AT(e,t){return new Av(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}function AD(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function AR(e){let t=new oy(nv.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}function Ak(e){return nb.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function AN(e){return null!==e.collectionGroup}function AF(e){let t=i7(e);if(null===t.memoizedNormalizedOrderBy){t.memoizedNormalizedOrderBy=[];let e=new Set;for(let r of t.explicitOrderBy)t.memoizedNormalizedOrderBy.push(r),e.add(r.field.canonicalString());let r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";AR(t).forEach(i=>{e.has(i.canonicalString())||i.isKeyField()||t.memoizedNormalizedOrderBy.push(new aW(i,r))}),e.has(nv.keyField().canonicalString())||t.memoizedNormalizedOrderBy.push(new aW(nv.keyField(),r))}return t.memoizedNormalizedOrderBy}function AM(e){let t=i7(e);return t.memoizedTarget||(t.memoizedTarget=AU(t,AF(e))),t.memoizedTarget}function AL(e){let t=i7(e);return t.memoizedAggregateTarget||(t.memoizedAggregateTarget=AU(t,e.explicitOrderBy)),t.memoizedAggregateTarget}function AU(e,t){if("F"===e.limitType)return Au(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{let t="desc"===e.dir?"asc":"desc";return new aW(e.field,t)});let r=e.endAt?new aG(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new aG(e.startAt.position,e.startAt.inclusive):null;return Au(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}}function A_(e,t){let r=e.filters.concat([t]);return new Av(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function Ax(e,t){let r=e.explicitOrderBy.concat([t]);return new Av(e.path,e.collectionGroup,r,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}function AO(e,t,r){return new Av(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function AP(e,t){return new Av(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}function AV(e,t){return new Av(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}function AG(e,t){return Ag(AM(e),AM(t))&&e.limitType===t.limitType}function AY(e){return`${Ah(AM(e))}|lt:${e.limitType}`}function AH(e){return`Query(target=${Ad(AM(e))}; limitType=${e.limitType})`}function AJ(e,t){return t.isFoundDocument()&&Aq(e,t)&&AW(e,t)&&Aj(e,t)&&Az(e,t)}function Aq(e,t){let r=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):nb.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}function AW(e,t){for(let r of AF(e))if(!r.field.isKeyField()&&null===t.data.field(r.field))return!1;return!0}function Aj(e,t){for(let r of e.filters)if(!r.matches(t))return!1;return!0}function Az(e,t){return(!e.startAt||!!aJ(e.startAt,AF(e),t))&&(!e.endAt||!!aH(e.endAt,AF(e),t))}function AK(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function AZ(e){return(t,r)=>{let i=!1;for(let n of AF(e)){let e=AX(n,t,r);if(0!==e)return e;i=i||n.field.isKeyField()}return 0}}function AX(e,t,r){let i=e.field.isKeyField()?nb.comparator(t.key,r.key):aV(e.field,t,r);switch(e.dir){case"asc":return i;case"desc":return -1*i;default:return i6()}}class A${constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r){for(let[t,i]of r)if(this.equalsFn(t,e))return i}}has(e){return void 0!==this.get(e)}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i){this.inner[r]=[[e,t]],this.innerSize++;return}for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e)){i[r]=[e,t];return}i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){op(this.inner,(t,r)=>{for(let[t,i]of r)e(t,i)})}isEmpty(){return oE(this.inner)}size(){return this.innerSize}}let A0=new oC(nb.comparator);function A1(){return A0}let A2=new oC(nb.comparator);function A9(...e){let t=A2;for(let r of e)t=t.insert(r.key,r);return t}function A4(){return A8()}function A5(e){let t=A2;return e.forEach((e,r)=>t=t.insert(e,r.overlayedDocument)),t}function A3(){return A8()}function A6(){return A8()}function A8(){return new A$(e=>e.toString(),(e,t)=>e.isEqual(t))}let A7=new oC(nb.comparator);function le(){return A7}let lt=new oy(nb.comparator);function lr(...e){let t=lt;for(let r of e)t=t.add(r);return t}let li=new oy(ng);function ln(){return li}function ls(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oK(t)?"-0":t}}function lo(e){return{integerValue:""+e}}function la(e,t){return oZ(t)?lo(t):ls(e,t)}class lA{constructor(){this._=void 0}}function ll(e,t,r){return e instanceof ld?oV(r,t):e instanceof lg?lf(e,t):e instanceof lp?lE(e,t):lI(e,t)}function lc(e,t,r){return e instanceof lg?lf(e,t):e instanceof lp?lE(e,t):r}function lu(e,t){return e instanceof lC?av(t)?t:{integerValue:0}:null}function lh(e,t){return e instanceof lg&&t instanceof lg||e instanceof lp&&t instanceof lp?nf(e.elements,t.elements,o5):e instanceof lC&&t instanceof lC?o5(e.operand,t.operand):e instanceof ld&&t instanceof ld}class ld extends lA{}class lg extends lA{constructor(e){super(),this.elements=e}}function lf(e,t){let r=lB(t);for(let t of e.elements)r.some(e=>o5(e,t))||r.push(t);return{arrayValue:{values:r}}}class lp extends lA{constructor(e){super(),this.elements=e}}function lE(e,t){let r=lB(t);for(let t of e.elements)r=r.filter(e=>!o5(e,t));return{arrayValue:{values:r}}}class lC extends lA{constructor(e,t){super(),this.serializer=e,this.operand=t}}function lI(e,t){let r=lu(e,t),i=lm(r)+lm(e.operand);return aQ(r)&&aQ(e.operand)?lo(i):ls(e.serializer,i)}function lm(e){return oM(e.integerValue||e.doubleValue)}function lB(e){return ab(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class ly{constructor(e,t){this.field=e,this.transform=t}}function lQ(e,t){return e.field.isEqual(t.field)&&lh(e.transform,t.transform)}function lw(e,t){return void 0===e&&void 0===t||!!e&&!!t&&nf(e,t,(e,t)=>lQ(e,t))}class lv{constructor(e,t){this.version=e,this.transformResults=t}}class lb{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new lb}static exists(e){return new lb(void 0,e)}static updateTime(e){return new lb(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lS(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class lT{}function lD(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new lY(e.key,lb.none()):new lM(e.key,e.data,lb.none());{let r=e.data,i=ax.empty(),n=new oy(nv.comparator);for(let e of t.fields)if(!n.has(e)){let t=r.field(e);null===t&&e.length>1&&(e=e.popLast(),t=r.field(e)),null===t?i.delete(e):i.set(e,t),n=n.add(e)}return new l_(e.key,i,new ob(n.toArray()),lb.none())}}function lR(e,t,r){e instanceof lM?lL(e,t,r):e instanceof l_?lx(e,t,r):lH(e,t,r)}function lk(e,t,r,i){return e instanceof lM?lU(e,t,r,i):e instanceof l_?lO(e,t,r,i):lJ(e,t,r)}function lN(e,t){let r=null;for(let i of e.fieldTransforms){let e=t.data.field(i.field),n=lu(i.transform,e||null);null!=n&&(null===r&&(r=ax.empty()),r.set(i.field,n))}return r||null}function lF(e,t){return!!(e.type===t.type&&e.key.isEqual(t.key)&&e.precondition.isEqual(t.precondition)&&lw(e.fieldTransforms,t.fieldTransforms))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class lM extends lT{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}function lL(e,t,r){let i=e.value.clone(),n=lV(e.fieldTransforms,t,r.transformResults);i.setAll(n),t.convertToFoundDocument(r.version,i).setHasCommittedMutations()}function lU(e,t,r,i){if(!lS(e.precondition,t))return r;let n=e.value.clone(),s=lG(e.fieldTransforms,i,t);return n.setAll(s),t.convertToFoundDocument(t.version,n).setHasLocalMutations(),null}class l_ extends lT{constructor(e,t,r,i,n=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=n,this.type=1}getFieldMask(){return this.fieldMask}}function lx(e,t,r){if(!lS(e.precondition,t)){t.convertToUnknownDocument(r.version);return}let i=lV(e.fieldTransforms,t,r.transformResults),n=t.data;n.setAll(lP(e)),n.setAll(i),t.convertToFoundDocument(r.version,n).setHasCommittedMutations()}function lO(e,t,r,i){if(!lS(e.precondition,t))return r;let n=lG(e.fieldTransforms,i,t),s=t.data;return(s.setAll(lP(e)),s.setAll(n),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===r)?null:r.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}function lP(e){let t=new Map;return e.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){let i=e.data.field(r);t.set(r,i)}}),t}function lV(e,t,r){let i=new Map;i8(e.length===r.length);for(let n=0;n<r.length;n++){let s=e[n],o=s.transform,a=t.data.field(s.field);i.set(s.field,lc(o,a,r[n]))}return i}function lG(e,t,r){let i=new Map;for(let n of e){let e=n.transform,s=r.data.field(n.field);i.set(n.field,ll(e,s,t))}return i}class lY extends lT{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}function lH(e,t,r){t.convertToNoDocument(r.version).setHasCommittedMutations()}function lJ(e,t,r){return lS(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):r}class lq extends lT{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class lW{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let t=0;t<this.mutations.length;t++){let i=this.mutations[t];i.key.isEqual(e.key)&&lR(i,e,r[t])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=lk(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=lk(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=A6();return this.mutations.forEach(i=>{let n=e.get(i.key),s=n.overlayedDocument,o=this.applyToLocalView(s,n.mutatedFields),a=lD(s,o=t.has(i.key)?null:o);null!==a&&r.set(i.key,a),s.isValidDocument()||s.convertToNoDocument(nm.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),lr())}isEqual(e){return this.batchId===e.batchId&&nf(this.mutations,e.mutations,(e,t)=>lF(e,t))&&nf(this.baseMutations,e.baseMutations,(e,t)=>lF(e,t))}}class lj{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){i8(e.mutations.length===r.length);let i=le(),n=e.mutations;for(let e=0;e<n.length;e++)i=i.insert(n[e].key,r[e].version);return new lj(e,t,r,i)}}class lz{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class lK{constructor(e,t){this.count=e,this.unchangedNames=t}}function lZ(e){switch(e){case ne.OK:return i6();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return i6()}}function lX(e){return lZ(e)&&e!==ne.ABORTED}function l$(e){if(void 0===e)return i4("GRPC error has no .code"),ne.UNKNOWN;switch(e){case E.OK:return ne.OK;case E.CANCELLED:return ne.CANCELLED;case E.UNKNOWN:return ne.UNKNOWN;case E.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case E.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case E.INTERNAL:return ne.INTERNAL;case E.UNAVAILABLE:return ne.UNAVAILABLE;case E.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case E.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case E.NOT_FOUND:return ne.NOT_FOUND;case E.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case E.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case E.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case E.ABORTED:return ne.ABORTED;case E.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case E.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case E.DATA_LOSS:return ne.DATA_LOSS;default:return i6()}}!function(e){e[e.OK=0]="OK",e[e.CANCELLED=1]="CANCELLED",e[e.UNKNOWN=2]="UNKNOWN",e[e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",e[e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",e[e.NOT_FOUND=5]="NOT_FOUND",e[e.ALREADY_EXISTS=6]="ALREADY_EXISTS",e[e.PERMISSION_DENIED=7]="PERMISSION_DENIED",e[e.UNAUTHENTICATED=16]="UNAUTHENTICATED",e[e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",e[e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",e[e.ABORTED=10]="ABORTED",e[e.OUT_OF_RANGE=11]="OUT_OF_RANGE",e[e.UNIMPLEMENTED=12]="UNIMPLEMENTED",e[e.INTERNAL=13]="INTERNAL",e[e.UNAVAILABLE=14]="UNAVAILABLE",e[e.DATA_LOSS=15]="DATA_LOSS"}(E||(E={}));class l0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}let l1=null;function l2(e){if(l1)throw Error("a TestingHooksSpi instance is already set");l1=e}function l9(){return new iH.TextEncoder}function l4(){return new TextDecoder("utf-8")}let l5=new f([4294967295,4294967295],0);function l3(e){let t=l9().encode(e),r=new p;return r.update(t),new Uint8Array(r.digest())}function l6(e){let t=new DataView(e.buffer),r=t.getUint32(0,!0),i=t.getUint32(4,!0),n=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new f([r,i],0),new f([n,s],0)]}class l8{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new l7(`Invalid padding: ${t}`);if(r<0||e.length>0&&0===this.hashCount)throw new l7(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new l7(`Invalid padding when bitmap length is 0: ${t}`);this.bitCount=8*e.length-t,this.bitCountInInteger=f.fromNumber(this.bitCount)}getBitIndex(e,t,r){let i=e.add(t.multiply(f.fromNumber(r)));return 1===i.compare(l5)&&(i=new f([i.getBits(0),i.getBits(1)],0)),i.modulo(this.bitCountInInteger).toNumber()}isBitSet(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(0===this.bitCount)return!1;let[t,r]=l6(l3(e));for(let e=0;e<this.hashCount;e++){let i=this.getBitIndex(t,r,e);if(!this.isBitSet(i))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,n=new l8(new Uint8Array(Math.ceil(e/8)),i,t);return r.forEach(e=>n.insert(e)),n}insert(e){if(0===this.bitCount)return;let[t,r]=l6(l3(e));for(let e=0;e<this.hashCount;e++){let i=this.getBitIndex(t,r,e);this.setBit(i)}}setBit(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class l7 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ce{constructor(e,t,r,i,n){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=n}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,ct.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new ce(nm.min(),i,new oC(ng),A1(),lr())}}class ct{constructor(e,t,r,i,n){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=n}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new ct(r,t,lr(),lr(),lr())}}class cr{constructor(e,t,r,i){this.updatedTargetIds=e,this.removedTargetIds=t,this.key=r,this.newDoc=i}}class ci{constructor(e,t){this.targetId=e,this.existenceFilter=t}}class cn{constructor(e,t,r=oD.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class cs{constructor(){this.pendingResponses=0,this.documentChanges=cl(),this._resumeToken=oD.EMPTY_BYTE_STRING,this._current=!1,this._hasPendingChanges=!0}get current(){return this._current}get resumeToken(){return this._resumeToken}get isPending(){return 0!==this.pendingResponses}get hasPendingChanges(){return this._hasPendingChanges}updateResumeToken(e){e.approximateByteSize()>0&&(this._hasPendingChanges=!0,this._resumeToken=e)}toTargetChange(){let e=lr(),t=lr(),r=lr();return this.documentChanges.forEach((i,n)=>{switch(n){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:i6()}}),new ct(this._resumeToken,this._current,e,t,r)}clearPendingChanges(){this._hasPendingChanges=!1,this.documentChanges=cl()}addDocumentChange(e,t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(e,t)}removeDocumentChange(e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(e)}recordPendingTargetRequest(){this.pendingResponses+=1}recordTargetResponse(){this.pendingResponses-=1,i8(this.pendingResponses>=0)}markCurrent(){this._hasPendingChanges=!0,this._current=!0}}let co="WatchChangeAggregator";class ca{constructor(e){this.metadataProvider=e,this.targetStates=new Map,this.pendingDocumentUpdates=A1(),this.pendingDocumentTargetMapping=cA(),this.pendingTargetResets=new oC(ng)}handleDocumentChange(e){for(let t of e.updatedTargetIds)e.newDoc&&e.newDoc.isFoundDocument()?this.addDocumentToTarget(t,e.newDoc):this.removeDocumentFromTarget(t,e.key,e.newDoc);for(let t of e.removedTargetIds)this.removeDocumentFromTarget(t,e.key,e.newDoc)}handleTargetChange(e){this.forEachTarget(e,t=>{let r=this.ensureTargetState(t);switch(e.state){case 0:this.isActiveTarget(t)&&r.updateResumeToken(e.resumeToken);break;case 1:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(e.resumeToken);break;case 2:r.recordTargetResponse(),r.isPending||this.removeTarget(t);break;case 3:this.isActiveTarget(t)&&(r.markCurrent(),r.updateResumeToken(e.resumeToken));break;case 4:this.isActiveTarget(t)&&(this.resetTarget(t),r.updateResumeToken(e.resumeToken));break;default:i6()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.targetStates.forEach((e,r)=>{this.isActiveTarget(r)&&t(r)})}handleExistenceFilter(e){let t=e.targetId,r=e.existenceFilter.count,i=this.targetDataForActiveTarget(t);if(i){let n=i.target;if(Af(n)){if(0===r){let e=new nb(n.path);this.removeDocumentFromTarget(t,e,aP.newNoDocument(e,nm.min()))}else i8(1===r)}else{let i=this.getCurrentDocumentCountForTarget(t);if(i!==r){let r=this.parseBloomFilter(e),n=r?this.applyBloomFilter(r,e,i):1;if(0!==n){this.resetTarget(t);let e=2===n?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.pendingTargetResets=this.pendingTargetResets.insert(t,e)}null==l1||l1.notifyOnExistenceFilterMismatch(cc(i,e.existenceFilter,this.metadataProvider.getDatabaseId(),r,n))}}}}parseBloomFilter(e){let t,r;let i=e.existenceFilter.unchangedNames;if(!i||!i.bits)return null;let{bits:{bitmap:n="",padding:s=0},hashCount:o=0}=i;try{t=oL(n).toUint8Array()}catch(e){if(e instanceof l0)return i5("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{r=new l8(t,s,o)}catch(e){return e instanceof l7?i5("BloomFilter error: ",e):i5("Applying bloom filter failed: ",e),null}return 0===r.bitCount?null:r}applyBloomFilter(e,t,r){return t.existenceFilter.count===r-this.filterRemovedDocuments(e,t.targetId)?0:2}filterRemovedDocuments(e,t){let r=this.metadataProvider.getRemoteKeysForTarget(t),i=0;return r.forEach(r=>{let n=this.metadataProvider.getDatabaseId(),s=`projects/${n.projectId}/databases/${n.database}/documents/${r.path.canonicalString()}`;!e.mightContain(s)&&(this.removeDocumentFromTarget(t,r,null),i++)}),i}createRemoteEvent(e){let t=new Map;this.targetStates.forEach((r,i)=>{let n=this.targetDataForActiveTarget(i);if(n){if(r.current&&Af(n.target)){let t=new nb(n.target.path);null!==this.pendingDocumentUpdates.get(t)||this.targetContainsDocument(i,t)||this.removeDocumentFromTarget(i,t,aP.newNoDocument(t,e))}r.hasPendingChanges&&(t.set(i,r.toTargetChange()),r.clearPendingChanges())}});let r=lr();this.pendingDocumentTargetMapping.forEach((e,t)=>{let i=!0;t.forEachWhile(e=>{let t=this.targetDataForActiveTarget(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(i=!1,!1)}),i&&(r=r.add(e))}),this.pendingDocumentUpdates.forEach((t,r)=>r.setReadTime(e));let i=new ce(e,t,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=A1(),this.pendingDocumentTargetMapping=cA(),this.pendingTargetResets=new oC(ng),i}addDocumentToTarget(e,t){if(!this.isActiveTarget(e))return;let r=this.targetContainsDocument(e,t.key)?2:0;this.ensureTargetState(e).addDocumentChange(t.key,r),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t.key,t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t.key,this.ensureDocumentTargetMapping(t.key).add(e))}removeDocumentFromTarget(e,t,r){if(!this.isActiveTarget(e))return;let i=this.ensureTargetState(e);this.targetContainsDocument(e,t)?i.addDocumentChange(t,1):i.removeDocumentChange(t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,this.ensureDocumentTargetMapping(t).delete(e)),r&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t,r))}removeTarget(e){this.targetStates.delete(e)}getCurrentDocumentCountForTarget(e){let t=this.ensureTargetState(e).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}recordPendingTargetRequest(e){this.ensureTargetState(e).recordPendingTargetRequest()}ensureTargetState(e){let t=this.targetStates.get(e);return t||(t=new cs,this.targetStates.set(e,t)),t}ensureDocumentTargetMapping(e){let t=this.pendingDocumentTargetMapping.get(e);return t||(t=new oy(ng),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,t)),t}isActiveTarget(e){let t=null!==this.targetDataForActiveTarget(e);return t||i9(co,"Detected inactive target",e),t}targetDataForActiveTarget(e){let t=this.targetStates.get(e);return t&&t.isPending?null:this.metadataProvider.getTargetDataForTarget(e)}resetTarget(e){this.targetStates.set(e,new cs),this.metadataProvider.getRemoteKeysForTarget(e).forEach(t=>{this.removeDocumentFromTarget(e,t,null)})}targetContainsDocument(e,t){return this.metadataProvider.getRemoteKeysForTarget(e).has(t)}}function cA(){return new oC(nb.comparator)}function cl(){return new oC(nb.comparator)}function cc(e,t,r,i,n){var s,o,a,A,l,c;let u={localCacheCount:e,existenceFilterCount:t.count,databaseId:r.database,projectId:r.projectId},h=t.unchangedNames;return h&&(u.bloomFilter={applied:0===n,hashCount:null!==(s=null==h?void 0:h.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(A=null===(a=null===(o=null==h?void 0:h.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==A?A:0,padding:null!==(c=null===(l=null==h?void 0:h.bits)||void 0===l?void 0:l.padding)&&void 0!==c?c:0,mightContain:e=>{var t;return null!==(t=null==i?void 0:i.mightContain(e))&&void 0!==t&&t}}),u}let cu=(()=>{let e={};return e.asc="ASCENDING",e.desc="DESCENDING",e})(),ch=(()=>{let e={};return e["<"]="LESS_THAN",e["<="]="LESS_THAN_OR_EQUAL",e[">"]="GREATER_THAN",e[">="]="GREATER_THAN_OR_EQUAL",e["=="]="EQUAL",e["!="]="NOT_EQUAL",e["array-contains"]="ARRAY_CONTAINS",e.in="IN",e["not-in"]="NOT_IN",e["array-contains-any"]="ARRAY_CONTAINS_ANY",e})(),cd=(()=>{let e={};return e.and="AND",e.or="OR",e})();class cg{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function cf(e){return new nt(void 0===e.code?ne.UNKNOWN:l$(e.code),e.message||"")}function cp(e,t){return e.useProto3Json||oz(t)?t:{value:t}}function cE(e){let t;return oz(t="object"==typeof e?e.value:e)?null:t}function cC(e,t){if(!e.useProto3Json)return{seconds:""+t.seconds,nanos:t.nanoseconds};{let e=new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),r=("000000000"+t.nanoseconds).slice(-9);return`${e}.${r}Z`}}function cI(e){let t=oF(e);return new nI(t.seconds,t.nanos)}function cm(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function cB(e,t){return e.useProto3Json?(i8(void 0===t||"string"==typeof t),oD.fromBase64String(t||"")):(i8(void 0===t||t instanceof Buffer||t instanceof Uint8Array),oD.fromUint8Array(t||new Uint8Array))}function cy(e,t){return cC(e,t.toTimestamp())}function cQ(e){return i8(!!e),nm.fromTimestamp(cI(e))}function cw(e,t){return cv(e,t).canonicalString()}function cv(e,t){let r=cN(e).child("documents");return void 0===t?r:r.child(t)}function cb(e){let t=nQ.fromString(e);return i8(uQ(t)),t}function cS(e,t){return cw(e.databaseId,t.path)}function cT(e,t){let r=cb(t);if(r.get(1)!==e.databaseId.projectId)throw new nt(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new nt(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new nb(cF(r))}function cD(e,t){return cw(e.databaseId,t)}function cR(e){let t=cb(e);return 4===t.length?nQ.emptyPath():cF(t)}function ck(e){return new nQ(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function cN(e){return new nQ(["projects",e.projectId,"databases",e.database])}function cF(e){return i8(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function cM(e,t,r){return{name:cS(e,t),fields:r.value.mapValue.fields}}function cL(e,t){return{name:cS(e,t.key),fields:t.data.value.mapValue.fields,updateTime:cC(e,t.version.toTimestamp()),createTime:cC(e,t.createTime.toTimestamp())}}function cU(e,t,r){let i=cT(e,t.name),n=cQ(t.updateTime),s=t.createTime?cQ(t.createTime):nm.min(),o=new ax({mapValue:{fields:t.fields}}),a=aP.newFoundDocument(i,n,s,o);return r&&a.setHasCommittedMutations(),r?a.setHasCommittedMutations():a}function c_(e,t){i8(!!t.found),t.found.name,t.found.updateTime;let r=cT(e,t.found.name),i=cQ(t.found.updateTime),n=t.found.createTime?cQ(t.found.createTime):nm.min(),s=new ax({mapValue:{fields:t.found.fields}});return aP.newFoundDocument(r,i,n,s)}function cx(e,t){i8(!!t.missing),i8(!!t.readTime);let r=cT(e,t.missing),i=cQ(t.readTime);return aP.newNoDocument(r,i)}function cO(e,t){return"found"in t?c_(e,t):"missing"in t?cx(e,t):i6()}function cP(e,t){let r;if("targetChange"in t){t.targetChange;let i=cV(t.targetChange.targetChangeType||"NO_CHANGE"),n=t.targetChange.targetIds||[],s=cB(e,t.targetChange.resumeToken),o=t.targetChange.cause;r=new cn(i,n,s,o&&cf(o)||null)}else if("documentChange"in t){t.documentChange;let i=t.documentChange;i.document,i.document.name,i.document.updateTime;let n=cT(e,i.document.name),s=cQ(i.document.updateTime),o=i.document.createTime?cQ(i.document.createTime):nm.min(),a=new ax({mapValue:{fields:i.document.fields}}),A=aP.newFoundDocument(n,s,o,a);r=new cr(i.targetIds||[],i.removedTargetIds||[],A.key,A)}else if("documentDelete"in t){t.documentDelete;let i=t.documentDelete;i.document;let n=cT(e,i.document),s=i.readTime?cQ(i.readTime):nm.min(),o=aP.newNoDocument(n,s);r=new cr([],i.removedTargetIds||[],o.key,o)}else if("documentRemove"in t){t.documentRemove;let i=t.documentRemove;i.document;let n=cT(e,i.document);r=new cr([],i.removedTargetIds||[],n,null)}else{if(!("filter"in t))return i6();t.filter;let e=t.filter;e.targetId;let{count:i=0,unchangedNames:n}=e,s=new lK(i,n);r=new ci(e.targetId,s)}return r}function cV(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:i6()}function cG(e){if(!("targetChange"in e))return nm.min();let t=e.targetChange;return t.targetIds&&t.targetIds.length||!t.readTime?nm.min():cQ(t.readTime)}function cY(e,t){let r;if(t instanceof lM)r={update:cM(e,t.key,t.value)};else if(t instanceof lY)r={delete:cS(e,t.key)};else if(t instanceof l_)r={update:cM(e,t.key,t.data),updateMask:uB(t.fieldMask)};else{if(!(t instanceof lq))return i6();r={verify:cS(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(t=>cz(e,t))),t.precondition.isNone||(r.currentDocument=cJ(e,t.precondition)),r}function cH(e,t){let r=t.currentDocument?cq(t.currentDocument):lb.none(),i=t.updateTransforms?t.updateTransforms.map(t=>cK(e,t)):[];if(t.update){t.update.name;let n=cT(e,t.update.name),s=new ax({mapValue:{fields:t.update.fields}});return t.updateMask?new l_(n,s,uy(t.updateMask),r,i):new lM(n,s,r,i)}return t.delete?new lY(cT(e,t.delete),r):t.verify?new lq(cT(e,t.verify),r):i6()}function cJ(e,t){return void 0!==t.updateTime?{updateTime:cy(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:i6()}function cq(e){return void 0!==e.updateTime?lb.updateTime(cQ(e.updateTime)):void 0!==e.exists?lb.exists(e.exists):lb.none()}function cW(e,t){let r=e.updateTime?cQ(e.updateTime):cQ(t);return r.isEqual(nm.min())&&(r=cQ(t)),new lv(r,e.transformResults||[])}function cj(e,t){return e&&e.length>0?(i8(void 0!==t),e.map(e=>cW(e,t))):[]}function cz(e,t){let r=t.transform;if(r instanceof ld)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(r instanceof lg)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:r.elements}};if(r instanceof lp)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:r.elements}};if(r instanceof lC)return{fieldPath:t.field.canonicalString(),increment:r.operand};throw i6()}function cK(e,t){let r=null;return"setToServerValue"in t?(i8("REQUEST_TIME"===t.setToServerValue),r=new ld):"appendMissingElements"in t?r=new lg(t.appendMissingElements.values||[]):"removeAllFromArray"in t?r=new lp(t.removeAllFromArray.values||[]):"increment"in t?r=new lC(e,t.increment):i6(),new ly(nv.fromServerFormat(t.fieldPath),r)}function cZ(e,t){return{documents:[cD(e,t.path)]}}function cX(e){return i8(1===e.documents.length),AM(AS(cR(e.documents[0])))}function c$(e,t){let r;let i={structuredQuery:{}},n=t.path;null!==t.collectionGroup?(r=n,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=n.popLast(),i.structuredQuery.from=[{collectionId:n.lastSegment()}]),i.parent=cD(e,r);let s=c3(t.filters);s&&(i.structuredQuery.where=s);let o=c7(t.orderBy);o&&(i.structuredQuery.orderBy=o);let a=cp(e,t.limit);return null!==a&&(i.structuredQuery.limit=a),t.startAt&&(i.structuredQuery.startAt=ut(t.startAt)),t.endAt&&(i.structuredQuery.endAt=ur(t.endAt)),{queryTarget:i,parent:r}}function c0(e,t,r,i){let{queryTarget:n,parent:s}=c$(e,t),o={},a=[],A=0;return r.forEach(e=>{let t=i?e.alias:`aggregate_${A++}`;o[t]=e.alias,"count"===e.aggregateType?a.push({alias:t,count:{}}):"avg"===e.aggregateType?a.push({alias:t,avg:{field:uu(e.fieldPath)}}):"sum"===e.aggregateType&&a.push({alias:t,sum:{field:uu(e.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:a,structuredQuery:n.structuredQuery},parent:n.parent},aliasMap:o,parent:s}}function c1(e){let t=cR(e.parent),r=e.structuredQuery,i=r.from?r.from.length:0,n=null;if(i>0){i8(1===i);let e=r.from[0];e.allDescendants?n=e.collectionId:t=t.child(e.collectionId)}let s=[];r.where&&(s=c6(r.where));let o=[];r.orderBy&&(o=ue(r.orderBy));let a=null;r.limit&&(a=cE(r.limit));let A=null;r.startAt&&(A=ui(r.startAt));let l=null;return r.endAt&&(l=un(r.endAt)),Ab(t,n,o,s,a,"F",A,l)}function c2(e){return AM(c1(e))}function c9(e,t){let r=c4(t.purpose);return null==r?null:{"goog-listen-tags":r}}function c4(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return i6()}}function c5(e,t){let r;let i=t.target;if((r=Af(i)?{documents:cZ(e,i)}:{query:c$(e,i).queryTarget}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){r.resumeToken=cm(e,t.resumeToken);let i=cp(e,t.expectedCount);null!==i&&(r.expectedCount=i)}else if(t.snapshotVersion.compareTo(nm.min())>0){r.readTime=cC(e,t.snapshotVersion.toTimestamp());let i=cp(e,t.expectedCount);null!==i&&(r.expectedCount=i)}return r}function c3(e){if(0!==e.length)return uf(a$.create(e,"and"))}function c6(e){let t=c8(e);return t instanceof a$&&a2(t)?t.getFilters():[t]}function c8(e){return void 0!==e.unaryFilter?uC(e):void 0!==e.fieldFilter?uI(e):void 0!==e.compositeFilter?um(e):i6()}function c7(e){if(0!==e.length)return e.map(e=>ud(e))}function ue(e){return e.map(e=>ug(e))}function ut(e){return{before:e.inclusive,values:e.position}}function ur(e){return{before:!e.inclusive,values:e.position}}function ui(e){let t=!!e.before;return new aG(e.values||[],t)}function un(e){let t=!e.before;return new aG(e.values||[],t)}function us(e){return cu[e]}function uo(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}function ua(e){return ch[e]}function uA(e){return cd[e]}function ul(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return i6()}}function uc(e){switch(e){case"AND":return"and";case"OR":return"or";default:return i6()}}function uu(e){return{fieldPath:e.canonicalString()}}function uh(e){return nv.fromServerFormat(e.fieldPath)}function ud(e){return{field:uu(e.field),direction:us(e.dir)}}function ug(e){return new aW(uh(e.field),uo(e.direction))}function uf(e){return e instanceof aX?uE(e):e instanceof a$?up(e):i6()}function up(e){let t=e.getFilters().map(e=>uf(e));return 1===t.length?t[0]:{compositeFilter:{op:uA(e.op),filters:t}}}function uE(e){if("=="===e.op){if(aT(e.value))return{unaryFilter:{field:uu(e.field),op:"IS_NAN"}};if(aS(e.value))return{unaryFilter:{field:uu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(aT(e.value))return{unaryFilter:{field:uu(e.field),op:"IS_NOT_NAN"}};if(aS(e.value))return{unaryFilter:{field:uu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uu(e.field),op:ua(e.op),value:e.value}}}function uC(e){switch(e.unaryFilter.op){case"IS_NAN":let t=uh(e.unaryFilter.field);return aX.create(t,"==",{doubleValue:NaN});case"IS_NULL":let r=uh(e.unaryFilter.field);return aX.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let i=uh(e.unaryFilter.field);return aX.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let n=uh(e.unaryFilter.field);return aX.create(n,"!=",{nullValue:"NULL_VALUE"});default:return i6()}}function uI(e){return aX.create(uh(e.fieldFilter.field),ul(e.fieldFilter.op),e.fieldFilter.value)}function um(e){return a$.create(e.compositeFilter.filters.map(e=>c8(e)),uc(e.compositeFilter.op))}function uB(e){let t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function uy(e){return new ob((e.fieldPaths||[]).map(e=>nv.fromServerFormat(e)))}function uQ(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class uw{constructor(e,t,r,i,n=nm.min(),s=nm.min(),o=oD.EMPTY_BYTE_STRING,a=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=n,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new uw(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new uw(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new uw(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new uw(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class uv{constructor(e){this.remoteSerializer=e}}function ub(e,t){let r;if(t.document)r=cU(e.remoteSerializer,t.document,!!t.hasCommittedMutations);else if(t.noDocument){let e=nb.fromSegments(t.noDocument.path),i=uk(t.noDocument.readTime);r=aP.newNoDocument(e,i),t.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!t.unknownDocument)return i6();let e=nb.fromSegments(t.unknownDocument.path),i=uk(t.unknownDocument.version);r=aP.newUnknownDocument(e,i)}return t.readTime&&r.setReadTime(uD(t.readTime)),r}function uS(e,t){let r=t.key,i={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:uT(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document=cL(e.remoteSerializer,t);else if(t.isNoDocument())i.noDocument={path:r.path.toArray(),readTime:uR(t.version)};else{if(!t.isUnknownDocument())return i6();i.unknownDocument={path:r.path.toArray(),version:uR(t.version)}}return i}function uT(e){let t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function uD(e){let t=new nI(e[0],e[1]);return nm.fromTimestamp(t)}function uR(e){let t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function uk(e){let t=new nI(e.seconds,e.nanoseconds);return nm.fromTimestamp(t)}function uN(e,t,r){let i=r.baseMutations.map(t=>cY(e.remoteSerializer,t)),n=r.mutations.map(t=>cY(e.remoteSerializer,t));return{userId:t,batchId:r.batchId,localWriteTimeMs:r.localWriteTime.toMillis(),baseMutations:i,mutations:n}}function uF(e,t){let r=(t.baseMutations||[]).map(t=>cH(e.remoteSerializer,t));for(let e=0;e<t.mutations.length-1;++e){let r=t.mutations[e];if(e+1<t.mutations.length&&void 0!==t.mutations[e+1].transform){let i=t.mutations[e+1];r.updateTransforms=i.transform.fieldTransforms,t.mutations.splice(e+1,1),++e}}let i=t.mutations.map(t=>cH(e.remoteSerializer,t)),n=nI.fromMillis(t.localWriteTimeMs);return new lW(t.batchId,n,r,i)}function uM(e){let t;let r=uk(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?uk(e.lastLimboFreeSnapshotVersion):nm.min();return new uw(t=uU(e.query)?cX(e.query):c2(e.query),e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,r,i,oD.fromBase64String(e.resumeToken))}function uL(e,t){let r;let i=uR(t.snapshotVersion),n=uR(t.lastLimboFreeSnapshotVersion);r=Af(t.target)?cZ(e.remoteSerializer,t.target):c$(e.remoteSerializer,t.target).queryTarget;let s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Ah(t.target),readTime:i,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:n,query:r}}function uU(e){return void 0!==e.documents}function u_(e){return{id:e.bundleId,createTime:uk(e.createTime),version:e.version}}function ux(e){return{bundleId:e.id,createTime:uR(cQ(e.createTime)),version:e.version}}function uO(e){return{name:e.name,query:uV(e.bundledQuery),readTime:uk(e.readTime)}}function uP(e){return{name:e.name,readTime:uR(cQ(e.readTime)),bundledQuery:e.bundledQuery}}function uV(e){let t=c1({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?AO(t,t.limit,"L"):t}function uG(e){return{name:e.name,query:uV(e.bundledQuery),readTime:cQ(e.readTime)}}function uY(e){return{id:e.id,version:e.version,createTime:cQ(e.createTime)}}function uH(e,t){return new lz(t.largestBatchId,cH(e.remoteSerializer,t.overlayMutation))}function uJ(e,t,r){let[i,n,s]=uq(t,r.mutation.key);return{userId:t,collectionPath:n,documentId:s,collectionGroup:r.mutation.key.getCollectionGroup(),largestBatchId:r.largestBatchId,overlayMutation:cY(e.remoteSerializer,r.mutation)}}function uq(e,t){let r=t.path.lastSegment();return[e,ss(t.path.popLast()),r]}function uW(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map(e=>[e.fieldPath.canonicalString(),e.kind])}}function uj(e,t){let r=t?new n_(t.sequenceNumber,new nP(uk(t.readTime),new nb(sA(t.documentKey)),t.largestBatchId)):n_.empty(),i=e.fields.map(([e,t])=>new nL(nv.fromServerFormat(e),t));return new nD(e.indexId,e.collectionGroup,i,r)}function uz(e,t,r,i){return{indexId:e,uid:t,sequenceNumber:r,readTime:uR(i.readTime),documentKey:ss(i.documentKey.path),largestBatchId:i.largestBatchId}}class uK{getBundleMetadata(e,t){return uZ(e).get(t).next(e=>{if(e)return u_(e)})}saveBundleMetadata(e,t){return uZ(e).put(ux(t))}getNamedQuery(e,t){return uX(e).get(t).next(e=>{if(e)return uO(e)})}saveNamedQuery(e,t){return uX(e).put(uP(t))}}function uZ(e){return og(e,sJ)}function uX(e){return og(e,sW)}class u${constructor(e,t){this.serializer=e,this.userId=t}static forUser(e,t){return new u$(e,t.uid||"")}getOverlay(e,t){return u0(e).get(uq(this.userId,t)).next(e=>e?uH(this.serializer,e):null)}getOverlays(e,t){let r=A3();return nJ.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&r.set(t,e)})).next(()=>r)}saveOverlays(e,t,r){let i=[];return r.forEach((r,n)=>{let s=new lz(t,n);i.push(this.saveOverlay(e,s))}),nJ.waitFor(i)}removeOverlaysForBatchId(e,t,r){let i=new Set;t.forEach(e=>i.add(ss(e.getCollectionPath())));let n=[];return i.forEach(t=>{let i=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,r+1],!1,!0);n.push(u0(e).deleteAll(s7,i))}),nJ.waitFor(n)}getOverlaysForCollection(e,t,r){let i=A3(),n=ss(t),s=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return u0(e).loadAll(s7,s).next(e=>{for(let t of e){let e=uH(this.serializer,t);i.set(e.getKey(),e)}return i})}getOverlaysForCollectionGroup(e,t,r,i){let n;let s=A3(),o=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return u0(e).iterate({index:ot,range:o},(e,t,r)=>{let o=uH(this.serializer,t);s.size()<i||o.largestBatchId===n?(s.set(o.getKey(),o),n=o.largestBatchId):r.done()}).next(()=>s)}saveOverlay(e,t){return u0(e).put(uJ(this.serializer,this.userId,t))}}function u0(e){return og(e,s6)}class u1{globalsStore(e){return og(e,oi)}getSessionToken(e){return this.globalsStore(e).get("sessionToken").next(e=>{let t=null==e?void 0:e.value;return t?oD.fromUint8Array(t):oD.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.globalsStore(e).put({name:"sessionToken",value:t.toUint8Array()})}}let u2=5,u9=10,u4=13,u5=15,u3=20,u6=25,u8=30,u7=37,he=45,ht=50,hr=53,hi=55,hn=60,hs=2;class ho{constructor(){}writeIndexValue(e,t){this.writeIndexValueAux(e,t),t.writeInfinity()}writeIndexValueAux(e,t){if("nullValue"in e)this.writeValueTypeLabel(t,u2);else if("booleanValue"in e)this.writeValueTypeLabel(t,u9),t.writeNumber(e.booleanValue?1:0);else if("integerValue"in e)this.writeValueTypeLabel(t,u5),t.writeNumber(oM(e.integerValue));else if("doubleValue"in e){let r=oM(e.doubleValue);isNaN(r)?this.writeValueTypeLabel(t,u4):(this.writeValueTypeLabel(t,u5),oK(r)?t.writeNumber(0):t.writeNumber(r))}else if("timestampValue"in e){let r=e.timestampValue;this.writeValueTypeLabel(t,u3),"string"==typeof r&&(r=oF(r)),t.writeString(`${r.seconds||""}`),t.writeNumber(r.nanos||0)}else if("stringValue"in e)this.writeIndexString(e.stringValue,t),this.writeTruncationMarker(t);else if("bytesValue"in e)this.writeValueTypeLabel(t,u8),t.writeBytes(oL(e.bytesValue)),this.writeTruncationMarker(t);else if("referenceValue"in e)this.writeIndexEntityRef(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.writeValueTypeLabel(t,he),t.writeNumber(r.latitude||0),t.writeNumber(r.longitude||0)}else"mapValue"in e?aN(e)?this.writeValueTypeLabel(t,Number.MAX_SAFE_INTEGER):aR(e)?this.writeIndexVector(e.mapValue,t):(this.writeIndexMap(e.mapValue,t),this.writeTruncationMarker(t)):"arrayValue"in e?(this.writeIndexArray(e.arrayValue,t),this.writeTruncationMarker(t)):i6()}writeIndexString(e,t){this.writeValueTypeLabel(t,u6),this.writeUnlabeledIndexString(e,t)}writeUnlabeledIndexString(e,t){t.writeString(e)}writeIndexMap(e,t){let r=e.fields||{};for(let e of(this.writeValueTypeLabel(t,hi),Object.keys(r)))this.writeIndexString(e,t),this.writeIndexValueAux(r[e],t)}writeIndexVector(e,t){var r,i;let n=e.fields||{};this.writeValueTypeLabel(t,hr);let s=o2,o=(null===(i=null===(r=n[s].arrayValue)||void 0===r?void 0:r.values)||void 0===i?void 0:i.length)||0;this.writeValueTypeLabel(t,u5),t.writeNumber(oM(o)),this.writeIndexString(s,t),this.writeIndexValueAux(n[s],t)}writeIndexArray(e,t){let r=e.values||[];for(let e of(this.writeValueTypeLabel(t,ht),r))this.writeIndexValueAux(e,t)}writeIndexEntityRef(e,t){this.writeValueTypeLabel(t,u7),nb.fromName(e).path.forEach(e=>{this.writeValueTypeLabel(t,hn),this.writeUnlabeledIndexString(e,t)})}writeValueTypeLabel(e,t){e.writeNumber(t)}writeTruncationMarker(e){e.writeNumber(hs)}}ho.INSTANCE=new ho;let ha="\uD800",hA="\uDBFF",hl=0,hc=255,hu=1,hh=255,hd=255,hg=0,hf=64,hp=8,hE=1024;function hC(e){let t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}function hI(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function hm(e){let t=0;for(let r=0;r<8;++r){let i=hI(255&e[r]);if(t+=i,8!==i)break}return t}function hB(e){return Math.ceil((hf-hm(e))/hp)}class hy{constructor(){this.buffer=new Uint8Array(hE),this.position=0}writeBytesAscending(e){let t=e[Symbol.iterator](),r=t.next();for(;!r.done;)this.writeByteAscending(r.value),r=t.next();this.writeSeparatorAscending()}writeBytesDescending(e){let t=e[Symbol.iterator](),r=t.next();for(;!r.done;)this.writeByteDescending(r.value),r=t.next();this.writeSeparatorDescending()}writeUtf8Ascending(e){for(let t of e){let e=t.charCodeAt(0);if(e<128)this.writeByteAscending(e);else if(e<2048)this.writeByteAscending(960|e>>>6),this.writeByteAscending(128|63&e);else if(t<ha||hA<t)this.writeByteAscending(480|e>>>12),this.writeByteAscending(128|63&e>>>6),this.writeByteAscending(128|63&e);else{let e=t.codePointAt(0);this.writeByteAscending(240|e>>>18),this.writeByteAscending(128|63&e>>>12),this.writeByteAscending(128|63&e>>>6),this.writeByteAscending(128|63&e)}}this.writeSeparatorAscending()}writeUtf8Descending(e){for(let t of e){let e=t.charCodeAt(0);if(e<128)this.writeByteDescending(e);else if(e<2048)this.writeByteDescending(960|e>>>6),this.writeByteDescending(128|63&e);else if(t<ha||hA<t)this.writeByteDescending(480|e>>>12),this.writeByteDescending(128|63&e>>>6),this.writeByteDescending(128|63&e);else{let e=t.codePointAt(0);this.writeByteDescending(240|e>>>18),this.writeByteDescending(128|63&e>>>12),this.writeByteDescending(128|63&e>>>6),this.writeByteDescending(128|63&e)}}this.writeSeparatorDescending()}writeNumberAscending(e){let t=this.toOrderedBits(e),r=hB(t);this.ensureAvailable(1+r),this.buffer[this.position++]=255&r;for(let e=t.length-r;e<t.length;++e)this.buffer[this.position++]=255&t[e]}writeNumberDescending(e){let t=this.toOrderedBits(e),r=hB(t);this.ensureAvailable(1+r),this.buffer[this.position++]=~(255&r);for(let e=t.length-r;e<t.length;++e)this.buffer[this.position++]=~(255&t[e])}writeInfinityAscending(){this.writeEscapedByteAscending(hh),this.writeEscapedByteAscending(hd)}writeInfinityDescending(){this.writeEscapedByteDescending(hh),this.writeEscapedByteDescending(hd)}reset(){this.position=0}seed(e){this.ensureAvailable(e.length),this.buffer.set(e,this.position),this.position+=e.length}encodedBytes(){return this.buffer.slice(0,this.position)}toOrderedBits(e){let t=hC(e),r=(128&t[0])!=0;t[0]^=r?255:128;for(let e=1;e<t.length;++e)t[e]^=r?255:0;return t}writeByteAscending(e){let t=255&e;t===hl?(this.writeEscapedByteAscending(hl),this.writeEscapedByteAscending(hc)):t===hh?(this.writeEscapedByteAscending(hh),this.writeEscapedByteAscending(hg)):this.writeEscapedByteAscending(t)}writeByteDescending(e){let t=255&e;t===hl?(this.writeEscapedByteDescending(hl),this.writeEscapedByteDescending(hc)):t===hh?(this.writeEscapedByteDescending(hh),this.writeEscapedByteDescending(hg)):this.writeEscapedByteDescending(e)}writeSeparatorAscending(){this.writeEscapedByteAscending(hl),this.writeEscapedByteAscending(hu)}writeSeparatorDescending(){this.writeEscapedByteDescending(hl),this.writeEscapedByteDescending(hu)}writeEscapedByteAscending(e){this.ensureAvailable(1),this.buffer[this.position++]=e}writeEscapedByteDescending(e){this.ensureAvailable(1),this.buffer[this.position++]=~e}ensureAvailable(e){let t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);let i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class hQ{constructor(e){this.orderedCode=e}writeBytes(e){this.orderedCode.writeBytesAscending(e)}writeString(e){this.orderedCode.writeUtf8Ascending(e)}writeNumber(e){this.orderedCode.writeNumberAscending(e)}writeInfinity(){this.orderedCode.writeInfinityAscending()}}class hw{constructor(e){this.orderedCode=e}writeBytes(e){this.orderedCode.writeBytesDescending(e)}writeString(e){this.orderedCode.writeUtf8Descending(e)}writeNumber(e){this.orderedCode.writeNumberDescending(e)}writeInfinity(){this.orderedCode.writeInfinityDescending()}}class hv{constructor(){this.orderedCode=new hy,this.ascending=new hQ(this.orderedCode),this.descending=new hw(this.orderedCode)}seed(e){this.orderedCode.seed(e)}forKind(e){return 0===e?this.ascending:this.descending}encodedBytes(){return this.orderedCode.encodedBytes()}reset(){this.orderedCode.reset()}}class hb{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}successor(){let e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new hb(this.indexId,this.documentKey,this.arrayValue,r)}}function hS(e,t){let r=e.indexId-t.indexId;return 0!==r||0!==(r=hT(e.arrayValue,t.arrayValue))||0!==(r=hT(e.directionalValue,t.directionalValue))?r:nb.comparator(e.documentKey,t.documentKey)}function hT(e,t){for(let r=0;r<e.length&&r<t.length;++r){let i=e[r]-t[r];if(0!==i)return i}return e.length-t.length}class hD{constructor(e){for(let t of(this.inequalityFilters=new oy((e,t)=>nv.comparator(e.field,t.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.orderBys=e.orderBy,this.equalityFilters=[],e.filters)){let e=t;e.isInequality()?this.inequalityFilters=this.inequalityFilters.add(e):this.equalityFilters.push(e)}}get hasMultipleInequality(){return this.inequalityFilters.size>1}servedByIndex(e){if(i8(e.collectionGroup===this.collectionId),this.hasMultipleInequality)return!1;let t=nR(e);if(void 0!==t&&!this.hasMatchingEqualityFilter(t))return!1;let r=nk(e),i=new Set,n=0,s=0;for(;n<r.length;++n)if(this.hasMatchingEqualityFilter(r[n]))i=i.add(r[n].fieldPath.canonicalString());else break;if(n===r.length)return!0;if(this.inequalityFilters.size>0){let e=this.inequalityFilters.getIterator().getNext();if(!i.has(e.field.canonicalString())){let t=r[n];if(!this.matchesFilter(e,t)||!this.matchesOrderBy(this.orderBys[s++],t))return!1}++n}for(;n<r.length;++n){let e=r[n];if(s>=this.orderBys.length||!this.matchesOrderBy(this.orderBys[s++],e))return!1}return!0}buildTargetIndex(){if(this.hasMultipleInequality)return null;let e=new oy(nv.comparator),t=[];for(let r of this.equalityFilters)if(!r.field.isKeyField()){if("array-contains"===r.op||"array-contains-any"===r.op)t.push(new nL(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new nL(r.field,0))}}for(let r of this.orderBys)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new nL(r.field,"asc"===r.dir?0:1)));return new nD(nD.UNKNOWN_ID,this.collectionId,t,n_.empty())}hasMatchingEqualityFilter(e){for(let t of this.equalityFilters)if(this.matchesFilter(t,e))return!0;return!1}matchesFilter(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;let r="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===r}matchesOrderBy(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function hR(e){var t,r;if(i8(e instanceof aX||e instanceof a$),e instanceof aX){if(!(e instanceof Aa))return e;{let i=(null===(r=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===r?void 0:r.map(t=>aX.create(e.field,"==",t)))||[];return a$.create(i,"or")}}let i=e.filters.map(e=>hR(e));return a$.create(i,e.op)}function hk(e){if(0===e.getFilters().length)return[];let t=hU(hR(e));return(i8(hM(t)),hN(t)||hF(t))?[t]:t.getFilters()}function hN(e){return e instanceof aX}function hF(e){return e instanceof a$&&a2(e)}function hM(e){return hN(e)||hF(e)||hL(e)}function hL(e){if(e instanceof a$&&a1(e)){for(let t of e.getFilters())if(!hN(t)&&!hF(t))return!1;return!0}return!1}function hU(e){if(i8(e instanceof aX||e instanceof a$),e instanceof aX)return e;if(1===e.filters.length)return hU(e.filters[0]);let t=e.filters.map(e=>hU(e)),r=a$.create(t,e.op);return hM(r=hV(r))?r:(i8(r instanceof a$),i8(a0(r)),i8(r.filters.length>1),r.filters.reduce((e,t)=>h_(e,t)))}function h_(e,t){let r;return i8(e instanceof aX||e instanceof a$),i8(t instanceof aX||t instanceof a$),hV(r=e instanceof aX?t instanceof aX?hx(e,t):hP(e,t):t instanceof aX?hP(t,e):hO(e,t))}function hx(e,t){return a$.create([e,t],"and")}function hO(e,t){if(i8(e.filters.length>0&&t.filters.length>0),a0(e)&&a0(t))return a8(e,t.getFilters());let r=a1(e)?e:t,i=a1(e)?t:e,n=r.filters.map(e=>h_(e,i));return a$.create(n,"or")}function hP(e,t){if(a0(t))return a8(t,e.getFilters());{let r=t.filters.map(t=>h_(e,t));return a$.create(r,"or")}}function hV(e){if(i8(e instanceof aX||e instanceof a$),e instanceof aX)return e;let t=e.getFilters();if(1===t.length)return hV(t[0]);if(a9(e))return e;let r=t.map(e=>hV(e)),i=[];return(r.forEach(t=>{t instanceof aX?i.push(t):t instanceof a$&&(t.op===e.op?i.push(...t.filters):i.push(t))}),1===i.length)?i[0]:a$.create(i,e.op)}class hG{constructor(){this.collectionParentIndex=new hY}addToCollectionParentIndex(e,t){return this.collectionParentIndex.add(t),nJ.resolve()}getCollectionParents(e,t){return nJ.resolve(this.collectionParentIndex.getEntries(t))}addFieldIndex(e,t){return nJ.resolve()}deleteFieldIndex(e,t){return nJ.resolve()}deleteAllFieldIndexes(e){return nJ.resolve()}createTargetIndexes(e,t){return nJ.resolve()}getDocumentsMatchingTarget(e,t){return nJ.resolve(null)}getIndexType(e,t){return nJ.resolve(0)}getFieldIndexes(e,t){return nJ.resolve([])}getNextCollectionGroupToUpdate(e){return nJ.resolve(null)}getMinOffset(e,t){return nJ.resolve(nP.min())}getMinOffsetFromCollectionGroup(e,t){return nJ.resolve(nP.min())}updateCollectionGroup(e,t,r){return nJ.resolve()}updateIndexEntries(e,t){return nJ.resolve()}}class hY{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new oy(nQ.comparator),n=!i.has(r);return this.index[t]=i.add(r),n}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new oy(nQ.comparator)).toArray()}}let hH="IndexedDbIndexManager",hJ=new Uint8Array(0);class hq{constructor(e,t){this.databaseId=t,this.collectionParentsCache=new hY,this.targetToDnfSubTargets=new A$(e=>Ah(e),(e,t)=>Ag(e,t)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.collectionParentsCache.has(t)){let r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.collectionParentsCache.add(t)});let n={collectionId:r,parent:ss(i)};return hW(e).put(n)}return nJ.resolve()}getCollectionParents(e,t){let r=[],i=IDBKeyRange.bound([t,""],[np(t),""],!1,!0);return hW(e).loadAll(i).next(e=>{for(let i of e){if(i.collectionId!==t)break;r.push(sA(i.parent))}return r})}addFieldIndex(e,t){let r=hz(e),i=uW(t);delete i.indexId;let n=r.add(i);if(!t.indexState)return n.next();{let r=hK(e);return n.next(e=>{r.put(uz(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}}deleteFieldIndex(e,t){let r=hz(e),i=hK(e),n=hj(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>n.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let t=hz(e),r=hj(e),i=hK(e);return t.deleteAll().next(()=>r.deleteAll()).next(()=>i.deleteAll())}createTargetIndexes(e,t){return nJ.forEach(this.getSubTargets(t),t=>this.getIndexType(e,t).next(r=>{if(0===r||1===r){let r=new hD(t).buildTargetIndex();if(null!=r)return this.addFieldIndex(e,r)}}))}getDocumentsMatchingTarget(e,t){let r=hj(e),i=!0,n=new Map;return nJ.forEach(this.getSubTargets(t),t=>this.getFieldIndex(e,t).next(e=>{i&&(i=!!e),n.set(t,e)})).next(()=>{if(!i)return nJ.resolve(null);{let e=lr(),i=[];return nJ.forEach(n,(n,s)=>{i9(hH,`Using index ${nM(n)} to execute ${Ah(t)}`);let o=AE(s,n),a=AC(s,n),A=AI(s,n),l=Am(s,n),c=this.encodeBound(n,s,A),u=this.encodeBound(n,s,l),h=this.encodeValues(n,s,a),d=this.generateIndexRanges(n.indexId,o,c,A.inclusive,u,l.inclusive,h);return nJ.forEach(d,n=>r.loadFirst(n,t.limit).next(t=>{t.forEach(t=>{let r=nb.fromSegments(t.documentKey);e.has(r)||(e=e.add(r),i.push(r))})}))}).next(()=>i)}})}getSubTargets(e){let t=this.targetToDnfSubTargets.get(e);return t||(t=0===e.filters.length?[e]:hk(a$.create(e.filters,"and")).map(t=>Au(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)),this.targetToDnfSubTargets.set(e,t)),t}generateIndexRanges(e,t,r,i,n,s,o){let a=(null!=t?t.length:1)*Math.max(r.length,n.length),A=a/(null!=t?t.length:1),l=[];for(let c=0;c<a;++c){let a=t?this.encodeSingleElement(t[c/A]):hJ,u=this.generateLowerBound(e,a,r[c%A],i),h=this.generateUpperBound(e,a,n[c%A],s),d=o.map(t=>this.generateLowerBound(e,a,t,!0));l.push(...this.createRange(u,h,d))}return l}generateLowerBound(e,t,r,i){let n=new hb(e,nb.empty(),t,r);return i?n:n.successor()}generateUpperBound(e,t,r,i){let n=new hb(e,nb.empty(),t,r);return i?n.successor():n}getFieldIndex(e,t){let r=new hD(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(e=>{let t=null;for(let i of e)r.servedByIndex(i)&&(!t||i.fields.length>t.fields.length)&&(t=i);return t})}getIndexType(e,t){let r=2,i=this.getSubTargets(t);return nJ.forEach(i,t=>this.getFieldIndex(e,t).next(e=>{e?0!==r&&e.fields.length<AQ(t)&&(r=1):r=0})).next(()=>Aw(t)&&i.length>1&&2===r?1:r)}encodeDirectionalElements(e,t){let r=new hv;for(let i of nk(e)){let e=t.data.field(i.fieldPath);if(null==e)return null;let n=r.forKind(i.kind);ho.INSTANCE.writeIndexValue(e,n)}return r.encodedBytes()}encodeSingleElement(e){let t=new hv;return ho.INSTANCE.writeIndexValue(e,t.forKind(0)),t.encodedBytes()}encodeDirectionalKey(e,t){let r=new hv;return ho.INSTANCE.writeIndexValue(ay(this.databaseId,t),r.forKind(nN(e))),r.encodedBytes()}encodeValues(e,t,r){if(null===r)return[];let i=[];i.push(new hv);let n=0;for(let s of nk(e)){let e=r[n++];for(let r of i)if(this.isInFilter(t,s.fieldPath)&&ab(e))i=this.expandIndexValues(i,s,e);else{let t=r.forKind(s.kind);ho.INSTANCE.writeIndexValue(e,t)}}return this.getEncodedBytes(i)}encodeBound(e,t,r){return this.encodeValues(e,t,r.position)}getEncodedBytes(e){let t=[];for(let r=0;r<e.length;++r)t[r]=e[r].encodedBytes();return t}expandIndexValues(e,t,r){let i=[...e],n=[];for(let e of r.arrayValue.values||[])for(let r of i){let i=new hv;i.seed(r.encodedBytes()),ho.INSTANCE.writeIndexValue(e,i.forKind(t.kind)),n.push(i)}return n}isInFilter(e,t){return!!e.filters.find(e=>e instanceof aX&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op))}getFieldIndexes(e,t){let r=hz(e),i=hK(e);return(t?r.loadAll(sZ,IDBKeyRange.bound(t,t)):r.loadAll()).next(e=>{let t=[];return nJ.forEach(e,e=>i.get([e.indexId,this.uid]).next(r=>{t.push(uj(e,r))})).next(()=>t)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(e=>0===e.length?null:(e.sort((e,t)=>{let r=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==r?r:ng(e.collectionGroup,t.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(e,t,r){let i=hz(e),n=hK(e);return this.getNextSequenceNumber(e).next(e=>i.loadAll(sZ,IDBKeyRange.bound(t,t)).next(t=>nJ.forEach(t,t=>n.put(uz(t.indexId,this.uid,e,r)))))}updateIndexEntries(e,t){let r=new Map;return nJ.forEach(t,(t,i)=>{let n=r.get(t.collectionGroup);return(n?nJ.resolve(n):this.getFieldIndexes(e,t.collectionGroup)).next(n=>(r.set(t.collectionGroup,n),nJ.forEach(n,r=>this.getExistingIndexEntries(e,t,r).next(t=>{let n=this.computeIndexEntries(i,r);return t.isEqual(n)?nJ.resolve():this.updateEntries(e,i,r,t,n)}))))})}addIndexEntry(e,t,r,i){return hj(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.encodeDirectionalKey(r,t.key),documentKey:t.key.path.toArray()})}deleteIndexEntry(e,t,r,i){return hj(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.encodeDirectionalKey(r,t.key),t.key.path.toArray()])}getExistingIndexEntries(e,t,r){let i=hj(e),n=new oy(hS);return i.iterate({index:s5,range:IDBKeyRange.only([r.indexId,this.uid,this.encodeDirectionalKey(r,t)])},(e,i)=>{n=n.add(new hb(r.indexId,t,i.arrayValue,i.directionalValue))}).next(()=>n)}computeIndexEntries(e,t){let r=new oy(hS),i=this.encodeDirectionalElements(t,e);if(null==i)return r;let n=nR(t);if(null!=n){let s=e.data.field(n.fieldPath);if(ab(s))for(let n of s.arrayValue.values||[])r=r.add(new hb(t.indexId,e.key,this.encodeSingleElement(n),i))}else r=r.add(new hb(t.indexId,e.key,hJ,i));return r}updateEntries(e,t,r,i,n){i9(hH,"Updating index entries for document '%s'",t.key);let s=[];return ow(i,n,hS,i=>{s.push(this.addIndexEntry(e,t,r,i))},i=>{s.push(this.deleteIndexEntry(e,t,r,i))}),nJ.waitFor(s)}getNextSequenceNumber(e){let t=1;return hK(e).iterate({index:s1,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(e,r,i)=>{i.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((e,t)=>hS(e,t)).filter((e,t,r)=>!t||0!==hS(e,r[t-1]));let i=[];for(let n of(i.push(e),r)){let r=hS(n,e),s=hS(n,t);if(0===r)i[0]=e.successor();else if(r>0&&s<0)i.push(n),i.push(n.successor());else if(s>0)break}i.push(t);let n=[];for(let e=0;e<i.length;e+=2){if(this.isRangeMatchable(i[e],i[e+1]))return[];let t=[i[e].indexId,this.uid,i[e].arrayValue,i[e].directionalValue,hJ,[]],r=[i[e+1].indexId,this.uid,i[e+1].arrayValue,i[e+1].directionalValue,hJ,[]];n.push(IDBKeyRange.bound(t,r))}return n}isRangeMatchable(e,t){return hS(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(hZ)}getMinOffset(e,t){return nJ.mapArray(this.getSubTargets(t),t=>this.getFieldIndex(e,t).next(e=>e||i6())).next(hZ)}}function hW(e){return og(e,sV)}function hj(e){return og(e,s9)}function hz(e){return og(e,sz)}function hK(e){return og(e,s$)}function hZ(e){i8(0!==e.length);let t=e[0].indexState.offset,r=t.largestBatchId;for(let i=1;i<e.length;i++){let n=e[i].indexState.offset;0>nV(n,t)&&(t=n),r<n.largestBatchId&&(r=n.largestBatchId)}return new nP(t.readTime,t.documentKey,r)}function hX(e,t,r){let i=e.store(sg),n=e.store(sy),s=[],o=IDBKeyRange.only(r.batchId),a=0,A=i.iterate({range:o},(e,t,r)=>(a++,r.delete()));s.push(A.next(()=>{i8(1===a)}));let l=[];for(let e of r.mutations){let i=sm(t,e.key.path,r.batchId);s.push(n.delete(i)),l.push(e.key)}return nJ.waitFor(s).next(()=>l)}function h$(e){let t;if(!e)return 0;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else if(e.noDocument)t=e.noDocument;else throw i6();return JSON.stringify(t).length}class h0{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.documentKeysByBatchId={}}static forUser(e,t,r,i){return i8(""!==e.uid),new h0(e.isAuthenticated()?e.uid:"",t,r,i)}checkEmpty(e){let t=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return h9(e).iterate({index:sp,range:r},(e,r,i)=>{t=!1,i.done()}).next(()=>t)}addMutationBatch(e,t,r,i){let n=h4(e),s=h9(e);return s.add({}).next(o=>{i8("number"==typeof o);let a=new lW(o,t,r,i),A=uN(this.serializer,this.userId,a),l=[],c=new oy((e,t)=>ng(e.canonicalString(),t.canonicalString()));for(let e of i){let t=sm(this.userId,e.key.path,o);c=c.add(e.key.path.popLast()),l.push(s.put(A)),l.push(n.put(t,sB))}return c.forEach(t=>{l.push(this.indexManager.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(()=>{this.documentKeysByBatchId[o]=a.keys()}),nJ.waitFor(l).next(()=>a)})}lookupMutationBatch(e,t){return h9(e).get(t).next(e=>e?(i8(e.userId===this.userId),uF(this.serializer,e)):null)}lookupMutationKeys(e,t){return this.documentKeysByBatchId[t]?nJ.resolve(this.documentKeysByBatchId[t]):this.lookupMutationBatch(e,t).next(e=>{if(!e)return null;{let r=e.keys();return this.documentKeysByBatchId[t]=r,r}})}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),n=null;return h9(e).iterate({index:sp,range:i},(e,t,i)=>{t.userId===this.userId&&(i8(t.batchId>=r),n=uF(this.serializer,t)),i.done()}).next(()=>n)}getHighestUnacknowledgedBatchId(e){let t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=oj;return h9(e).iterate({index:sp,range:t,reverse:!0},(e,t,i)=>{r=t.batchId,i.done()}).next(()=>r)}getAllMutationBatches(e){let t=IDBKeyRange.bound([this.userId,oj],[this.userId,Number.POSITIVE_INFINITY]);return h9(e).loadAll(sp,t).next(e=>e.map(e=>uF(this.serializer,e)))}getAllMutationBatchesAffectingDocumentKey(e,t){let r=sI(this.userId,t.path),i=IDBKeyRange.lowerBound(r),n=[];return h4(e).iterate({range:i},(r,i,s)=>{let[o,a,A]=r,l=sA(a);if(o!==this.userId||!t.path.isEqual(l)){s.done();return}return h9(e).get(A).next(e=>{if(!e)throw i6();i8(e.userId===this.userId),n.push(uF(this.serializer,e))})}).next(()=>n)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new oy(ng),i=[];return t.forEach(t=>{let n=sI(this.userId,t.path),s=IDBKeyRange.lowerBound(n),o=h4(e).iterate({range:s},(e,i,n)=>{let[s,o,a]=e,A=sA(o);if(s!==this.userId||!t.path.isEqual(A)){n.done();return}r=r.add(a)});i.push(o)}),nJ.waitFor(i).next(()=>this.lookupMutationBatches(e,r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,n=sI(this.userId,r),s=IDBKeyRange.lowerBound(n),o=new oy(ng);return h4(e).iterate({range:s},(e,t,n)=>{let[s,a,A]=e,l=sA(a);if(s!==this.userId||!r.isPrefixOf(l)){n.done();return}l.length===i&&(o=o.add(A))}).next(()=>this.lookupMutationBatches(e,o))}lookupMutationBatches(e,t){let r=[],i=[];return t.forEach(t=>{i.push(h9(e).get(t).next(e=>{if(null===e)throw i6();i8(e.userId===this.userId),r.push(uF(this.serializer,e))}))}),nJ.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return hX(e.simpleDbTransaction,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.removeCachedMutationKeys(t.batchId)}),nJ.forEach(r,t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))}removeCachedMutationKeys(e){delete this.documentKeysByBatchId[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return nJ.resolve();let r=IDBKeyRange.lowerBound(sC(this.userId)),i=[];return h4(e).iterate({range:r},(e,t,r)=>{if(e[0]!==this.userId){r.done();return}{let t=sA(e[1]);i.push(t)}}).next(()=>{i8(0===i.length)})})}containsKey(e,t){return h1(e,this.userId,t)}getMutationQueueMetadata(e){return h5(e).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:oj,lastStreamToken:""})}}function h1(e,t,r){let i=sI(t,r.path),n=i[1],s=IDBKeyRange.lowerBound(i),o=!1;return h4(e).iterate({range:s,keysOnly:!0},(e,r,i)=>{let[s,a,A]=e;s===t&&a===n&&(o=!0),i.done()}).next(()=>o)}function h2(e,t){let r=!1;return h5(e).iterateSerial(i=>h1(e,i,t).next(e=>(e&&(r=!0),nJ.resolve(!e)))).next(()=>r)}function h9(e){return og(e,sg)}function h4(e){return og(e,sy)}function h5(e){return og(e,sh)}let h3=2;class h6{constructor(e){this.lastId=e}next(){return this.lastId+=h3,this.lastId}static forTargetCache(){return new h6(2-h3)}static forSyncEngine(){return new h6(1-h3)}}class h8{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.retrieveMetadata(e).next(t=>{let r=new h6(t.highestTargetId);return t.highestTargetId=r.next(),this.saveMetadata(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.retrieveMetadata(e).next(e=>nm.fromTimestamp(new nI(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.retrieveMetadata(e).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.retrieveMetadata(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.saveMetadata(e,i)))}addTargetData(e,t){return this.saveTargetData(e,t).next(()=>this.retrieveMetadata(e).next(r=>(r.targetCount+=1,this.updateMetadataFromTargetData(t,r),this.saveMetadata(e,r))))}updateTargetData(e,t){return this.saveTargetData(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>h7(e).delete(t.targetId)).next(()=>this.retrieveMetadata(e)).next(t=>(i8(t.targetCount>0),t.targetCount-=1,this.saveMetadata(e,t)))}removeTargets(e,t,r){let i=0,n=[];return h7(e).iterate((s,o)=>{let a=uM(o);a.sequenceNumber<=t&&null===r.get(a.targetId)&&(i++,n.push(this.removeTargetData(e,a)))}).next(()=>nJ.waitFor(n)).next(()=>i)}forEachTarget(e,t){return h7(e).iterate((e,r)=>{t(uM(r))})}retrieveMetadata(e){return de(e).get(sO).next(e=>(i8(null!==e),e))}saveMetadata(e,t){return de(e).put(sO,t)}saveTargetData(e,t){return h7(e).put(uL(this.serializer,t))}updateMetadataFromTargetData(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.retrieveMetadata(e).next(e=>e.targetCount)}getTargetData(e,t){let r=Ah(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),n=null;return h7(e).iterate({range:i,index:sF},(e,r,i)=>{let s=uM(r);Ag(t,s.target)&&(n=s,i.done())}).next(()=>n)}addMatchingKeys(e,t,r){let i=[],n=dt(e);return t.forEach(t=>{let s=ss(t.path);i.push(n.put({targetId:r,path:s})),i.push(this.referenceDelegate.addReference(e,r,t))}),nJ.waitFor(i)}removeMatchingKeys(e,t,r){let i=dt(e);return nJ.forEach(t,t=>{let n=ss(t.path);return nJ.waitFor([i.delete([r,n]),this.referenceDelegate.removeReference(e,r,t)])})}removeMatchingKeysForTargetId(e,t){let r=dt(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){let r=IDBKeyRange.bound([t],[t+1],!1,!0),i=dt(e),n=lr();return i.iterate({range:r,keysOnly:!0},(e,t,r)=>{let i=new nb(sA(e[1]));n=n.add(i)}).next(()=>n)}containsKey(e,t){let r=ss(t.path),i=IDBKeyRange.bound([r],[np(r)],!1,!0),n=0;return dt(e).iterate({index:s_,keysOnly:!0,range:i},([e,t],r,i)=>{0!==e&&(n++,i.done())}).next(()=>n>0)}getTargetDataForTarget(e,t){return h7(e).get(t).next(e=>e?uM(e):null)}}function h7(e){return og(e,sk)}function de(e){return og(e,sP)}function dt(e){return og(e,sL)}let dr={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},di=-1,dn=41943040;class ds{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ds(e,ds.DEFAULT_COLLECTION_PERCENTILE,ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ds.DEFAULT_COLLECTION_PERCENTILE=10,ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ds.DEFAULT=new ds(dn,ds.DEFAULT_COLLECTION_PERCENTILE,ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ds.DISABLED=new ds(di,0,0);let da="LruGarbageCollector",dA=1048576,dl=6e4,dc=3e5;function du([e,t],[r,i]){let n=ng(e,r);return 0===n?ng(t,i):n}class dh{constructor(e){this.maxElements=e,this.buffer=new oy(du),this.previousIndex=0}nextIndex(){return++this.previousIndex}addElement(e){let t=[e,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(t);else{let e=this.buffer.last();0>du(t,e)&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class dd{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.gcTask=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==di&&this.scheduleGC(dl)}stop(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)}get started(){return null!==this.gcTask}scheduleGC(e){i9(da,`Garbage collection scheduled in ${e}ms`),this.gcTask=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.gcTask=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){n$(e)?i9(da,"Ignoring IndexedDB error during garbage collection: ",e):await nH(e)}await this.scheduleGC(dc)})}}class dg{constructor(e,t){this.delegate=e,this.params=t}calculateTargetCount(e,t){return this.delegate.getSequenceNumberCount(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return nJ.resolve(se.INVALID);let r=new dh(t);return this.delegate.forEachTarget(e,e=>r.addElement(e.sequenceNumber)).next(()=>this.delegate.forEachOrphanedDocumentSequenceNumber(e,e=>r.addElement(e))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.delegate.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.delegate.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===di?(i9("LruGarbageCollector","Garbage collection skipped; disabled"),nJ.resolve(dr)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(i9("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dr):this.runGarbageCollection(e,t))}getCacheSize(e){return this.delegate.getCacheSize(e)}runGarbageCollection(e,t){let r,i,n,s,o,a,A;let l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(i9("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),i=this.params.maximumSequenceNumbersToCollect):i=t,s=Date.now(),this.nthSequenceNumber(e,i))).next(i=>(r=i,o=Date.now(),this.removeTargets(e,r,t))).next(t=>(n=t,a=Date.now(),this.removeOrphanedDocuments(e,r))).next(e=>(A=Date.now(),i2()<=g.DEBUG&&i9("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-l}ms
	Determined least recently used ${i} in ${o-s}ms
	Removed ${n} targets in ${a-o}ms
	Removed ${e} documents in ${A-a}ms
Total Duration: ${A-l}ms`),nJ.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:n,documentsRemoved:e})))}}function df(e,t){return new dg(e,t)}class dp{constructor(e,t){this.db=e,this.garbageCollector=df(this,t)}getSequenceNumberCount(e){let t=this.orphanedDocumentCount(e);return this.db.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}orphanedDocumentCount(e){let t=0;return this.forEachOrphanedDocumentSequenceNumber(e,e=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}forEachOrphanedDocumentSequenceNumber(e,t){return this.forEachOrphanedDocument(e,(e,r)=>t(r))}addReference(e,t,r){return dI(e,r)}removeReference(e,t,r){return dI(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return dI(e,t)}isPinned(e,t){return h2(e,t)}removeOrphanedDocuments(e,t){let r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],n=0;return this.forEachOrphanedDocument(e,(s,o)=>{if(o<=t){let t=this.isPinned(e,s).next(t=>{if(!t)return n++,r.getEntry(e,s).next(()=>(r.removeEntry(s,nm.min()),dt(e).delete(dE(s))))});i.push(t)}}).next(()=>nJ.waitFor(i)).next(()=>r.apply(e)).next(()=>n)}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return dI(e,t)}forEachOrphanedDocument(e,t){let r;let i=dt(e),n=se.INVALID;return i.iterate({index:s_},([e,i],{path:s,sequenceNumber:o})=>{0===e?(n!==se.INVALID&&t(new nb(sA(r)),n),n=o,r=s):n=se.INVALID}).next(()=>{n!==se.INVALID&&t(new nb(sA(r)),n)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function dE(e){return[0,ss(e.path)]}function dC(e,t){return{targetId:0,path:ss(e.path),sequenceNumber:t}}function dI(e,t){return dt(e).put(dC(t,e.currentSequenceNumber))}class dm{constructor(){this.changes=new A$(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,aP.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return void 0!==r?nJ.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class dB{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return dv(e).put(r)}removeEntry(e,t,r){return dv(e).delete(dS(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.setMetadata(e,r)))}getEntry(e,t){let r=aP.newInvalidDocument(t);return dv(e).iterate({index:sv,range:IDBKeyRange.only(db(t))},(e,i)=>{r=this.maybeDecodeDocument(t,i)}).next(()=>r)}getSizedEntry(e,t){let r={size:0,document:aP.newInvalidDocument(t)};return dv(e).iterate({index:sv,range:IDBKeyRange.only(db(t))},(e,i)=>{r={document:this.maybeDecodeDocument(t,i),size:h$(i)}}).next(()=>r)}getEntries(e,t){let r=A1();return this.forEachDbEntry(e,t,(e,t)=>{let i=this.maybeDecodeDocument(e,t);r=r.insert(e,i)}).next(()=>r)}getSizedEntries(e,t){let r=A1(),i=new oC(nb.comparator);return this.forEachDbEntry(e,t,(e,t)=>{let n=this.maybeDecodeDocument(e,t);r=r.insert(e,n),i=i.insert(e,h$(t))}).next(()=>({documents:r,sizeMap:i}))}forEachDbEntry(e,t,r){if(t.isEmpty())return nJ.resolve();let i=new oy(dD);t.forEach(e=>i=i.add(e));let n=IDBKeyRange.bound(db(i.first()),db(i.last())),s=i.getIterator(),o=s.getNext();return dv(e).iterate({index:sv,range:n},(e,t,i)=>{let n=nb.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;o&&0>dD(o,n);)r(o,null),o=s.getNext();o&&o.isEqual(n)&&(r(o,t),o=s.hasNext()?s.getNext():null),o?i.skip(db(o)):i.done()}).next(()=>{for(;o;)r(o,null),o=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,n){let s=t.path,o=[s.popLast().toArray(),s.lastSegment(),uT(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return dv(e).loadAll(IDBKeyRange.bound(o,a,!0)).next(e=>{null==n||n.incrementDocumentReadCount(e.length);let r=A1();for(let n of e){let e=this.maybeDecodeDocument(nb.fromSegments(n.prefixPath.concat(n.collectionGroup,n.documentId)),n);e.isFoundDocument()&&(AJ(t,e)||i.has(e.key))&&(r=r.insert(e.key,e))}return r})}getAllFromCollectionGroup(e,t,r,i){let n=A1(),s=dT(t,r),o=dT(t,nP.max());return dv(e).iterate({index:sS,range:IDBKeyRange.bound(s,o,!0)},(e,t,r)=>{let s=this.maybeDecodeDocument(nb.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(n=n.insert(s.key,s)).size===i&&r.done()}).next(()=>n)}newChangeBuffer(e){return new dQ(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(e=>e.byteSize)}getMetadata(e){return dw(e).get(sR).next(e=>(i8(!!e),e))}setMetadata(e,t){return dw(e).put(sR,t)}maybeDecodeDocument(e,t){if(t){let e=ub(this.serializer,t);if(!(e.isNoDocument()&&e.version.isEqual(nm.min())))return e}return aP.newInvalidDocument(e)}}function dy(e){return new dB(e)}class dQ extends dm{constructor(e,t){super(),this.documentCache=e,this.trackRemovals=t,this.documentStates=new A$(e=>e.toString(),(e,t)=>e.isEqual(t))}applyChanges(e){let t=[],r=0,i=new oy((e,t)=>ng(e.canonicalString(),t.canonicalString()));return this.changes.forEach((n,s)=>{let o=this.documentStates.get(n);if(t.push(this.documentCache.removeEntry(e,n,o.readTime)),s.isValidDocument()){let a=uS(this.documentCache.serializer,s);i=i.add(n.path.popLast());let A=h$(a);r+=A-o.size,t.push(this.documentCache.addEntry(e,n,a))}else if(r-=o.size,this.trackRemovals){let r=uS(this.documentCache.serializer,s.convertToNoDocument(nm.min()));t.push(this.documentCache.addEntry(e,n,r))}}),i.forEach(r=>{t.push(this.documentCache.indexManager.addToCollectionParentIndex(e,r))}),t.push(this.documentCache.updateMetadata(e,r)),nJ.waitFor(t)}getFromCache(e,t){return this.documentCache.getSizedEntry(e,t).next(e=>(this.documentStates.set(t,{size:e.size,readTime:e.document.readTime}),e.document))}getAllFromCache(e,t){return this.documentCache.getSizedEntries(e,t).next(({documents:e,sizeMap:t})=>(t.forEach((t,r)=>{this.documentStates.set(t,{size:r,readTime:e.get(t).readTime})}),e))}}function dw(e){return og(e,sD)}function dv(e){return og(e,sQ)}function db(e){let t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function dS(e,t){let r=e.path.toArray();return[r.slice(0,r.length-2),r[r.length-2],uT(t),r[r.length-1]]}function dT(e,t){let r=t.documentKey.path.toArray();return[e,uT(t.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function dD(e,t){let r=e.path.toArray(),i=t.path.toArray(),n=0;for(let e=0;e<r.length-2&&e<i.length-2;++e)if(n=ng(r[e],i[e]))return n;return(n=ng(r.length,i.length))||(n=ng(r[r.length-2],i[i.length-2]))?n:ng(r[r.length-1],i[i.length-1])}let dR=17;class dk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class dN{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==r&&lk(r.mutation,e,ob.empty(),nI.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,lr()).next(()=>t))}getLocalViewOfDocuments(e,t,r=lr()){let i=A3();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(e=>{let t=A9();return e.forEach((e,r)=>{t=t.insert(e,r.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){let r=A3();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,lr()))}populateOverlays(e,t,r){let i=[];return r.forEach(e=>{t.has(e)||i.push(e)}),this.documentOverlayCache.getOverlays(e,i).next(e=>{e.forEach((e,r)=>{t.set(e,r)})})}computeViews(e,t,r,i){let n=A1(),s=A8(),o=A4();return t.forEach((e,t)=>{let o=r.get(t.key);i.has(t.key)&&(void 0===o||o.mutation instanceof l_)?n=n.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),lk(o.mutation,t,o.mutation.getFieldMask(),nI.now())):s.set(t.key,ob.empty())}),this.recalculateAndSaveOverlays(e,n).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var r;return o.set(e,new dk(t,null!==(r=s.get(e))&&void 0!==r?r:null))}),o))}recalculateAndSaveOverlays(e,t){let r=A8(),i=new oC((e,t)=>e-t),n=lr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(let n of e)n.keys().forEach(e=>{let s=t.get(e);if(null===s)return;let o=r.get(e)||ob.empty();o=n.applyToLocalView(s,o),r.set(e,o);let a=(i.get(n.batchId)||lr()).add(e);i=i.insert(n.batchId,a)})}).next(()=>{let s=[],o=i.getReverseIterator();for(;o.hasNext();){let i=o.getNext(),a=i.key,A=i.value,l=A6();A.forEach(e=>{if(!n.has(e)){let i=lD(t.get(e),r.get(e));null!==i&&l.set(e,i),n=n.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,a,l))}return nJ.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,r,i){return Ak(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):AN(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(n=>{let s=i-n.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-n.size):nJ.resolve(A3()),o=nS,a=n;return s.next(t=>nJ.forEach(t,(t,r)=>(o<r.largestBatchId&&(o=r.largestBatchId),n.get(t))?nJ.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{a=a.insert(t,e)})).next(()=>this.populateOverlays(e,t,n)).next(()=>this.computeViews(e,a,t,lr())).next(e=>({batchId:o,changes:A5(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new nb(t)).next(e=>{let t=A9();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let n=t.collectionGroup,s=A9();return this.indexManager.getCollectionParents(e,n).next(o=>nJ.forEach(o,o=>{let a=AT(t,o.child(n));return this.getDocumentsMatchingCollectionQuery(e,a,r,i).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let n;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(n=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,n,i))).next(e=>{n.forEach((t,r)=>{let i=r.getKey();null===e.get(i)&&(e=e.insert(i,aP.newInvalidDocument(i)))});let r=A9();return e.forEach((e,i)=>{let s=n.get(e);void 0!==s&&lk(s.mutation,i,ob.empty(),nI.now()),AJ(t,i)&&(r=r.insert(e,i))}),r})}}class dF{constructor(e){this.serializer=e,this.bundles=new Map,this.namedQueries=new Map}getBundleMetadata(e,t){return nJ.resolve(this.bundles.get(t))}saveBundleMetadata(e,t){return this.bundles.set(t.id,uY(t)),nJ.resolve()}getNamedQuery(e,t){return nJ.resolve(this.namedQueries.get(t))}saveNamedQuery(e,t){return this.namedQueries.set(t.name,uG(t)),nJ.resolve()}}class dM{constructor(){this.overlays=new oC(nb.comparator),this.overlayByBatchId=new Map}getOverlay(e,t){return nJ.resolve(this.overlays.get(t))}getOverlays(e,t){let r=A3();return nJ.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&r.set(t,e)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((r,i)=>{this.saveOverlay(e,t,i)}),nJ.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.overlayByBatchId.get(r);return void 0!==i&&(i.forEach(e=>this.overlays=this.overlays.remove(e)),this.overlayByBatchId.delete(r)),nJ.resolve()}getOverlaysForCollection(e,t,r){let i=A3(),n=t.length+1,s=new nb(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){let e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===n&&e.largestBatchId>r&&i.set(e.getKey(),e)}return nJ.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let n=new oC((e,t)=>e-t),s=this.overlays.getIterator();for(;s.hasNext();){let e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>r){let t=n.get(e.largestBatchId);null===t&&(t=A3(),n=n.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}let o=A3(),a=n.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((e,t)=>o.set(e,t)),!(o.size()>=i)););return nJ.resolve(o)}saveOverlay(e,t,r){let i=this.overlays.get(r.key);if(null!==i){let e=this.overlayByBatchId.get(i.largestBatchId).delete(r.key);this.overlayByBatchId.set(i.largestBatchId,e)}this.overlays=this.overlays.insert(r.key,new lz(t,r));let n=this.overlayByBatchId.get(t);void 0===n&&(n=lr(),this.overlayByBatchId.set(t,n)),this.overlayByBatchId.set(t,n.add(r.key))}}class dL{constructor(){this.sessionToken=oD.EMPTY_BYTE_STRING}getSessionToken(e){return nJ.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,nJ.resolve()}}class dU{constructor(){this.refsByKey=new oy(d_.compareByKey),this.refsByTarget=new oy(d_.compareByTargetId)}isEmpty(){return this.refsByKey.isEmpty()}addReference(e,t){let r=new d_(e,t);this.refsByKey=this.refsByKey.add(r),this.refsByTarget=this.refsByTarget.add(r)}addReferences(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.removeRef(new d_(e,t))}removeReferences(e,t){e.forEach(e=>this.removeReference(e,t))}removeReferencesForId(e){let t=new nb(new nQ([])),r=new d_(t,e),i=new d_(t,e+1),n=[];return this.refsByTarget.forEachInRange([r,i],e=>{this.removeRef(e),n.push(e.key)}),n}removeAllReferences(){this.refsByKey.forEach(e=>this.removeRef(e))}removeRef(e){this.refsByKey=this.refsByKey.delete(e),this.refsByTarget=this.refsByTarget.delete(e)}referencesForId(e){let t=new nb(new nQ([])),r=new d_(t,e),i=new d_(t,e+1),n=lr();return this.refsByTarget.forEachInRange([r,i],e=>{n=n.add(e.key)}),n}containsKey(e){let t=new d_(e,0),r=this.refsByKey.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class d_{constructor(e,t){this.key=e,this.targetOrBatchId=t}static compareByKey(e,t){return nb.comparator(e.key,t.key)||ng(e.targetOrBatchId,t.targetOrBatchId)}static compareByTargetId(e,t){return ng(e.targetOrBatchId,t.targetOrBatchId)||nb.comparator(e.key,t.key)}}class dx{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nextBatchId=1,this.batchesByDocumentKey=new oy(d_.compareByKey)}checkEmpty(e){return nJ.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){let n=this.nextBatchId;this.nextBatchId++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new lW(n,t,r,i);for(let t of(this.mutationQueue.push(s),i))this.batchesByDocumentKey=this.batchesByDocumentKey.add(new d_(t.key,n)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return nJ.resolve(s)}lookupMutationBatch(e,t){return nJ.resolve(this.findMutationBatch(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.indexOfBatchId(r),n=i<0?0:i;return nJ.resolve(this.mutationQueue.length>n?this.mutationQueue[n]:null)}getHighestUnacknowledgedBatchId(){return nJ.resolve(0===this.mutationQueue.length?oj:this.nextBatchId-1)}getAllMutationBatches(e){return nJ.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new d_(t,0),i=new d_(t,Number.POSITIVE_INFINITY),n=[];return this.batchesByDocumentKey.forEachInRange([r,i],e=>{let t=this.findMutationBatch(e.targetOrBatchId);n.push(t)}),nJ.resolve(n)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new oy(ng);return t.forEach(e=>{let t=new d_(e,0),i=new d_(e,Number.POSITIVE_INFINITY);this.batchesByDocumentKey.forEachInRange([t,i],e=>{r=r.add(e.targetOrBatchId)})}),nJ.resolve(this.findMutationBatches(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,n=r;nb.isDocumentKey(n)||(n=n.child(""));let s=new d_(new nb(n),0),o=new oy(ng);return this.batchesByDocumentKey.forEachWhile(e=>{let t=e.key.path;return!!r.isPrefixOf(t)&&(t.length===i&&(o=o.add(e.targetOrBatchId)),!0)},s),nJ.resolve(this.findMutationBatches(o))}findMutationBatches(e){let t=[];return e.forEach(e=>{let r=this.findMutationBatch(e);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){i8(0===this.indexOfExistingBatchId(t.batchId,"removed")),this.mutationQueue.shift();let r=this.batchesByDocumentKey;return nJ.forEach(t.mutations,i=>{let n=new d_(i.key,t.batchId);return r=r.delete(n),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.batchesByDocumentKey=r})}removeCachedMutationKeys(e){}containsKey(e,t){let r=new d_(t,0),i=this.batchesByDocumentKey.firstAfterOrEqual(r);return nJ.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,nJ.resolve()}indexOfExistingBatchId(e,t){return this.indexOfBatchId(e)}indexOfBatchId(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}findMutationBatch(e){let t=this.indexOfBatchId(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}function dO(){return new oC(nb.comparator)}class dP{constructor(e){this.sizer=e,this.docs=dO(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),n=i?i.size:0,s=this.sizer(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-n,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return nJ.resolve(r?r.document.mutableCopy():aP.newInvalidDocument(t))}getEntries(e,t){let r=A1();return t.forEach(e=>{let t=this.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():aP.newInvalidDocument(e))}),nJ.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let n=A1(),s=t.path,o=new nb(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){let{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;!(e.path.length>s.length+1||0>=nV(nO(o),r))&&(i.has(o.key)||AJ(t,o))&&(n=n.insert(o.key,o.mutableCopy()))}return nJ.resolve(n)}getAllFromCollectionGroup(e,t,r,i){i6()}forEachDocumentKey(e,t){return nJ.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new dG(this)}getSize(e){return nJ.resolve(this.size)}}function dV(e){return new dP(e)}class dG extends dm{constructor(e){super(),this.documentCache=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.documentCache.addEntry(e,i)):this.documentCache.removeEntry(r)}),nJ.waitFor(t)}getFromCache(e,t){return this.documentCache.getEntry(e,t)}getAllFromCache(e,t){return this.documentCache.getEntries(e,t)}}class dY{constructor(e){this.persistence=e,this.targets=new A$(e=>Ah(e),Ag),this.lastRemoteSnapshotVersion=nm.min(),this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new dU,this.targetCount=0,this.targetIdGenerator=h6.forTargetCache()}forEachTarget(e,t){return this.targets.forEach((e,r)=>t(r)),nJ.resolve()}getLastRemoteSnapshotVersion(e){return nJ.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return nJ.resolve(this.highestSequenceNumber)}allocateTargetId(e){return this.highestTargetId=this.targetIdGenerator.next(),nJ.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.highestSequenceNumber&&(this.highestSequenceNumber=t),nJ.resolve()}saveTargetData(e){this.targets.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.targetIdGenerator=new h6(t),this.highestTargetId=t),e.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=e.sequenceNumber)}addTargetData(e,t){return this.saveTargetData(t),this.targetCount+=1,nJ.resolve()}updateTargetData(e,t){return this.saveTargetData(t),nJ.resolve()}removeTargetData(e,t){return this.targets.delete(t.target),this.references.removeReferencesForId(t.targetId),this.targetCount-=1,nJ.resolve()}removeTargets(e,t,r){let i=0,n=[];return this.targets.forEach((s,o)=>{o.sequenceNumber<=t&&null===r.get(o.targetId)&&(this.targets.delete(s),n.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),nJ.waitFor(n).next(()=>i)}getTargetCount(e){return nJ.resolve(this.targetCount)}getTargetData(e,t){let r=this.targets.get(t)||null;return nJ.resolve(r)}addMatchingKeys(e,t,r){return this.references.addReferences(t,r),nJ.resolve()}removeMatchingKeys(e,t,r){this.references.removeReferences(t,r);let i=this.persistence.referenceDelegate,n=[];return i&&t.forEach(t=>{n.push(i.markPotentiallyOrphaned(e,t))}),nJ.waitFor(n)}removeMatchingKeysForTargetId(e,t){return this.references.removeReferencesForId(t),nJ.resolve()}getMatchingKeysForTargetId(e,t){let r=this.references.referencesForId(t);return nJ.resolve(r)}containsKey(e,t){return nJ.resolve(this.references.containsKey(t))}}let dH="MemoryPersistence";class dJ{constructor(e,t){this.mutationQueues={},this.overlays={},this.listenSequence=new se(0),this._started=!1,this._started=!0,this.globalsCache=new dL,this.referenceDelegate=e(this),this.targetCache=new dY(this);let r=e=>this.referenceDelegate.documentSize(e);this.indexManager=new hG,this.remoteDocumentCache=dV(r),this.serializer=new uv(t),this.bundleCache=new dF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this._started=!1,Promise.resolve()}get started(){return this._started}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new dM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.mutationQueues[e.toKey()];return r||(r=new dx(t,this.referenceDelegate),this.mutationQueues[e.toKey()]=r),r}getGlobalsCache(){return this.globalsCache}getTargetCache(){return this.targetCache}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.bundleCache}runTransaction(e,t,r){i9(dH,"Starting transaction:",e);let i=new dq(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),r(i).next(e=>this.referenceDelegate.onTransactionCommitted(i).next(()=>e)).toPromise().then(e=>(i.raiseOnCommittedEvent(),e))}mutationQueuesContainKey(e,t){return nJ.or(Object.values(this.mutationQueues).map(r=>()=>r.containsKey(e,t)))}}class dq extends nY{constructor(e){super(),this.currentSequenceNumber=e}}class dW{constructor(e){this.persistence=e,this.localViewReferences=new dU,this._orphanedDocuments=null}static factory(e){return new dW(e)}get orphanedDocuments(){if(this._orphanedDocuments)return this._orphanedDocuments;throw i6()}addReference(e,t,r){return this.localViewReferences.addReference(r,t),this.orphanedDocuments.delete(r.toString()),nJ.resolve()}removeReference(e,t,r){return this.localViewReferences.removeReference(r,t),this.orphanedDocuments.add(r.toString()),nJ.resolve()}markPotentiallyOrphaned(e,t){return this.orphanedDocuments.add(t.toString()),nJ.resolve()}removeTarget(e,t){this.localViewReferences.removeReferencesForId(t.targetId).forEach(e=>this.orphanedDocuments.add(e.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.orphanedDocuments.add(e.toString()))}).next(()=>r.removeTargetData(e,t))}onTransactionStarted(){this._orphanedDocuments=new Set}onTransactionCommitted(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nJ.forEach(this.orphanedDocuments,r=>{let i=nb.fromPath(r);return this.isReferenced(e,i).next(e=>{e||t.removeEntry(i,nm.min())})}).next(()=>(this._orphanedDocuments=null,t.apply(e)))}updateLimboDocument(e,t){return this.isReferenced(e,t).next(e=>{e?this.orphanedDocuments.delete(t.toString()):this.orphanedDocuments.add(t.toString())})}documentSize(e){return 0}isReferenced(e,t){return nJ.or([()=>nJ.resolve(this.localViewReferences.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.mutationQueuesContainKey(e,t)])}}class dj{constructor(e,t){this.persistence=e,this.orphanedSequenceNumbers=new A$(e=>ss(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=df(this,t)}static factory(e,t){return new dj(e,t)}onTransactionStarted(){}onTransactionCommitted(e){return nJ.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}getSequenceNumberCount(e){let t=this.orphanedDocumentCount(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}orphanedDocumentCount(e){let t=0;return this.forEachOrphanedDocumentSequenceNumber(e,e=>{t++}).next(()=>t)}forEachOrphanedDocumentSequenceNumber(e,t){return nJ.forEach(this.orphanedSequenceNumbers,(r,i)=>this.isPinned(e,r,i).next(e=>e?nJ.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),n=i.newChangeBuffer();return i.forEachDocumentKey(e,i=>this.isPinned(e,i,t).next(e=>{e||(r++,n.removeEntry(i,nm.min()))})).next(()=>n.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),nJ.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.orphanedSequenceNumbers.set(r,e.currentSequenceNumber),nJ.resolve()}removeReference(e,t,r){return this.orphanedSequenceNumbers.set(r,e.currentSequenceNumber),nJ.resolve()}updateLimboDocument(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),nJ.resolve()}documentSize(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=aI(e.data.value)),t}isPinned(e,t,r){return nJ.or([()=>this.persistence.mutationQueuesContainKey(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let e=this.orphanedSequenceNumbers.get(t);return nJ.resolve(void 0!==e&&e>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class dz{constructor(e){this.serializer=e}createOrUpgrade(e,t,r,i){let n=new nj("createOrUpgrade",t);r<1&&i>=1&&(dZ(e),dX(e),d9(e),d0(e));let s=nJ.resolve();return r<3&&i>=3&&(0!==r&&(d4(e),d9(e)),s=s.next(()=>d3(n))),r<4&&i>=4&&(0!==r&&(s=s.next(()=>d$(e,n))),s=s.next(()=>{d6(e)})),r<5&&i>=5&&(s=s.next(()=>this.removeAcknowledgedMutations(n))),r<6&&i>=6&&(s=s.next(()=>(d2(e),this.addDocumentGlobal(n)))),r<7&&i>=7&&(s=s.next(()=>this.ensureSequenceNumbers(n))),r<8&&i>=8&&(s=s.next(()=>this.createCollectionParentIndex(e,n))),r<9&&i>=9&&(s=s.next(()=>{d5(e)})),r<10&&i>=10&&(s=s.next(()=>this.rewriteCanonicalIds(n))),r<11&&i>=11&&(s=s.next(()=>{d8(e),d7(e)})),r<12&&i>=12&&(s=s.next(()=>{gt(e)})),r<13&&i>=13&&(s=s.next(()=>d1(e)).next(()=>this.rewriteRemoteDocumentCache(e,n)).next(()=>e.deleteObjectStore(sl))),r<14&&i>=14&&(s=s.next(()=>this.runOverlayMigration(e,n))),r<15&&i>=15&&(s=s.next(()=>ge(e))),r<16&&i>=16&&(s=s.next(()=>{t.objectStore(s$).clear()}).next(()=>{t.objectStore(s9).clear()})),r<17&&i>=17&&(s=s.next(()=>{gr(e)})),s}addDocumentGlobal(e){let t=0;return e.store(sl).iterate((e,r)=>{t+=h$(r)}).next(()=>{let r={byteSize:t};return e.store(sD).put(sR,r)})}removeAcknowledgedMutations(e){let t=e.store(sh),r=e.store(sg);return t.loadAll().next(t=>nJ.forEach(t,t=>{let i=IDBKeyRange.bound([t.userId,oj],[t.userId,t.lastAcknowledgedBatchId]);return r.loadAll(sp,i).next(r=>nJ.forEach(r,r=>{i8(r.userId===t.userId);let i=uF(this.serializer,r);return hX(e,t.userId,i).next(()=>{})}))}))}ensureSequenceNumbers(e){let t=e.store(sL),r=e.store(sl);return e.store(sP).get(sO).next(e=>{let i=r=>t.put({targetId:0,path:ss(r),sequenceNumber:e.highestListenSequenceNumber}),n=[];return r.iterate((e,r)=>{let s=new nQ(e),o=dK(s);n.push(t.get(o).next(e=>e?nJ.resolve():i(s)))}).next(()=>nJ.waitFor(n))})}createCollectionParentIndex(e,t){e.createObjectStore(sV,{keyPath:sG});let r=t.store(sV),i=new hY,n=e=>{if(i.add(e)){let t=e.lastSegment(),i=e.popLast();return r.put({collectionId:t,parent:ss(i)})}};return t.store(sl).iterate({keysOnly:!0},(e,t)=>n(new nQ(e).popLast())).next(()=>t.store(sy).iterate({keysOnly:!0},([e,t,r],i)=>n(sA(t).popLast())))}rewriteCanonicalIds(e){let t=e.store(sk);return t.iterate((e,r)=>{let i=uM(r),n=uL(this.serializer,i);return t.put(n)})}rewriteRemoteDocumentCache(e,t){let r=t.store(sl),i=[];return r.iterate((e,r)=>{let n=t.store(sQ),s=gi(r).path.toArray(),o={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:r.readTime||[0,0],unknownDocument:r.unknownDocument,noDocument:r.noDocument,document:r.document,hasCommittedMutations:!!r.hasCommittedMutations};i.push(n.put(o))}).next(()=>nJ.waitFor(i))}runOverlayMigration(e,t){let r=t.store(sg),i=dy(this.serializer),n=new dJ(dW.factory,this.serializer.remoteSerializer);return r.loadAll().next(e=>{let r=new Map;return e.forEach(e=>{var t;let i=null!==(t=r.get(e.userId))&&void 0!==t?t:lr();uF(this.serializer,e).keys().forEach(e=>i=i.add(e)),r.set(e.userId,i)}),nJ.forEach(r,(e,r)=>{let s=new iZ(r),o=u$.forUser(this.serializer,s),a=n.getIndexManager(s);return new dN(i,h0.forUser(s,this.serializer,a,n.referenceDelegate),o,a).recalculateAndSaveOverlaysForDocumentKeys(new od(t,se.INVALID),e).next()})})}}function dK(e){return[0,ss(e)]}function dZ(e){e.createObjectStore(sc)}function dX(e){e.createObjectStore(sh,{keyPath:sd}),e.createObjectStore(sg,{keyPath:sf,autoIncrement:!0}).createIndex(sp,sE,{unique:!0}),e.createObjectStore(sy)}function d$(e,t){return t.store(sg).loadAll().next(r=>{e.deleteObjectStore(sg),e.createObjectStore(sg,{keyPath:sf,autoIncrement:!0}).createIndex(sp,sE,{unique:!0});let i=t.store(sg),n=r.map(e=>i.put(e));return nJ.waitFor(n)})}function d0(e){e.createObjectStore(sl)}function d1(e){let t=e.createObjectStore(sQ,{keyPath:sw});t.createIndex(sv,sb),t.createIndex(sS,sT)}function d2(e){e.createObjectStore(sD)}function d9(e){e.createObjectStore(sL,{keyPath:sU}).createIndex(s_,sx,{unique:!0}),e.createObjectStore(sk,{keyPath:sN}).createIndex(sF,sM,{unique:!0}),e.createObjectStore(sP)}function d4(e){e.deleteObjectStore(sL),e.deleteObjectStore(sk),e.deleteObjectStore(sP)}function d5(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}function d3(e){let t=e.store(sP),r={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:nm.min().toTimestamp(),targetCount:0};return t.put(sO,r)}function d6(e){e.createObjectStore(sY,{keyPath:sH})}function d8(e){e.createObjectStore(sJ,{keyPath:sq})}function d7(e){e.createObjectStore(sW,{keyPath:sj})}function ge(e){e.createObjectStore(sz,{keyPath:sK,autoIncrement:!0}).createIndex(sZ,sX,{unique:!1}),e.createObjectStore(s$,{keyPath:s0}).createIndex(s1,s2,{unique:!1}),e.createObjectStore(s9,{keyPath:s4}).createIndex(s5,s3,{unique:!1})}function gt(e){let t=e.createObjectStore(s6,{keyPath:s8});t.createIndex(s7,oe,{unique:!1}),t.createIndex(ot,or,{unique:!1})}function gr(e){e.createObjectStore(oi,{keyPath:on})}function gi(e){return e.document?new nb(nQ.fromString(e.document.name).popFirst(5)):e.noDocument?nb.fromSegments(e.noDocument.path):e.unknownDocument?nb.fromSegments(e.unknownDocument.path):i6()}let gn="IndexedDbPersistence",gs=18e5,go=5e3,ga=4e3,gA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",gl="This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.",gc="firestore_zombie",gu="main";class gh{constructor(e,t,r,i,n,s,o,a,A,l,c=dR){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.queue=n,this.window=s,this.document=o,this.sequenceNumberSyncer=A,this.forceOwningTab=l,this.schemaVersion=c,this.listenSequence=null,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.windowUnloadHandler=null,this.inForeground=!1,this.documentVisibilityHandler=null,this.clientMetadataRefresher=null,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=e=>Promise.resolve(),!gh.isAvailable())throw new nt(ne.UNIMPLEMENTED,gl);this.referenceDelegate=new dp(this,i),this.dbName=t+gu,this.serializer=new uv(a),this.simpleDb=new nz(this.dbName,this.schemaVersion,new dz(this.serializer)),this.globalsCache=new u1,this.targetCache=new h8(this.referenceDelegate,this.serializer),this.remoteDocumentCache=dy(this.serializer),this.bundleCache=new uK,this.window&&this.window.localStorage?this.webStorage=this.window.localStorage:(this.webStorage=null,!1===l&&i4(gn,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.updateClientMetadataAndTryBecomePrimary().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new nt(ne.FAILED_PRECONDITION,gA);return this.attachVisibilityHandler(),this.attachWindowUnloadHook(),this.scheduleClientMetadataAndPrimaryLeaseRefreshes(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.targetCache.getHighestSequenceNumber(e))}).then(e=>{this.listenSequence=new se(e,this.sequenceNumberSyncer)}).then(()=>{this._started=!0}).catch(e=>(this.simpleDb&&this.simpleDb.close(),Promise.reject(e)))}setPrimaryStateListener(e){return this.primaryStateListener=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.simpleDb.setVersionChangeListener(async t=>{null===t.newVersion&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.queue.enqueueAndForget(async()=>{this.started&&await this.updateClientMetadataAndTryBecomePrimary()}))}updateClientMetadataAndTryBecomePrimary(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>gg(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.verifyPrimaryLease(e).next(e=>{e||(this.isPrimary=!1,this.queue.enqueueRetryable(()=>this.primaryStateListener(!1)))})}).next(()=>this.canActAsPrimary(e)).next(t=>this.isPrimary&&!t?this.releasePrimaryLeaseIfHeld(e).next(()=>!1):!!t&&this.acquireOrExtendPrimaryLease(e).next(()=>!0))).catch(e=>{if(n$(e))return i9(gn,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return i9(gn,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.queue.enqueueRetryable(()=>this.primaryStateListener(e)),this.isPrimary=e})}verifyPrimaryLease(e){return gd(e).get(su).next(e=>nJ.resolve(this.isLocalClient(e)))}removeClientMetadata(e){return gg(e).delete(this.clientId)}async maybeGarbageCollectMultiClientState(){if(this.isPrimary&&!this.isWithinAge(this.lastGarbageCollectionTime,gs)){this.lastGarbageCollectionTime=Date.now();let e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",e=>{let t=og(e,sY);return t.loadAll().next(e=>{let r=this.filterActiveClients(e,gs),i=e.filter(e=>-1===r.indexOf(e));return nJ.forEach(i,e=>t.delete(e.clientId)).next(()=>i)})}).catch(()=>[]);if(this.webStorage)for(let t of e)this.webStorage.removeItem(this.zombiedClientLocalStorageKey(t.clientId))}}scheduleClientMetadataAndPrimaryLeaseRefreshes(){this.clientMetadataRefresher=this.queue.enqueueAfterDelay("client_metadata_refresh",ga,()=>this.updateClientMetadataAndTryBecomePrimary().then(()=>this.maybeGarbageCollectMultiClientState()).then(()=>this.scheduleClientMetadataAndPrimaryLeaseRefreshes()))}isLocalClient(e){return!!e&&e.ownerId===this.clientId}canActAsPrimary(e){return this.forceOwningTab?nJ.resolve(!0):gd(e).get(su).next(t=>{if(null!==t&&this.isWithinAge(t.leaseTimestampMs,go)&&!this.isClientZombied(t.ownerId)){if(this.isLocalClient(t)&&this.networkEnabled)return!0;if(!this.isLocalClient(t)){if(!t.allowTabSynchronization)throw new nt(ne.FAILED_PRECONDITION,gA);return!1}}return!!this.networkEnabled&&!!this.inForeground||gg(e).loadAll().next(e=>void 0===this.filterActiveClients(e,go).find(e=>{if(this.clientId!==e.clientId){let t=!this.networkEnabled&&e.networkEnabled,r=!this.inForeground&&e.inForeground,i=this.networkEnabled===e.networkEnabled;if(t||r&&i)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&i9(gn,`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}async shutdown(){this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&(this.clientMetadataRefresher.cancel(),this.clientMetadataRefresher=null),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),await this.simpleDb.runTransaction("shutdown","readwrite",[sc,sY],e=>{let t=new od(e,se.INVALID);return this.releasePrimaryLeaseIfHeld(t).next(()=>this.removeClientMetadata(t))}),this.simpleDb.close(),this.removeClientZombiedEntry()}filterActiveClients(e,t){return e.filter(e=>this.isWithinAge(e.updateTimeMs,t)&&!this.isClientZombied(e.clientId))}getActiveClients(){return this.runTransaction("getActiveClients","readonly",e=>gg(e).loadAll().next(e=>this.filterActiveClients(e,gs).map(e=>e.clientId)))}get started(){return this._started}getGlobalsCache(){return this.globalsCache}getMutationQueue(e,t){return h0.forUser(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.targetCache}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new hq(e,this.serializer.remoteSerializer.databaseId)}getDocumentOverlayCache(e){return u$.forUser(this.serializer,e)}getBundleCache(){return this.bundleCache}runTransaction(e,t,r){let i;i9(gn,"Starting transaction:",e);let n="readonly"===t?"readonly":"readwrite",s=oh(this.schemaVersion);return this.simpleDb.runTransaction(e,n,s,n=>(i=new od(n,this.listenSequence?this.listenSequence.next():se.INVALID),"readwrite-primary"===t)?this.verifyPrimaryLease(i).next(e=>!!e||this.canActAsPrimary(i)).next(t=>{if(!t)throw i4(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.queue.enqueueRetryable(()=>this.primaryStateListener(!1)),new nt(ne.FAILED_PRECONDITION,nG);return r(i)}).next(e=>this.acquireOrExtendPrimaryLease(i).next(()=>e)):this.verifyAllowTabSynchronization(i).next(()=>r(i))).then(e=>(i.raiseOnCommittedEvent(),e))}verifyAllowTabSynchronization(e){return gd(e).get(su).next(e=>{if(null!==e&&this.isWithinAge(e.leaseTimestampMs,go)&&!this.isClientZombied(e.ownerId)&&!this.isLocalClient(e)&&!this.forceOwningTab&&(!this.allowTabSynchronization||!e.allowTabSynchronization))throw new nt(ne.FAILED_PRECONDITION,gA)})}acquireOrExtendPrimaryLease(e){let t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return gd(e).put(su,t)}static isAvailable(){return nz.isAvailable()}releasePrimaryLeaseIfHeld(e){let t=gd(e);return t.get(su).next(e=>this.isLocalClient(e)?(i9(gn,"Releasing primary lease."),t.delete(su)):nJ.resolve())}isWithinAge(e,t){let r=Date.now(),i=r-t,n=r;return!(e<i)&&(!(e>n)||(i4(`Detected an update time that is in the future: ${e} > ${n}`),!1))}attachVisibilityHandler(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=()=>{this.queue.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.updateClientMetadataAndTryBecomePrimary()))},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)}detachVisibilityHandler(){this.documentVisibilityHandler&&(this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)}attachWindowUnloadHook(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.windowUnloadHandler=()=>{this.markClientZombied();let e=/(?:Version|Mobile)\/1[456]/;J()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.queue.enterRestrictedMode(!0),this.queue.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.windowUnloadHandler))}detachWindowUnloadHook(){this.windowUnloadHandler&&(this.window.removeEventListener("pagehide",this.windowUnloadHandler),this.windowUnloadHandler=null)}isClientZombied(e){var t;try{let r=(null===(t=this.webStorage)||void 0===t?void 0:t.getItem(this.zombiedClientLocalStorageKey(e)))!==null;return i9(gn,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(e){return i4(gn,"Failed to get zombied client id.",e),!1}}markClientZombied(){if(this.webStorage)try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(e){i4("Failed to set zombie client id.",e)}}removeClientZombiedEntry(){if(this.webStorage)try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(e){}}zombiedClientLocalStorageKey(e){return`${gc}_${this.persistenceKey}_${e}`}}function gd(e){return og(e,sc)}function gg(e){return og(e,sY)}function gf(e,t){let r=e.projectId;return e.isDefaultDatabase||(r+="."+e.database),"firestore/"+t+"/"+r+"/"}function gp(e,t,r,i,n){t=[...t],(e=[...e]).sort(r),t.sort(r);let s=e.length,o=t.length,a=0,A=0;for(;a<o&&A<s;){let s=r(e[A],t[a]);s<0?n(e[A++]):s>0?i(t[a++]):(a++,A++)}for(;a<o;)i(t[a++]);for(;A<s;)n(e[A++])}function gE(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0}let gC="LocalStore",gI=3e8;class gm{constructor(e,t,r,i){this.persistence=e,this.queryEngine=t,this.serializer=i,this.targetDataByTarget=new oC(ng),this.targetIdByTarget=new A$(e=>Ah(e),Ag),this.collectionGroupReadTime=new Map,this.remoteDocuments=e.getRemoteDocumentCache(),this.targetCache=e.getTargetCache(),this.bundleCache=e.getBundleCache(),this.initializeUserComponents(r)}initializeUserComponents(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dN(this.remoteDocuments,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.remoteDocuments.setIndexManager(this.indexManager),this.queryEngine.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.targetDataByTarget))}}function gB(e,t,r,i){return new gm(e,t,r,i)}async function gy(e,t){let r=i7(e);return await r.persistence.runTransaction("Handle user change","readonly",e=>{let i;return r.mutationQueue.getAllMutationBatches(e).next(n=>(i=n,r.initializeUserComponents(t),r.mutationQueue.getAllMutationBatches(e))).next(t=>{let n=[],s=[],o=lr();for(let e of i)for(let t of(n.push(e.batchId),e.mutations))o=o.add(t.key);for(let e of t)for(let t of(s.push(e.batchId),e.mutations))o=o.add(t.key);return r.localDocuments.getDocuments(e,o).next(e=>({affectedDocuments:e,removedBatchIds:n,addedBatchIds:s}))})})}function gQ(e,t){let r,i;let n=i7(e),s=nI.now(),o=t.reduce((e,t)=>e.add(t.key),lr());return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let a=A1(),A=lr();return n.remoteDocuments.getEntries(e,o).next(e=>{(a=e).forEach((e,t)=>{t.isValidDocument()||(A=A.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,a)).next(i=>{r=i;let o=[];for(let e of t){let t=lN(e,r.get(e.key).overlayedDocument);null!=t&&o.push(new l_(e.key,t,aO(t.value.mapValue),lb.exists(!0)))}return n.mutationQueue.addMutationBatch(e,s,o,t)}).next(t=>{i=t;let s=t.applyToLocalDocumentSet(r,A);return n.documentOverlayCache.saveOverlays(e,t.batchId,s)})}).then(()=>({batchId:i.batchId,changes:A5(r)}))}function gw(e,t){let r=i7(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{let i=t.batch.keys(),n=r.remoteDocuments.newChangeBuffer({trackRemovals:!0});return gO(r,e,t,n).next(()=>n.apply(e)).next(()=>r.mutationQueue.performConsistencyCheck(e)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(e,i,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,gv(t))).next(()=>r.localDocuments.getDocuments(e,i))})}function gv(e){let t=lr();for(let r=0;r<e.mutationResults.length;++r)e.mutationResults[r].transformResults.length>0&&(t=t.add(e.batch.mutations[r].key));return t}function gb(e,t){let r=i7(e);return r.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let i;return r.mutationQueue.lookupMutationBatch(e,t).next(t=>(i8(null!==t),i=t.keys(),r.mutationQueue.removeMutationBatch(e,t))).next(()=>r.mutationQueue.performConsistencyCheck(e)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(e,i,t)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,i)).next(()=>r.localDocuments.getDocuments(e,i))})}function gS(e){let t=i7(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e))}function gT(e){let t=i7(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.targetCache.getLastRemoteSnapshotVersion(e))}function gD(e,t){let r=i7(e),i=t.snapshotVersion,n=r.targetDataByTarget;return r.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{let s=r.remoteDocuments.newChangeBuffer({trackRemovals:!0});n=r.targetDataByTarget;let o=[];t.targetChanges.forEach((s,a)=>{let A=n.get(a);if(!A)return;o.push(r.targetCache.removeMatchingKeys(e,s.removedDocuments,a).next(()=>r.targetCache.addMatchingKeys(e,s.addedDocuments,a)));let l=A.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?l=l.withResumeToken(oD.EMPTY_BYTE_STRING,nm.min()).withLastLimboFreeSnapshotVersion(nm.min()):s.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(s.resumeToken,i)),n=n.insert(a,l),gk(A,l,s)&&o.push(r.targetCache.updateTargetData(e,l))});let a=A1(),A=lr();if(t.documentUpdates.forEach(i=>{t.resolvedLimboDocuments.has(i)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(e,i))}),o.push(gR(e,s,t.documentUpdates).next(e=>{a=e.changedDocuments,A=e.existenceChangedKeys})),!i.isEqual(nm.min())){let t=r.targetCache.getLastRemoteSnapshotVersion(e).next(t=>r.targetCache.setTargetsMetadata(e,e.currentSequenceNumber,i));o.push(t)}return nJ.waitFor(o).next(()=>s.apply(e)).next(()=>r.localDocuments.getLocalViewOfDocuments(e,a,A)).next(()=>a)}).then(e=>(r.targetDataByTarget=n,e))}function gR(e,t,r){let i=lr(),n=lr();return r.forEach(e=>i=i.add(e)),t.getEntries(e,i).next(e=>{let i=A1();return r.forEach((r,s)=>{let o=e.get(r);s.isFoundDocument()!==o.isFoundDocument()&&(n=n.add(r)),s.isNoDocument()&&s.version.isEqual(nm.min())?(t.removeEntry(r,s.readTime),i=i.insert(r,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),i=i.insert(r,s)):i9(gC,"Ignoring outdated watch update for ",r,". Current version:",o.version," Watch version:",s.version)}),{changedDocuments:i,existenceChangedKeys:n}})}function gk(e,t,r){return!!(0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=gI)||r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size>0}async function gN(e,t){let r=i7(e);try{await r.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>nJ.forEach(t,t=>nJ.forEach(t.addedKeys,i=>r.persistence.referenceDelegate.addReference(e,t.targetId,i)).next(()=>nJ.forEach(t.removedKeys,i=>r.persistence.referenceDelegate.removeReference(e,t.targetId,i)))))}catch(e){if(n$(e))i9(gC,"Failed to update sequence numbers: "+e);else throw e}for(let e of t){let t=e.targetId;if(!e.fromCache){let e=r.targetDataByTarget.get(t),i=e.snapshotVersion,n=e.withLastLimboFreeSnapshotVersion(i);r.targetDataByTarget=r.targetDataByTarget.insert(t,n)}}}function gF(e,t){let r=i7(e);return r.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=oj),r.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function gM(e,t){let r=i7(e);return r.persistence.runTransaction("read document","readonly",e=>r.localDocuments.getDocument(e,t))}function gL(e,t){let r=i7(e);return r.persistence.runTransaction("Allocate target","readwrite",e=>{let i;return r.targetCache.getTargetData(e,t).next(n=>n?(i=n,nJ.resolve(i)):r.targetCache.allocateTargetId(e).next(n=>(i=new uw(t,n,"TargetPurposeListen",e.currentSequenceNumber),r.targetCache.addTargetData(e,i).next(()=>i))))}).then(e=>{let i=r.targetDataByTarget.get(e.targetId);return(null===i||e.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.targetDataByTarget=r.targetDataByTarget.insert(e.targetId,e),r.targetIdByTarget.set(t,e.targetId)),e})}function gU(e,t,r){let i=i7(e),n=i.targetIdByTarget.get(r);return void 0!==n?nJ.resolve(i.targetDataByTarget.get(n)):i.targetCache.getTargetData(t,r)}async function g_(e,t,r){let i=i7(e),n=i.targetDataByTarget.get(t),s=r?"readwrite":"readwrite-primary";try{r||await i.persistence.runTransaction("Release target",s,e=>i.persistence.referenceDelegate.removeTarget(e,n))}catch(e){if(n$(e))i9(gC,`Failed to update sequence numbers for target ${t}: ${e}`);else throw e}i.targetDataByTarget=i.targetDataByTarget.remove(t),i.targetIdByTarget.delete(n.target)}function gx(e,t,r){let i=i7(e),n=nm.min(),s=lr();return i.persistence.runTransaction("Execute query","readwrite",e=>gU(i,e,AM(t)).next(t=>{if(t)return n=t.lastLimboFreeSnapshotVersion,i.targetCache.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>i.queryEngine.getDocumentsMatchingQuery(e,t,r?n:nm.min(),r?s:lr())).next(e=>(gJ(i,AK(t),e),{documents:e,remoteKeys:s})))}function gO(e,t,r,i){let n=r.batch,s=n.keys(),o=nJ.resolve();return s.forEach(e=>{o=o.next(()=>i.getEntry(t,e)).next(t=>{let s=r.docVersions.get(e);i8(null!==s),0>t.version.compareTo(s)&&(n.applyToRemoteDocument(t,r),t.isValidDocument()&&(t.setReadTime(r.commitVersion),i.addEntry(t)))})}),o.next(()=>e.mutationQueue.removeMutationBatch(t,n))}function gP(e,t){let r=i7(e),i=i7(r.mutationQueue);return r.persistence.runTransaction("Lookup mutation documents","readonly",e=>i.lookupMutationKeys(e,t).next(t=>t?r.localDocuments.getDocuments(e,t):nJ.resolve(null)))}function gV(e,t){i7(i7(e,gm).mutationQueue).removeCachedMutationKeys(t)}function gG(e){return i7(i7(e,gm).persistence).getActiveClients()}function gY(e,t){let r=i7(e),i=i7(r.targetCache),n=r.targetDataByTarget.get(t);return n?Promise.resolve(n.target):r.persistence.runTransaction("Get target data","readonly",e=>i.getTargetDataForTarget(e,t).next(e=>e?e.target:null))}function gH(e,t){let r=i7(e),i=r.collectionGroupReadTime.get(t)||nm.min();return r.persistence.runTransaction("Get new document changes","readonly",e=>r.remoteDocuments.getAllFromCollectionGroup(e,t,nx(i,nS),Number.MAX_SAFE_INTEGER)).then(e=>(gJ(r,t,e),e))}function gJ(e,t,r){let i=e.collectionGroupReadTime.get(t)||nm.min();r.forEach((e,t)=>{t.readTime.compareTo(i)>0&&(i=t.readTime)}),e.collectionGroupReadTime.set(t,i)}function gq(e){return AM(AS(nQ.fromString(`__bundle__/docs/${e}`)))}async function gW(e,t,r,i){let n=i7(e),s=lr(),o=A1();for(let e of r){let r=t.toDocumentKey(e.metadata.name);e.document&&(s=s.add(r));let i=t.toMutableDocument(e);i.setReadTime(t.toSnapshotVersion(e.metadata.readTime)),o=o.insert(r,i)}let a=n.remoteDocuments.newChangeBuffer({trackRemovals:!0}),A=await gL(n,gq(i));return n.persistence.runTransaction("Apply bundle documents","readwrite",e=>gR(e,a,o).next(t=>(a.apply(e),t)).next(t=>n.targetCache.removeMatchingKeysForTargetId(e,A.targetId).next(()=>n.targetCache.addMatchingKeys(e,s,A.targetId)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,t.changedDocuments,t.existenceChangedKeys)).next(()=>t.changedDocuments)))}function gj(e,t){let r=i7(e),i=cQ(t.createTime);return r.persistence.runTransaction("hasNewerBundle","readonly",e=>r.bundleCache.getBundleMetadata(e,t.id)).then(e=>!!e&&e.createTime.compareTo(i)>=0)}function gz(e,t){let r=i7(e);return r.persistence.runTransaction("Save bundle","readwrite",e=>r.bundleCache.saveBundleMetadata(e,t))}async function gK(e,t,r=lr()){let i=await gL(e,AM(uV(t.bundledQuery))),n=i7(e);return n.persistence.runTransaction("Save named query","readwrite",e=>{let s=cQ(t.readTime);if(i.snapshotVersion.compareTo(s)>=0)return n.bundleCache.saveNamedQuery(e,t);let o=i.withResumeToken(oD.EMPTY_BYTE_STRING,s);return n.targetDataByTarget=n.targetDataByTarget.insert(o.targetId,o),n.targetCache.updateTargetData(e,o).next(()=>n.targetCache.removeMatchingKeysForTargetId(e,i.targetId)).next(()=>n.targetCache.addMatchingKeys(e,r,i.targetId)).next(()=>n.bundleCache.saveNamedQuery(e,t))})}function gZ(e,t){i7(e).queryEngine.indexAutoCreationEnabled=t}class gX{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}let g$=100;function g0(){return J()?8:nK(O())>0?6:4}class g1{constructor(){this.initialized=!1,this.indexAutoCreationEnabled=!1,this.indexAutoCreationMinCollectionSize=g$,this.relativeIndexReadCostPerDocument=g0()}initialize(e,t){this.localDocumentsView=e,this.indexManager=t,this.initialized=!0}getDocumentsMatchingQuery(e,t,r,i){let n={result:null};return this.performQueryUsingIndex(e,t).next(e=>{n.result=e}).next(()=>{if(!n.result)return this.performQueryUsingRemoteKeys(e,t,i,r).next(e=>{n.result=e})}).next(()=>{if(n.result)return;let r=new gX;return this.executeFullCollectionScan(e,t,r).next(i=>{if(n.result=i,this.indexAutoCreationEnabled)return this.createCacheIndexes(e,t,r,i.size)})}).next(()=>n.result)}createCacheIndexes(e,t,r,i){return r.documentReadCount<this.indexAutoCreationMinCollectionSize?(i2()<=g.DEBUG&&i9("QueryEngine","SDK will not create cache indexes for query:",AH(t),"since it only creates cache indexes for collection contains","more than or equal to",this.indexAutoCreationMinCollectionSize,"documents"),nJ.resolve()):(i2()<=g.DEBUG&&i9("QueryEngine","Query:",AH(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.relativeIndexReadCostPerDocument*i)?(i2()<=g.DEBUG&&i9("QueryEngine","The SDK decides to create cache indexes for query:",AH(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,AM(t))):nJ.resolve()}performQueryUsingIndex(e,t){if(AD(t))return nJ.resolve(null);let r=AM(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(r=AM(t=AO(t,null,"F"))),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{let n=lr(...i);return this.localDocumentsView.getDocuments(e,n).next(i=>this.indexManager.getMinOffset(e,r).next(r=>{let s=this.applyQuery(t,i);return this.needsRefill(t,s,n,r.readTime)?this.performQueryUsingIndex(e,AO(t,null,"F")):this.appendRemainingResults(e,s,t,r)}))})))}performQueryUsingRemoteKeys(e,t,r,i){return AD(t)||i.isEqual(nm.min())?nJ.resolve(null):this.localDocumentsView.getDocuments(e,r).next(n=>{let s=this.applyQuery(t,n);return this.needsRefill(t,s,r,i)?nJ.resolve(null):(i2()<=g.DEBUG&&i9("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),AH(t)),this.appendRemainingResults(e,s,t,nx(i,nS)).next(e=>e))})}applyQuery(e,t){let r=new oy(AZ(e));return t.forEach((t,i)=>{AJ(e,i)&&(r=r.add(i))}),r}needsRefill(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;let n="F"===e.limitType?t.last():t.first();return!!n&&(n.hasPendingWrites||n.version.compareTo(i)>0)}executeFullCollectionScan(e,t,r){return i2()<=g.DEBUG&&i9("QueryEngine","Using full collection scan to execute query:",AH(t)),this.localDocumentsView.getDocumentsMatchingQuery(e,t,nP.min(),r)}appendRemainingResults(e,t,r,i){return this.localDocumentsView.getDocumentsMatchingQuery(e,r,i).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}let g2="firestore_clients";function g9(e,t){return`${g2}_${e}_${t}`}let g4="firestore_mutations";function g5(e,t,r){let i=`${g4}_${e}_${r}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}let g3="firestore_targets";function g6(e,t){return`${g3}_${e}_${t}`}let g8="firestore_online_state";function g7(e){return`${g8}_${e}`}let fe="firestore_bundle_loaded_v2";function ft(e){return`${fe}_${e}`}let fr="firestore_sequence_number";function fi(e){return`${fr}_${e}`}let fn="SharedClientState";class fs{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static fromWebStorageEntry(e,t,r){let i;let n=JSON.parse(r),s="object"==typeof n&&-1!==["pending","acknowledged","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return(s&&n.error&&(s="string"==typeof n.error.message&&"string"==typeof n.error.code)&&(i=new nt(n.error.code,n.error.message)),s)?new fs(e,t,n.state,i):(i4(fn,`Failed to parse mutation state for ID '${t}': ${r}`),null)}toWebStorageJSON(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class fo{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static fromWebStorageEntry(e,t){let r;let i=JSON.parse(t),n="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return(n&&i.error&&(n="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new nt(i.error.code,i.error.message)),n)?new fo(e,i.state,r):(i4(fn,`Failed to parse target state for ID '${e}': ${t}`),null)}toWebStorageJSON(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class fa{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static fromWebStorageEntry(e,t){let r=JSON.parse(t),i="object"==typeof r&&r.activeTargetIds instanceof Array,n=ln();for(let e=0;i&&e<r.activeTargetIds.length;++e)i=oZ(r.activeTargetIds[e]),n=n.add(r.activeTargetIds[e]);return i?new fa(e,n):(i4(fn,`Failed to parse client data for instance '${e}': ${t}`),null)}}class fA{constructor(e,t){this.clientId=e,this.onlineState=t}static fromWebStorageEntry(e){let t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new fA(t.clientId,t.onlineState):(i4(fn,`Failed to parse online state: ${e}`),null)}}class fl{constructor(){this.activeTargetIds=ln()}addQueryTarget(e){this.activeTargetIds=this.activeTargetIds.add(e)}removeQueryTarget(e){this.activeTargetIds=this.activeTargetIds.delete(e)}toWebStorageJSON(){return JSON.stringify({activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()})}}class fc{constructor(e,t,r,i,n){this.window=e,this.queue=t,this.persistenceKey=r,this.localClientId=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.storageListener=this.handleWebStorageEvent.bind(this),this.activeClients=new oC(ng),this.started=!1,this.earlyEvents=[];let s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=n,this.localClientStorageKey=g9(this.persistenceKey,this.localClientId),this.sequenceNumberKey=fi(this.persistenceKey),this.activeClients=this.activeClients.insert(this.localClientId,new fl),this.clientStateKeyRe=RegExp(`^${g2}_${s}_([^_]*)$`),this.mutationBatchKeyRe=RegExp(`^${g4}_${s}_(\\d+)(?:_(.*))?$`),this.queryTargetKeyRe=RegExp(`^${g3}_${s}_(\\d+)$`),this.onlineStateKey=g7(this.persistenceKey),this.bundleLoadedKey=ft(this.persistenceKey),this.window.addEventListener("storage",this.storageListener)}static isAvailable(e){return!!(e&&e.localStorage)}async start(){for(let e of(await this.syncEngine.getActiveClients())){if(e===this.localClientId)continue;let t=this.getItem(g9(this.persistenceKey,e));if(t){let r=fa.fromWebStorageEntry(e,t);r&&(this.activeClients=this.activeClients.insert(r.clientId,r))}}this.persistClientState();let e=this.storage.getItem(this.onlineStateKey);if(e){let t=this.fromWebStorageOnlineState(e);t&&this.handleOnlineStateEvent(t)}for(let e of this.earlyEvents)this.handleWebStorageEvent(e);this.earlyEvents=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.sequenceNumberKey,JSON.stringify(e))}getAllActiveQueryTargets(){return this.extractActiveQueryTargets(this.activeClients)}isActiveQueryTarget(e){let t=!1;return this.activeClients.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.persistMutationState(e,"pending")}updateMutationState(e,t,r){this.persistMutationState(e,t,r),this.removeMutationState(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){let t=this.storage.getItem(g6(this.persistenceKey,e));if(t){let i=fo.fromWebStorageEntry(e,t);i&&(r=i.state)}}return t&&this.localClientState.addQueryTarget(e),this.persistClientState(),r}removeLocalQueryTarget(e){this.localClientState.removeQueryTarget(e),this.persistClientState()}isLocalQueryTarget(e){return this.localClientState.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(g6(this.persistenceKey,e))}updateQueryState(e,t,r){this.persistQueryTargetState(e,t,r)}handleUserChange(e,t,r){t.forEach(e=>{this.removeMutationState(e)}),this.currentUser=e,r.forEach(e=>{this.addPendingMutation(e)})}setOnlineState(e){this.persistOnlineState(e)}notifyBundleLoaded(e){this.persistBundleLoadedState(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)}getItem(e){let t=this.storage.getItem(e);return i9(fn,"READ",e,t),t}setItem(e,t){i9(fn,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){i9(fn,"REMOVE",e),this.storage.removeItem(e)}handleWebStorageEvent(e){let t=e;if(t.storageArea===this.storage){if(i9(fn,"EVENT",t.key,t.newValue),t.key===this.localClientStorageKey){i4("Received WebStorage notification for local change. Another client might have garbage-collected our state");return}this.queue.enqueueRetryable(async()=>{if(!this.started){this.earlyEvents.push(t);return}if(null!==t.key){if(this.clientStateKeyRe.test(t.key)){if(null!=t.newValue){let e=this.fromWebStorageClientState(t.key,t.newValue);if(e)return this.handleClientStateEvent(e.clientId,e)}else{let e=this.fromWebStorageClientStateKey(t.key);return this.handleClientStateEvent(e,null)}}else if(this.mutationBatchKeyRe.test(t.key)){if(null!==t.newValue){let e=this.fromWebStorageMutationMetadata(t.key,t.newValue);if(e)return this.handleMutationBatchEvent(e)}}else if(this.queryTargetKeyRe.test(t.key)){if(null!==t.newValue){let e=this.fromWebStorageQueryTargetMetadata(t.key,t.newValue);if(e)return this.handleQueryTargetEvent(e)}}else if(t.key===this.onlineStateKey){if(null!==t.newValue){let e=this.fromWebStorageOnlineState(t.newValue);if(e)return this.handleOnlineStateEvent(e)}}else if(t.key===this.sequenceNumberKey){let e=fu(t.newValue);e!==se.INVALID&&this.sequenceNumberHandler(e)}else if(t.key===this.bundleLoadedKey){let e=this.fromWebStoreBundleLoadedState(t.newValue);await Promise.all(e.map(e=>this.syncEngine.synchronizeWithChangedDocuments(e)))}}})}}get localClientState(){return this.activeClients.get(this.localClientId)}persistClientState(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())}persistMutationState(e,t,r){let i=new fs(this.currentUser,e,t,r),n=g5(this.persistenceKey,this.currentUser,e);this.setItem(n,i.toWebStorageJSON())}removeMutationState(e){let t=g5(this.persistenceKey,this.currentUser,e);this.removeItem(t)}persistOnlineState(e){let t={clientId:this.localClientId,onlineState:e};this.storage.setItem(this.onlineStateKey,JSON.stringify(t))}persistQueryTargetState(e,t,r){let i=g6(this.persistenceKey,e),n=new fo(e,t,r);this.setItem(i,n.toWebStorageJSON())}persistBundleLoadedState(e){let t=JSON.stringify(Array.from(e));this.setItem(this.bundleLoadedKey,t)}fromWebStorageClientStateKey(e){let t=this.clientStateKeyRe.exec(e);return t?t[1]:null}fromWebStorageClientState(e,t){let r=this.fromWebStorageClientStateKey(e);return fa.fromWebStorageEntry(r,t)}fromWebStorageMutationMetadata(e,t){let r=this.mutationBatchKeyRe.exec(e),i=Number(r[1]),n=void 0!==r[2]?r[2]:null;return fs.fromWebStorageEntry(new iZ(n),i,t)}fromWebStorageQueryTargetMetadata(e,t){let r=Number(this.queryTargetKeyRe.exec(e)[1]);return fo.fromWebStorageEntry(r,t)}fromWebStorageOnlineState(e){return fA.fromWebStorageEntry(e)}fromWebStoreBundleLoadedState(e){return JSON.parse(e)}async handleMutationBatchEvent(e){if(e.user.uid!==this.currentUser.uid){i9(fn,`Ignoring mutation for non-active user ${e.user.uid}`);return}return this.syncEngine.applyBatchState(e.batchId,e.state,e.error)}handleQueryTargetEvent(e){return this.syncEngine.applyTargetState(e.targetId,e.state,e.error)}handleClientStateEvent(e,t){let r=t?this.activeClients.insert(e,t):this.activeClients.remove(e),i=this.extractActiveQueryTargets(this.activeClients),n=this.extractActiveQueryTargets(r),s=[],o=[];return n.forEach(e=>{i.has(e)||s.push(e)}),i.forEach(e=>{n.has(e)||o.push(e)}),this.syncEngine.applyActiveTargetsChange(s,o).then(()=>{this.activeClients=r})}handleOnlineStateEvent(e){this.activeClients.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}extractActiveQueryTargets(e){let t=ln();return e.forEach((e,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}function fu(e){let t=se.INVALID;if(null!=e)try{let r=JSON.parse(e);i8("number"==typeof r),t=r}catch(e){i4(fn,"Failed to read sequence number from WebStorage",e)}return t}class fh{constructor(){this.localState=new fl,this.queryState={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.localState.addQueryTarget(e),this.queryState[e]||"not-current"}updateQueryState(e,t,r){this.queryState[e]=t}removeLocalQueryTarget(e){this.localState.removeQueryTarget(e)}isLocalQueryTarget(e){return this.localState.activeTargetIds.has(e)}clearQueryState(e){delete this.queryState[e]}getAllActiveQueryTargets(){return this.localState.activeTargetIds}isActiveQueryTarget(e){return this.localState.activeTargetIds.has(e)}start(){return this.localState=new fl,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class fd{addCallback(e){}shutdown(){}}class fg{constructor(e){this.sendFn=e.sendFn,this.closeFn=e.closeFn}onConnected(e){this.wrappedOnConnected=e}onOpen(e){this.wrappedOnOpen=e}onClose(e){this.wrappedOnClose=e}onMessage(e){this.wrappedOnMessage=e}close(){this.closeFn()}send(e){this.sendFn(e)}callOnConnected(){this.wrappedOnConnected()}callOnOpen(){this.wrappedOnOpen()}callOnClose(e){this.wrappedOnClose(e)}callOnMessage(e){this.wrappedOnMessage(e)}}let ff=null;function fp(){return 268435456+Math.round(2147483648*Math.random())}function fE(){return null===ff?ff=fp():ff++,"0x"+ff.toString(16)}function fC(e){return new Promise((t,r)=>{e((e,i)=>{e?r(e):t(i)})})}let fI="1.9.1",fm="GrpcConnection",fB=`gl-node/${process.versions.node} fire/${iX} grpc/${fI}`;function fy(e,t,r,i){i8(null===t||"OAuth"===t.type);let n=new iW.SF;return t&&t.headers.forEach((e,t)=>n.set(t,e)),r&&r.headers.forEach((e,t)=>n.set(t,e)),i&&n.set("X-Firebase-GMPID",i),n.set("X-Goog-Api-Client",fB),n.set("Google-Cloud-Resource-Prefix",e),n.set("x-goog-request-params",e),n}class fQ{constructor(e,t){this.databaseInfo=t,this.cachedStub=null,this.firestore=e.google.firestore.v1,this.databasePath=`projects/${t.databaseId.projectId}/databases/${t.databaseId.database}`}get shouldResourcePathBeIncludedInRequest(){return!0}ensureActiveStub(){if(!this.cachedStub){i9(fm,"Creating Firestore stub.");let e=this.databaseInfo.ssl?iW.K9.createSsl():iW.K9.createInsecure();this.cachedStub=new this.firestore.Firestore(this.databaseInfo.host,e)}return this.cachedStub}invokeRPC(e,t,r,i,n){let s=fE(),o=this.ensureActiveStub(),a=fy(this.databasePath,i,n,this.databaseInfo.appId),A=Object.assign({database:this.databasePath},r);return fC(t=>(i9(fm,`RPC '${e}' ${s} invoked with request:`,r),o[e](A,a,(r,i)=>{r?(i9(fm,`RPC '${e}' ${s} failed with error:`,r),t(new nt(l$(r.code),r.message))):(i9(fm,`RPC '${e}' ${s} completed with response:`,i),t(void 0,i))})))}invokeStreamingRPC(e,t,r,i,n,s){let o=fE(),a=[],A=new nr;i9(fm,`RPC '${e}' ${o} invoked (streaming) with request:`,r);let l=this.ensureActiveStub(),c=fy(this.databasePath,i,n,this.databaseInfo.appId),u=Object.assign(Object.assign({},r),{database:this.databasePath}),h=l[e](u,c),d=!1;return h.on("data",t=>{i9(fm,`RPC ${e} ${o} received result:`,t),a.push(t),void 0!==s&&a.length===s&&(d=!0,A.resolve(a))}),h.on("end",()=>{i9(fm,`RPC '${e}' ${o} completed.`),d||(d=!0,A.resolve(a))}),h.on("error",t=>{i9(fm,`RPC '${e}' ${o} failed with error:`,t);let r=l$(t.code);A.reject(new nt(r,t.message))}),A.promise}openStream(e,t,r){let i=fE(),n=this.ensureActiveStub(),s=fy(this.databasePath,t,r,this.databaseInfo.appId),o=n[e](s),a=!1,A=e=>{a||(a=!0,l.callOnClose(e),o.end())},l=new fg({sendFn:t=>{if(a)i9(fm,`RPC '${e}' stream ${i} not sending because gRPC stream is closed:`,t);else{i9(fm,`RPC '${e}' stream ${i} sending:`,t);try{o.write(t)}catch(e){throw i4("Failure sending:",t),i4("Error:",e),e}}},closeFn:()=>{i9(fm,`RPC '${e}' stream ${i} closed locally via close().`),A()}}),c=!1;return o.on("data",t=>{a||(i9(fm,`RPC '${e}' stream ${i} received:`,t),c||(l.callOnConnected(),c=!0),l.callOnMessage(t))}),o.on("end",()=>{i9(fm,`RPC '${e}' stream ${i} ended.`),A()}),o.on("error",t=>{a||(i5(fm,`RPC '${e}' stream ${i} error. Code:`,t.code,"Message:",t.message),A(new nt(l$(t.code),t.message)))}),i9(fm,`Opening RPC '${e}' stream ${i} to ${this.databaseInfo.host}`),setTimeout(()=>{l.callOnOpen()},0),l}terminate(){this.cachedStub&&(this.cachedStub.close(),this.cachedStub=void 0)}}let fw={google:{nested:{protobuf:{options:{csharp_namespace:"Google.Protobuf.WellKnownTypes",go_package:"github.com/golang/protobuf/ptypes/wrappers",java_package:"com.google.protobuf",java_outer_classname:"WrappersProto",java_multiple_files:!0,objc_class_prefix:"GPB",cc_enable_arenas:!0,optimize_for:"SPEED"},nested:{Timestamp:{fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}},FileDescriptorSet:{fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}}},FileDescriptorProto:{fields:{name:{type:"string",id:1},package:{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},publicDependency:{rule:"repeated",type:"int32",id:10,options:{packed:!1}},weakDependency:{rule:"repeated",type:"int32",id:11,options:{packed:!1}},messageType:{rule:"repeated",type:"DescriptorProto",id:4},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},sourceCodeInfo:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12}}},DescriptorProto:{fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nestedType:{rule:"repeated",type:"DescriptorProto",id:3},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:4},extensionRange:{rule:"repeated",type:"ExtensionRange",id:5},oneofDecl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reservedRange:{rule:"repeated",type:"ReservedRange",id:9},reservedName:{rule:"repeated",type:"string",id:10}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},FieldDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},typeName:{type:"string",id:6},extendee:{type:"string",id:2},defaultValue:{type:"string",id:7},oneofIndex:{type:"int32",id:9},jsonName:{type:"string",id:10},options:{type:"FieldOptions",id:8}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REQUIRED:2,LABEL_REPEATED:3}}}},OneofDescriptorProto:{fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3}}},EnumValueDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{fields:{name:{type:"string",id:1},inputType:{type:"string",id:2},outputType:{type:"string",id:3},options:{type:"MethodOptions",id:4},clientStreaming:{type:"bool",id:5},serverStreaming:{type:"bool",id:6}}},FileOptions:{fields:{javaPackage:{type:"string",id:1},javaOuterClassname:{type:"string",id:8},javaMultipleFiles:{type:"bool",id:10},javaGenerateEqualsAndHash:{type:"bool",id:20,options:{deprecated:!0}},javaStringCheckUtf8:{type:"bool",id:27},optimizeFor:{type:"OptimizeMode",id:9,options:{default:"SPEED"}},goPackage:{type:"string",id:11},ccGenericServices:{type:"bool",id:16},javaGenericServices:{type:"bool",id:17},pyGenericServices:{type:"bool",id:18},deprecated:{type:"bool",id:23},ccEnableArenas:{type:"bool",id:31},objcClassPrefix:{type:"string",id:36},csharpNamespace:{type:"string",id:37},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[38,38]],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{fields:{messageSetWireFormat:{type:"bool",id:1},noStandardDescriptorAccessor:{type:"bool",id:2},deprecated:{type:"bool",id:3},mapEntry:{type:"bool",id:7},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[8,8]]},FieldOptions:{fields:{ctype:{type:"CType",id:1,options:{default:"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{default:"JS_NORMAL"}},lazy:{type:"bool",id:5},deprecated:{type:"bool",id:3},weak:{type:"bool",id:10},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}}}},OneofOptions:{fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumOptions:{fields:{allowAlias:{type:"bool",id:2},deprecated:{type:"bool",id:3},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumValueOptions:{fields:{deprecated:{type:"bool",id:1},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},ServiceOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},MethodOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},UninterpretedOption:{fields:{name:{rule:"repeated",type:"NamePart",id:2},identifierValue:{type:"string",id:3},positiveIntValue:{type:"uint64",id:4},negativeIntValue:{type:"int64",id:5},doubleValue:{type:"double",id:6},stringValue:{type:"bytes",id:7},aggregateValue:{type:"string",id:8}},nested:{NamePart:{fields:{namePart:{rule:"required",type:"string",id:1},isExtension:{rule:"required",type:"bool",id:2}}}}},SourceCodeInfo:{fields:{location:{rule:"repeated",type:"Location",id:1}},nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1},span:{rule:"repeated",type:"int32",id:2},leadingComments:{type:"string",id:3},trailingComments:{type:"string",id:4},leadingDetachedComments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1},sourceFile:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4}}}}},Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}},Empty:{fields:{}},DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}},Any:{fields:{typeUrl:{type:"string",id:1},value:{type:"bytes",id:2}}}}},firestore:{nested:{v1:{options:{csharp_namespace:"Google.Cloud.Firestore.V1",go_package:"google.golang.org/genproto/googleapis/firestore/v1;firestore",java_multiple_files:!0,java_outer_classname:"WriteProto",java_package:"com.google.firestore.v1",objc_class_prefix:"GCFS",php_namespace:"Google\\Cloud\\Firestore\\V1",ruby_package:"Google::Cloud::Firestore::V1"},nested:{AggregationResult:{fields:{aggregateFields:{keyType:"string",type:"Value",id:2}}},BitSequence:{fields:{bitmap:{type:"bytes",id:1},padding:{type:"int32",id:2}}},BloomFilter:{fields:{bits:{type:"BitSequence",id:1},hashCount:{type:"int32",id:2}}},DocumentMask:{fields:{fieldPaths:{rule:"repeated",type:"string",id:1}}},Precondition:{oneofs:{conditionType:{oneof:["exists","updateTime"]}},fields:{exists:{type:"bool",id:1},updateTime:{type:"google.protobuf.Timestamp",id:2}}},TransactionOptions:{oneofs:{mode:{oneof:["readOnly","readWrite"]}},fields:{readOnly:{type:"ReadOnly",id:2},readWrite:{type:"ReadWrite",id:3}},nested:{ReadWrite:{fields:{retryTransaction:{type:"bytes",id:1}}},ReadOnly:{oneofs:{consistencySelector:{oneof:["readTime"]}},fields:{readTime:{type:"google.protobuf.Timestamp",id:2}}}}},Document:{fields:{name:{type:"string",id:1},fields:{keyType:"string",type:"Value",id:2},createTime:{type:"google.protobuf.Timestamp",id:3},updateTime:{type:"google.protobuf.Timestamp",id:4}}},Value:{oneofs:{valueType:{oneof:["nullValue","booleanValue","integerValue","doubleValue","timestampValue","stringValue","bytesValue","referenceValue","geoPointValue","arrayValue","mapValue"]}},fields:{nullValue:{type:"google.protobuf.NullValue",id:11},booleanValue:{type:"bool",id:1},integerValue:{type:"int64",id:2},doubleValue:{type:"double",id:3},timestampValue:{type:"google.protobuf.Timestamp",id:10},stringValue:{type:"string",id:17},bytesValue:{type:"bytes",id:18},referenceValue:{type:"string",id:5},geoPointValue:{type:"google.type.LatLng",id:8},arrayValue:{type:"ArrayValue",id:9},mapValue:{type:"MapValue",id:6}}},ArrayValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}},MapValue:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Firestore:{options:{"(google.api.default_host)":"firestore.googleapis.com","(google.api.oauth_scopes)":"https://www.googleapis.com/auth/cloud-platform,https://www.googleapis.com/auth/datastore"},methods:{GetDocument:{requestType:"GetDocumentRequest",responseType:"Document",options:{"(google.api.http).get":"/v1/{name=projects/*/databases/*/documents/*/**}"},parsedOptions:[{"(google.api.http)":{get:"/v1/{name=projects/*/databases/*/documents/*/**}"}}]},ListDocuments:{requestType:"ListDocumentsRequest",responseType:"ListDocumentsResponse",options:{"(google.api.http).get":"/v1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}"},parsedOptions:[{"(google.api.http)":{get:"/v1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}"}}]},UpdateDocument:{requestType:"UpdateDocumentRequest",responseType:"Document",options:{"(google.api.http).patch":"/v1/{document.name=projects/*/databases/*/documents/*/**}","(google.api.http).body":"document","(google.api.method_signature)":"document,update_mask"},parsedOptions:[{"(google.api.http)":{patch:"/v1/{document.name=projects/*/databases/*/documents/*/**}",body:"document"}},{"(google.api.method_signature)":"document,update_mask"}]},DeleteDocument:{requestType:"DeleteDocumentRequest",responseType:"google.protobuf.Empty",options:{"(google.api.http).delete":"/v1/{name=projects/*/databases/*/documents/*/**}","(google.api.method_signature)":"name"},parsedOptions:[{"(google.api.http)":{delete:"/v1/{name=projects/*/databases/*/documents/*/**}"}},{"(google.api.method_signature)":"name"}]},BatchGetDocuments:{requestType:"BatchGetDocumentsRequest",responseType:"BatchGetDocumentsResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:batchGet","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:batchGet",body:"*"}}]},BeginTransaction:{requestType:"BeginTransactionRequest",responseType:"BeginTransactionResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:beginTransaction","(google.api.http).body":"*","(google.api.method_signature)":"database"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:beginTransaction",body:"*"}},{"(google.api.method_signature)":"database"}]},Commit:{requestType:"CommitRequest",responseType:"CommitResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:commit","(google.api.http).body":"*","(google.api.method_signature)":"database,writes"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:commit",body:"*"}},{"(google.api.method_signature)":"database,writes"}]},Rollback:{requestType:"RollbackRequest",responseType:"google.protobuf.Empty",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:rollback","(google.api.http).body":"*","(google.api.method_signature)":"database,transaction"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:rollback",body:"*"}},{"(google.api.method_signature)":"database,transaction"}]},RunQuery:{requestType:"RunQueryRequest",responseType:"RunQueryResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:runQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:runQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:runQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:runQuery",body:"*"}}}]},RunAggregationQuery:{requestType:"RunAggregationQueryRequest",responseType:"RunAggregationQueryResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:runAggregationQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:runAggregationQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:runAggregationQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:runAggregationQuery",body:"*"}}}]},PartitionQuery:{requestType:"PartitionQueryRequest",responseType:"PartitionQueryResponse",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:partitionQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:partitionQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery",body:"*"}}}]},Write:{requestType:"WriteRequest",requestStream:!0,responseType:"WriteResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:write","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:write",body:"*"}}]},Listen:{requestType:"ListenRequest",requestStream:!0,responseType:"ListenResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:listen","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:listen",body:"*"}}]},ListCollectionIds:{requestType:"ListCollectionIdsRequest",responseType:"ListCollectionIdsResponse",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:listCollectionIds","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds","(google.api.http).additional_bindings.body":"*","(google.api.method_signature)":"parent"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:listCollectionIds",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds",body:"*"}}},{"(google.api.method_signature)":"parent"}]},BatchWrite:{requestType:"BatchWriteRequest",responseType:"BatchWriteResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:batchWrite","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:batchWrite",body:"*"}}]},CreateDocument:{requestType:"CreateDocumentRequest",responseType:"Document",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents/**}/{collection_id}","(google.api.http).body":"document"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents/**}/{collection_id}",body:"document"}}]}}},GetDocumentRequest:{oneofs:{consistencySelector:{oneof:["transaction","readTime"]}},fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},mask:{type:"DocumentMask",id:2},transaction:{type:"bytes",id:3},readTime:{type:"google.protobuf.Timestamp",id:5}}},ListDocumentsRequest:{oneofs:{consistencySelector:{oneof:["transaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},collectionId:{type:"string",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}},pageSize:{type:"int32",id:3},pageToken:{type:"string",id:4},orderBy:{type:"string",id:6},mask:{type:"DocumentMask",id:7},transaction:{type:"bytes",id:8},readTime:{type:"google.protobuf.Timestamp",id:10},showMissing:{type:"bool",id:12}}},ListDocumentsResponse:{fields:{documents:{rule:"repeated",type:"Document",id:1},nextPageToken:{type:"string",id:2}}},CreateDocumentRequest:{fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},collectionId:{type:"string",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}},documentId:{type:"string",id:3},document:{type:"Document",id:4,options:{"(google.api.field_behavior)":"REQUIRED"}},mask:{type:"DocumentMask",id:5}}},UpdateDocumentRequest:{fields:{document:{type:"Document",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},updateMask:{type:"DocumentMask",id:2},mask:{type:"DocumentMask",id:3},currentDocument:{type:"Precondition",id:4}}},DeleteDocumentRequest:{fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},currentDocument:{type:"Precondition",id:2}}},BatchGetDocumentsRequest:{oneofs:{consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},documents:{rule:"repeated",type:"string",id:2},mask:{type:"DocumentMask",id:3},transaction:{type:"bytes",id:4},newTransaction:{type:"TransactionOptions",id:5},readTime:{type:"google.protobuf.Timestamp",id:7}}},BatchGetDocumentsResponse:{oneofs:{result:{oneof:["found","missing"]}},fields:{found:{type:"Document",id:1},missing:{type:"string",id:2},transaction:{type:"bytes",id:3},readTime:{type:"google.protobuf.Timestamp",id:4}}},BeginTransactionRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},options:{type:"TransactionOptions",id:2}}},BeginTransactionResponse:{fields:{transaction:{type:"bytes",id:1}}},CommitRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},writes:{rule:"repeated",type:"Write",id:2},transaction:{type:"bytes",id:3}}},CommitResponse:{fields:{writeResults:{rule:"repeated",type:"WriteResult",id:1},commitTime:{type:"google.protobuf.Timestamp",id:2}}},RollbackRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},transaction:{type:"bytes",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}}}},RunQueryRequest:{oneofs:{queryType:{oneof:["structuredQuery"]},consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredQuery:{type:"StructuredQuery",id:2},transaction:{type:"bytes",id:5},newTransaction:{type:"TransactionOptions",id:6},readTime:{type:"google.protobuf.Timestamp",id:7}}},RunQueryResponse:{fields:{transaction:{type:"bytes",id:2},document:{type:"Document",id:1},readTime:{type:"google.protobuf.Timestamp",id:3},skippedResults:{type:"int32",id:4}}},RunAggregationQueryRequest:{oneofs:{queryType:{oneof:["structuredAggregationQuery"]},consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredAggregationQuery:{type:"StructuredAggregationQuery",id:2},transaction:{type:"bytes",id:4},newTransaction:{type:"TransactionOptions",id:5},readTime:{type:"google.protobuf.Timestamp",id:6}}},RunAggregationQueryResponse:{fields:{result:{type:"AggregationResult",id:1},transaction:{type:"bytes",id:2},readTime:{type:"google.protobuf.Timestamp",id:3}}},PartitionQueryRequest:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredQuery:{type:"StructuredQuery",id:2},partitionCount:{type:"int64",id:3},pageToken:{type:"string",id:4},pageSize:{type:"int32",id:5}}},PartitionQueryResponse:{fields:{partitions:{rule:"repeated",type:"Cursor",id:1},nextPageToken:{type:"string",id:2}}},WriteRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},streamId:{type:"string",id:2},writes:{rule:"repeated",type:"Write",id:3},streamToken:{type:"bytes",id:4},labels:{keyType:"string",type:"string",id:5}}},WriteResponse:{fields:{streamId:{type:"string",id:1},streamToken:{type:"bytes",id:2},writeResults:{rule:"repeated",type:"WriteResult",id:3},commitTime:{type:"google.protobuf.Timestamp",id:4}}},ListenRequest:{oneofs:{targetChange:{oneof:["addTarget","removeTarget"]}},fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},addTarget:{type:"Target",id:2},removeTarget:{type:"int32",id:3},labels:{keyType:"string",type:"string",id:4}}},ListenResponse:{oneofs:{responseType:{oneof:["targetChange","documentChange","documentDelete","documentRemove","filter"]}},fields:{targetChange:{type:"TargetChange",id:2},documentChange:{type:"DocumentChange",id:3},documentDelete:{type:"DocumentDelete",id:4},documentRemove:{type:"DocumentRemove",id:6},filter:{type:"ExistenceFilter",id:5}}},Target:{oneofs:{targetType:{oneof:["query","documents"]},resumeType:{oneof:["resumeToken","readTime"]}},fields:{query:{type:"QueryTarget",id:2},documents:{type:"DocumentsTarget",id:3},resumeToken:{type:"bytes",id:4},readTime:{type:"google.protobuf.Timestamp",id:11},targetId:{type:"int32",id:5},once:{type:"bool",id:6},expectedCount:{type:"google.protobuf.Int32Value",id:12}},nested:{DocumentsTarget:{fields:{documents:{rule:"repeated",type:"string",id:2}}},QueryTarget:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{parent:{type:"string",id:1},structuredQuery:{type:"StructuredQuery",id:2}}}}},TargetChange:{fields:{targetChangeType:{type:"TargetChangeType",id:1},targetIds:{rule:"repeated",type:"int32",id:2},cause:{type:"google.rpc.Status",id:3},resumeToken:{type:"bytes",id:4},readTime:{type:"google.protobuf.Timestamp",id:6}},nested:{TargetChangeType:{values:{NO_CHANGE:0,ADD:1,REMOVE:2,CURRENT:3,RESET:4}}}},ListCollectionIdsRequest:{fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},pageSize:{type:"int32",id:2},pageToken:{type:"string",id:3}}},ListCollectionIdsResponse:{fields:{collectionIds:{rule:"repeated",type:"string",id:1},nextPageToken:{type:"string",id:2}}},BatchWriteRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},writes:{rule:"repeated",type:"Write",id:2},labels:{keyType:"string",type:"string",id:3}}},BatchWriteResponse:{fields:{writeResults:{rule:"repeated",type:"WriteResult",id:1},status:{rule:"repeated",type:"google.rpc.Status",id:2}}},StructuredQuery:{fields:{select:{type:"Projection",id:1},from:{rule:"repeated",type:"CollectionSelector",id:2},where:{type:"Filter",id:3},orderBy:{rule:"repeated",type:"Order",id:4},startAt:{type:"Cursor",id:7},endAt:{type:"Cursor",id:8},offset:{type:"int32",id:6},limit:{type:"google.protobuf.Int32Value",id:5}},nested:{CollectionSelector:{fields:{collectionId:{type:"string",id:2},allDescendants:{type:"bool",id:3}}},Filter:{oneofs:{filterType:{oneof:["compositeFilter","fieldFilter","unaryFilter"]}},fields:{compositeFilter:{type:"CompositeFilter",id:1},fieldFilter:{type:"FieldFilter",id:2},unaryFilter:{type:"UnaryFilter",id:3}}},CompositeFilter:{fields:{op:{type:"Operator",id:1},filters:{rule:"repeated",type:"Filter",id:2}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,AND:1,OR:2}}}},FieldFilter:{fields:{field:{type:"FieldReference",id:1},op:{type:"Operator",id:2},value:{type:"Value",id:3}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,LESS_THAN:1,LESS_THAN_OR_EQUAL:2,GREATER_THAN:3,GREATER_THAN_OR_EQUAL:4,EQUAL:5,NOT_EQUAL:6,ARRAY_CONTAINS:7,IN:8,ARRAY_CONTAINS_ANY:9,NOT_IN:10}}}},UnaryFilter:{oneofs:{operandType:{oneof:["field"]}},fields:{op:{type:"Operator",id:1},field:{type:"FieldReference",id:2}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,IS_NAN:2,IS_NULL:3,IS_NOT_NAN:4,IS_NOT_NULL:5}}}},Order:{fields:{field:{type:"FieldReference",id:1},direction:{type:"Direction",id:2}}},FieldReference:{fields:{fieldPath:{type:"string",id:2}}},Projection:{fields:{fields:{rule:"repeated",type:"FieldReference",id:2}}},Direction:{values:{DIRECTION_UNSPECIFIED:0,ASCENDING:1,DESCENDING:2}}}},StructuredAggregationQuery:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{structuredQuery:{type:"StructuredQuery",id:1},aggregations:{rule:"repeated",type:"Aggregation",id:3}},nested:{Aggregation:{oneofs:{operator:{oneof:["count","sum","avg"]}},fields:{count:{type:"Count",id:1},sum:{type:"Sum",id:2},avg:{type:"Avg",id:3},alias:{type:"string",id:7}},nested:{Count:{fields:{upTo:{type:"google.protobuf.Int64Value",id:1}}},Sum:{fields:{field:{type:"FieldReference",id:1}}},Avg:{fields:{field:{type:"FieldReference",id:1}}}}}}},Cursor:{fields:{values:{rule:"repeated",type:"Value",id:1},before:{type:"bool",id:2}}},Write:{oneofs:{operation:{oneof:["update","delete","verify","transform"]}},fields:{update:{type:"Document",id:1},delete:{type:"string",id:2},verify:{type:"string",id:5},transform:{type:"DocumentTransform",id:6},updateMask:{type:"DocumentMask",id:3},updateTransforms:{rule:"repeated",type:"DocumentTransform.FieldTransform",id:7},currentDocument:{type:"Precondition",id:4}}},DocumentTransform:{fields:{document:{type:"string",id:1},fieldTransforms:{rule:"repeated",type:"FieldTransform",id:2}},nested:{FieldTransform:{oneofs:{transformType:{oneof:["setToServerValue","increment","maximum","minimum","appendMissingElements","removeAllFromArray"]}},fields:{fieldPath:{type:"string",id:1},setToServerValue:{type:"ServerValue",id:2},increment:{type:"Value",id:3},maximum:{type:"Value",id:4},minimum:{type:"Value",id:5},appendMissingElements:{type:"ArrayValue",id:6},removeAllFromArray:{type:"ArrayValue",id:7}},nested:{ServerValue:{values:{SERVER_VALUE_UNSPECIFIED:0,REQUEST_TIME:1}}}}}},WriteResult:{fields:{updateTime:{type:"google.protobuf.Timestamp",id:1},transformResults:{rule:"repeated",type:"Value",id:2}}},DocumentChange:{fields:{document:{type:"Document",id:1},targetIds:{rule:"repeated",type:"int32",id:5},removedTargetIds:{rule:"repeated",type:"int32",id:6}}},DocumentDelete:{fields:{document:{type:"string",id:1},removedTargetIds:{rule:"repeated",type:"int32",id:6},readTime:{type:"google.protobuf.Timestamp",id:4}}},DocumentRemove:{fields:{document:{type:"string",id:1},removedTargetIds:{rule:"repeated",type:"int32",id:2},readTime:{type:"google.protobuf.Timestamp",id:4}}},ExistenceFilter:{fields:{targetId:{type:"int32",id:1},count:{type:"int32",id:2},unchangedNames:{type:"BloomFilter",id:3}}}}}}},api:{options:{go_package:"google.golang.org/genproto/googleapis/api/annotations;annotations",java_multiple_files:!0,java_outer_classname:"HttpProto",java_package:"com.google.api",objc_class_prefix:"GAPI",cc_enable_arenas:!0},nested:{http:{type:"HttpRule",id:72295728,extend:"google.protobuf.MethodOptions"},Http:{fields:{rules:{rule:"repeated",type:"HttpRule",id:1}}},HttpRule:{oneofs:{pattern:{oneof:["get","put","post","delete","patch","custom"]}},fields:{get:{type:"string",id:2},put:{type:"string",id:3},post:{type:"string",id:4},delete:{type:"string",id:5},patch:{type:"string",id:6},custom:{type:"CustomHttpPattern",id:8},selector:{type:"string",id:1},body:{type:"string",id:7},additionalBindings:{rule:"repeated",type:"HttpRule",id:11}}},CustomHttpPattern:{fields:{kind:{type:"string",id:1},path:{type:"string",id:2}}},methodSignature:{rule:"repeated",type:"string",id:1051,extend:"google.protobuf.MethodOptions"},defaultHost:{type:"string",id:1049,extend:"google.protobuf.ServiceOptions"},oauthScopes:{type:"string",id:1050,extend:"google.protobuf.ServiceOptions"},fieldBehavior:{rule:"repeated",type:"google.api.FieldBehavior",id:1052,extend:"google.protobuf.FieldOptions"},FieldBehavior:{values:{FIELD_BEHAVIOR_UNSPECIFIED:0,OPTIONAL:1,REQUIRED:2,OUTPUT_ONLY:3,INPUT_ONLY:4,IMMUTABLE:5,UNORDERED_LIST:6,NON_EMPTY_DEFAULT:7}}}},type:{options:{cc_enable_arenas:!0,go_package:"google.golang.org/genproto/googleapis/type/latlng;latlng",java_multiple_files:!0,java_outer_classname:"LatLngProto",java_package:"com.google.type",objc_class_prefix:"GTP"},nested:{LatLng:{fields:{latitude:{type:"double",id:1},longitude:{type:"double",id:2}}}}},rpc:{options:{cc_enable_arenas:!0,go_package:"google.golang.org/genproto/googleapis/rpc/status;status",java_multiple_files:!0,java_outer_classname:"StatusProto",java_package:"com.google.rpc",objc_class_prefix:"RPC"},nested:{Status:{fields:{code:{type:"int32",id:1},message:{type:"string",id:2},details:{rule:"repeated",type:"google.protobuf.Any",id:3}}}}}}}};var fv={nested:fw},fb=Object.freeze({__proto__:null,nested:fw,default:fv});let fS={longs:String,enums:String,defaults:!0,oneofs:!1};function fT(){let e=ij.im(fb,fS);return iW.Rz(e)}function fD(e){return new fQ(fT(),e)}function fR(){return new fd}function fk(){return"YES"===process.env.USE_MOCK_PERSISTENCE?window:null}function fN(){return null}function fF(e){return new cg(e,!1)}let fM="ExponentialBackoff",fL=1e3,fU=1.5,f_=6e4;class fx{constructor(e,t,r=fL,i=fU,n=f_){this.queue=e,this.timerId=t,this.initialDelayMs=r,this.backoffFactor=i,this.maxDelayMs=n,this.currentBaseMs=0,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}reset(){this.currentBaseMs=0}resetToMax(){this.currentBaseMs=this.maxDelayMs}backoffAndRun(e){this.cancel();let t=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),i=Math.max(0,t-r);i>0&&i9(fM,`Backing off for ${i} ms (base delay: ${this.currentBaseMs} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,i,()=>(this.lastAttemptTime=Date.now(),e())),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)}skipBackoff(){null!==this.timerPromise&&(this.timerPromise.skipDelay(),this.timerPromise=null)}cancel(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)}jitterDelayMs(){return(Math.random()-.5)*this.currentBaseMs}}let fO="PersistentStream",fP=6e4,fV=1e4;class fG{constructor(e,t,r,i,n,s,o,a){this.queue=e,this.idleTimerId=r,this.healthTimerId=i,this.connection=n,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.closeCount=0,this.idleTimer=null,this.healthCheck=null,this.stream=null,this.responseCount=0,this.backoff=new fx(e,t)}isStarted(){return 1===this.state||5===this.state||this.isOpen()}isOpen(){return 2===this.state||3===this.state}start(){if(this.responseCount=0,4===this.state){this.performBackoff();return}this.auth()}async stop(){this.isStarted()&&await this.close(0)}inhibitBackoff(){this.state=0,this.backoff.reset()}markIdle(){this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,fP,()=>this.handleIdleCloseTimer()))}sendRequest(e){this.cancelIdleCheck(),this.stream.send(e)}async handleIdleCloseTimer(){if(this.isOpen())return this.close(0)}cancelIdleCheck(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)}cancelHealthCheck(){this.healthCheck&&(this.healthCheck.cancel(),this.healthCheck=null)}async close(e,t){this.cancelIdleCheck(),this.cancelHealthCheck(),this.backoff.cancel(),this.closeCount++,4!==e?this.backoff.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(i4(t.toString()),i4("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):t&&t.code===ne.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=e,await this.listener.onClose(t)}tearDown(){}auth(){this.state=1;let e=this.getCloseGuardedDispatcher(this.closeCount),t=this.closeCount;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,r])=>{this.closeCount===t&&this.startStream(e,r)},t=>{e(()=>{let e=new nt(ne.UNKNOWN,"Fetching auth token failed: "+t.message);return this.handleStreamClose(e)})})}startStream(e,t){let r=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(e,t),this.stream.onConnected(()=>{r(()=>this.listener.onConnected())}),this.stream.onOpen(()=>{r(()=>(this.state=2,this.healthCheck=this.queue.enqueueAfterDelay(this.healthTimerId,fV,()=>(this.isOpen()&&(this.state=3),Promise.resolve())),this.listener.onOpen()))}),this.stream.onClose(e=>{r(()=>this.handleStreamClose(e))}),this.stream.onMessage(e=>{r(()=>1==++this.responseCount?this.onFirst(e):this.onNext(e))})}performBackoff(){this.state=5,this.backoff.backoffAndRun(async()=>{this.state=0,this.start()})}handleStreamClose(e){return i9(fO,`close with error: ${e}`),this.stream=null,this.close(4,e)}getCloseGuardedDispatcher(e){return t=>{this.queue.enqueueAndForget(()=>this.closeCount===e?t():(i9(fO,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fY extends fG{constructor(e,t,r,i,n,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=n}startRpc(e,t){return this.connection.openStream("Listen",e,t)}onFirst(e){return this.onNext(e)}onNext(e){this.backoff.reset();let t=cP(this.serializer,e),r=cG(e);return this.listener.onWatchChange(t,r)}watch(e){let t={};t.database=ck(this.serializer),t.addTarget=c5(this.serializer,e);let r=c9(this.serializer,e);r&&(t.labels=r),this.sendRequest(t)}unwatch(e){let t={};t.database=ck(this.serializer),t.removeTarget=e,this.sendRequest(t)}}class fH extends fG{constructor(e,t,r,i,n,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=n}get handshakeComplete(){return this.responseCount>0}start(){this.lastStreamToken=void 0,super.start()}tearDown(){this.handshakeComplete&&this.writeMutations([])}startRpc(e,t){return this.connection.openStream("Write",e,t)}onFirst(e){return i8(!!e.streamToken),this.lastStreamToken=e.streamToken,i8(!e.writeResults||0===e.writeResults.length),this.listener.onHandshakeComplete()}onNext(e){i8(!!e.streamToken),this.lastStreamToken=e.streamToken,this.backoff.reset();let t=cj(e.writeResults,e.commitTime),r=cQ(e.commitTime);return this.listener.onMutationResult(r,t)}writeHandshake(){let e={};e.database=ck(this.serializer),this.sendRequest(e)}writeMutations(e){let t={streamToken:this.lastStreamToken,writes:e.map(e=>cY(this.serializer,e))};this.sendRequest(t)}}class fJ{}class fq extends fJ{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.terminated=!1}verifyInitialized(){if(this.terminated)throw new nt(ne.FAILED_PRECONDITION,"The client has already been terminated.")}invokeRPC(e,t,r,i){return this.verifyInitialized(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([n,s])=>this.connection.invokeRPC(e,cv(t,r),i,n,s)).catch(e=>{if("FirebaseError"===e.name)throw e.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e;throw new nt(ne.UNKNOWN,e.toString())})}invokeStreamingRPC(e,t,r,i,n){return this.verifyInitialized(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.invokeStreamingRPC(e,cv(t,r),i,s,o,n)).catch(e=>{if("FirebaseError"===e.name)throw e.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e;throw new nt(ne.UNKNOWN,e.toString())})}terminate(){this.terminated=!0,this.connection.terminate()}}function fW(e,t,r,i){return new fq(e,t,r,i)}async function fj(e,t){let r=i7(e),i={writes:t.map(e=>cY(r.serializer,e))};await r.invokeRPC("Commit",r.serializer.databaseId,nQ.emptyPath(),i)}async function fz(e,t){let r=i7(e),i={documents:t.map(e=>cS(r.serializer,e))},n=await r.invokeStreamingRPC("BatchGetDocuments",r.serializer.databaseId,nQ.emptyPath(),i,t.length),s=new Map;n.forEach(e=>{let t=cO(r.serializer,e);s.set(t.key.toString(),t)});let o=[];return t.forEach(e=>{let t=s.get(e.toString());i8(!!t),o.push(t)}),o}async function fK(e,t,r){var i;let n=i7(e),{request:s,aliasMap:o,parent:a}=c0(n.serializer,AL(t),r);n.connection.shouldResourcePathBeIncludedInRequest||delete s.parent;let A=(await n.invokeStreamingRPC("RunAggregationQuery",n.serializer.databaseId,a,s,1)).filter(e=>!!e.result);i8(1===A.length);let l=null===(i=A[0].result)||void 0===i?void 0:i.aggregateFields;return Object.keys(l).reduce((e,t)=>(e[o[t]]=l[t],e),{})}function fZ(e,t,r){let i=i7(e);return i.verifyInitialized(),new fH(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}function fX(e,t,r){let i=i7(e);return i.verifyInitialized(),new fY(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}let f$="OnlineStateTracker",f0=1,f1=1e4;class f2{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}handleWatchStreamStart(){0===this.watchStreamFailures&&(this.setAndBroadcast("Unknown"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay("online_state_timeout",f1,()=>(this.onlineStateTimer=null,this.logClientOfflineWarningIfNecessary(`Backend didn't respond within ${f1/1e3} seconds.`),this.setAndBroadcast("Offline"),Promise.resolve())))}handleWatchStreamFailure(e){"Online"===this.state?this.setAndBroadcast("Unknown"):(this.watchStreamFailures++,this.watchStreamFailures>=f0&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary(`Connection failed ${f0} times. Most recent error: ${e.toString()}`),this.setAndBroadcast("Offline")))}set(e){this.clearOnlineStateTimer(),this.watchStreamFailures=0,"Online"===e&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(e)}setAndBroadcast(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}logClientOfflineWarningIfNecessary(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.shouldWarnClientIsOffline?(i4(t),this.shouldWarnClientIsOffline=!1):i9(f$,t)}clearOnlineStateTimer(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)}}let f9="RemoteStore",f4=10;class f5{constructor(e,t,r,i,n){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.writePipeline=[],this.listenTargets=new Map,this.offlineCauses=new Set,this.onNetworkStatusChange=[],this.connectivityMonitor=n,this.connectivityMonitor.addCallback(e=>{r.enqueueAndForget(async()=>{po(this)&&(i9(f9,"Restarting streams for network reachability change."),await pb(this))})}),this.onlineStateTracker=new f2(r,i)}}function f3(e,t,r,i,n){return new f5(e,t,r,i,n)}async function f6(e){if(po(e))for(let t of e.onNetworkStatusChange)await t(!0)}async function f8(e){for(let t of e.onNetworkStatusChange)await t(!1)}async function f7(e){let t=i7(e);i9(f9,"RemoteStore shutting down."),t.offlineCauses.add(5),await f8(t),t.connectivityMonitor.shutdown(),t.onlineStateTracker.set("Unknown")}function pe(e,t){let r=i7(e);!r.listenTargets.has(t.targetId)&&(r.listenTargets.set(t.targetId,t),ps(r)?pn(r):pD(r).isOpen()&&pr(r,t))}function pt(e,t){let r=i7(e),i=pD(r);r.listenTargets.delete(t),i.isOpen()&&pi(r,t),0===r.listenTargets.size&&(i.isOpen()?i.markIdle():po(r)&&r.onlineStateTracker.set("Unknown"))}function pr(e,t){if(e.watchChangeAggregator.recordPendingTargetRequest(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(nm.min())>0){let r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}pD(e).watch(t)}function pi(e,t){e.watchChangeAggregator.recordPendingTargetRequest(t),pD(e).unwatch(t)}function pn(e){e.watchChangeAggregator=new ca({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),getTargetDataForTarget:t=>e.listenTargets.get(t)||null,getDatabaseId:()=>e.datastore.serializer.databaseId}),pD(e).start(),e.onlineStateTracker.handleWatchStreamStart()}function ps(e){return po(e)&&!pD(e).isStarted()&&e.listenTargets.size>0}function po(e){return 0===i7(e).offlineCauses.size}function pa(e){e.watchChangeAggregator=void 0}async function pA(e){e.onlineStateTracker.set("Online")}async function pl(e){e.listenTargets.forEach((t,r)=>{pr(e,t)})}async function pc(e,t){pa(e),ps(e)?(e.onlineStateTracker.handleWatchStreamFailure(t),pn(e)):e.onlineStateTracker.set("Unknown")}async function pu(e,t,r){if(e.onlineStateTracker.set("Online"),t instanceof cn&&2===t.state&&t.cause){try{await pf(e,t)}catch(r){i9(f9,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await ph(e,r)}return}if(t instanceof cr?e.watchChangeAggregator.handleDocumentChange(t):t instanceof ci?e.watchChangeAggregator.handleExistenceFilter(t):e.watchChangeAggregator.handleTargetChange(t),!r.isEqual(nm.min()))try{let t=await gT(e.localStore);r.compareTo(t)>=0&&await pg(e,r)}catch(t){i9(f9,"Failed to raise snapshot:",t),await ph(e,t)}}async function ph(e,t,r){if(n$(t))e.offlineCauses.add(1),await f8(e),e.onlineStateTracker.set("Offline"),r||(r=()=>gT(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{i9(f9,"Retrying IndexedDB access"),await r(),e.offlineCauses.delete(1),await f6(e)});else throw t}function pd(e,t){return t().catch(r=>ph(e,r,t))}function pg(e,t){let r=e.watchChangeAggregator.createRemoteEvent(t);return r.targetChanges.forEach((r,i)=>{if(r.resumeToken.approximateByteSize()>0){let n=e.listenTargets.get(i);n&&e.listenTargets.set(i,n.withResumeToken(r.resumeToken,t))}}),r.targetMismatches.forEach((t,r)=>{let i=e.listenTargets.get(t);i&&(e.listenTargets.set(t,i.withResumeToken(oD.EMPTY_BYTE_STRING,i.snapshotVersion)),pi(e,t),pr(e,new uw(i.target,t,r,i.sequenceNumber)))}),e.remoteSyncer.applyRemoteEvent(r)}async function pf(e,t){let r=t.cause;for(let i of t.targetIds)e.listenTargets.has(i)&&(await e.remoteSyncer.rejectListen(i,r),e.listenTargets.delete(i),e.watchChangeAggregator.removeTarget(i))}async function pp(e){let t=i7(e),r=pR(t),i=t.writePipeline.length>0?t.writePipeline[t.writePipeline.length-1].batchId:oj;for(;pE(t);)try{let e=await gF(t.localStore,i);if(null===e){0===t.writePipeline.length&&r.markIdle();break}i=e.batchId,pC(t,e)}catch(e){await ph(t,e)}pI(t)&&pm(t)}function pE(e){return po(e)&&e.writePipeline.length<f4}function pC(e,t){e.writePipeline.push(t);let r=pR(e);r.isOpen()&&r.handshakeComplete&&r.writeMutations(t.mutations)}function pI(e){return po(e)&&!pR(e).isStarted()&&e.writePipeline.length>0}function pm(e){pR(e).start()}async function pB(e){pR(e).writeHandshake()}async function py(e){let t=pR(e);for(let r of e.writePipeline)t.writeMutations(r.mutations)}async function pQ(e,t,r){let i=e.writePipeline.shift(),n=lj.from(i,t,r);await pd(e,()=>e.remoteSyncer.applySuccessfulWrite(n)),await pp(e)}async function pw(e,t){t&&pR(e).handshakeComplete&&await pv(e,t),pI(e)&&pm(e)}async function pv(e,t){if(lX(t.code)){let r=e.writePipeline.shift();pR(e).inhibitBackoff(),await pd(e,()=>e.remoteSyncer.rejectFailedWrite(r.batchId,t)),await pp(e)}}async function pb(e){let t=i7(e);t.offlineCauses.add(4),await f8(t),t.onlineStateTracker.set("Unknown"),t.offlineCauses.delete(4),await f6(t)}async function pS(e,t){let r=i7(e);r.asyncQueue.verifyOperationInProgress(),i9(f9,"RemoteStore received new credentials");let i=po(r);r.offlineCauses.add(3),await f8(r),i&&r.onlineStateTracker.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.offlineCauses.delete(3),await f6(r)}async function pT(e,t){let r=i7(e);t?(r.offlineCauses.delete(2),await f6(r)):t||(r.offlineCauses.add(2),await f8(r),r.onlineStateTracker.set("Unknown"))}function pD(e){return e.watchStream||(e.watchStream=fX(e.datastore,e.asyncQueue,{onConnected:pA.bind(null,e),onOpen:pl.bind(null,e),onClose:pc.bind(null,e),onWatchChange:pu.bind(null,e)}),e.onNetworkStatusChange.push(async t=>{t?(e.watchStream.inhibitBackoff(),ps(e)?pn(e):e.onlineStateTracker.set("Unknown")):(await e.watchStream.stop(),pa(e))})),e.watchStream}function pR(e){return e.writeStream||(e.writeStream=fZ(e.datastore,e.asyncQueue,{onConnected:()=>Promise.resolve(),onOpen:pB.bind(null,e),onClose:pw.bind(null,e),onHandshakeComplete:py.bind(null,e),onMutationResult:pQ.bind(null,e)}),e.onNetworkStatusChange.push(async t=>{t?(e.writeStream.inhibitBackoff(),await pp(e)):(await e.writeStream.stop(),e.writePipeline.length>0&&(i9(f9,`Stopping write stream with ${e.writePipeline.length} pending writes`),e.writePipeline=[]))})),e.writeStream}let pk="AsyncQueue";class pN{constructor(e,t,r,i,n){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=n,this.deferred=new nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,n){let s=new pN(e,t,Date.now()+r,i,n);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new nt(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pF(e,t){if(i4(pk,`${t}: ${e}`),n$(e))return new nt(ne.UNAVAILABLE,`${t}: ${e}`);throw e}class pM{constructor(e){e?this.comparator=(t,r)=>e(t,r)||nb.comparator(t.key,r.key):this.comparator=(e,t)=>nb.comparator(e.key,t.key),this.keyedMap=A9(),this.sortedSet=new oC(this.comparator)}static emptySet(e){return new pM(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof pM)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let e=t.getNext().key,i=r.getNext().key;if(!e.isEqual(i))return!1}return!0}toString(){let e=[];return(this.forEach(t=>{e.push(t.toString())}),0===e.length)?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){let r=new pM;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class pL{constructor(){this.changeMap=new oC(nb.comparator)}track(e){let t=e.doc.key,r=this.changeMap.get(t);if(!r){this.changeMap=this.changeMap.insert(t,e);return}0!==e.type&&3===r.type?this.changeMap=this.changeMap.insert(t,e):3===e.type&&1!==r.type?this.changeMap=this.changeMap.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.changeMap=this.changeMap.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.changeMap=this.changeMap.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.changeMap=this.changeMap.remove(t):1===e.type&&2===r.type?this.changeMap=this.changeMap.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.changeMap=this.changeMap.insert(t,{type:2,doc:e.doc}):i6()}getChanges(){let e=[];return this.changeMap.inorderTraversal((t,r)=>{e.push(r)}),e}}class pU{constructor(e,t,r,i,n,s,o,a,A){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=n,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=A}static fromInitialDocuments(e,t,r,i,n){let s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new pU(e,t,pM.emptySet(t),s,r,i,!0,!1,n)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(this.fromCache!==e.fromCache||this.hasCachedResults!==e.hasCachedResults||this.syncStateChanged!==e.syncStateChanged||!this.mutatedKeys.isEqual(e.mutatedKeys)||!AG(this.query,e.query)||!this.docs.isEqual(e.docs)||!this.oldDocs.isEqual(e.oldDocs))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==r[e].type||!t[e].doc.isEqual(r[e].doc))return!1;return!0}}class p_{constructor(){this.viewSnap=void 0,this.listeners=[]}hasRemoteListeners(){return this.listeners.some(e=>e.listensToRemoteStore())}}function px(){return new pO}class pO{constructor(){this.queries=pP(),this.onlineState="Unknown",this.snapshotsInSyncListeners=new Set}terminate(){pq(this,new nt(ne.ABORTED,"Firestore shutting down"))}}function pP(){return new A$(e=>AY(e),AG)}async function pV(e,t){let r=i7(e),i=3,n=t.query,s=r.queries.get(n);s?!s.hasRemoteListeners()&&t.listensToRemoteStore()&&(i=2):(s=new p_,i=t.listensToRemoteStore()?0:1);try{switch(i){case 0:s.viewSnap=await r.onListen(n,!0);break;case 1:s.viewSnap=await r.onListen(n,!1);break;case 2:await r.onFirstRemoteStoreListen(n)}}catch(r){let e=pF(r,`Initialization of query '${AH(t.query)}' failed`);t.onError(e);return}r.queries.set(n,s),s.listeners.push(t),t.applyOnlineStateChange(r.onlineState),s.viewSnap&&t.onViewSnapshot(s.viewSnap)&&pW(r)}async function pG(e,t){let r=i7(e),i=t.query,n=3,s=r.queries.get(i);if(s){let e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),0===s.listeners.length?n=t.listensToRemoteStore()?0:1:!s.hasRemoteListeners()&&t.listensToRemoteStore()&&(n=2))}switch(n){case 0:return r.queries.delete(i),r.onUnlisten(i,!0);case 1:return r.queries.delete(i),r.onUnlisten(i,!1);case 2:return r.onLastRemoteStoreUnlisten(i);default:return}}function pY(e,t){let r=i7(e),i=!1;for(let e of t){let t=e.query,n=r.queries.get(t);if(n){for(let t of n.listeners)t.onViewSnapshot(e)&&(i=!0);n.viewSnap=e}}i&&pW(r)}function pH(e,t,r){let i=i7(e),n=i.queries.get(t);if(n)for(let e of n.listeners)e.onError(r);i.queries.delete(t)}function pJ(e,t){let r=i7(e);r.onlineState=t;let i=!1;r.queries.forEach((e,r)=>{for(let e of r.listeners)e.applyOnlineStateChange(t)&&(i=!0)}),i&&pW(r)}function pq(e,t){let r=i7(e),i=r.queries;r.queries=pP(),i.forEach((e,r)=>{for(let e of r.listeners)e.onError(t)})}function pW(e){e.snapshotsInSyncListeners.forEach(e=>{e.next()})}!function(e){e.Default="default",e.Cache="cache"}(C||(C={}));class pj{constructor(e,t,r){this.query=e,this.queryObserver=t,this.raisedInitialEvent=!1,this.snap=null,this.onlineState="Unknown",this.options=r||{}}onViewSnapshot(e){if(!this.options.includeMetadataChanges){let t=[];for(let r of e.docChanges)3!==r.type&&t.push(r);e=new pU(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.raisedInitialEvent?this.shouldRaiseEvent(e)&&(this.queryObserver.next(e),t=!0):this.shouldRaiseInitialEvent(e,this.onlineState)&&(this.raiseInitialEvent(e),t=!0),this.snap=e,t}onError(e){this.queryObserver.error(e)}applyOnlineStateChange(e){this.onlineState=e;let t=!1;return this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,e)&&(this.raiseInitialEvent(this.snap),t=!0),t}shouldRaiseInitialEvent(e,t){if(!e.fromCache||!this.listensToRemoteStore())return!0;let r="Offline"!==t;return(!this.options.waitForSyncWhenOnline||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}shouldRaiseEvent(e){if(e.docChanges.length>0)return!0;let t=this.snap&&this.snap.hasPendingWrites!==e.hasPendingWrites;return(!!e.syncStateChanged||!!t)&&!0===this.options.includeMetadataChanges}raiseInitialEvent(e){e=pU.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.raisedInitialEvent=!0,this.queryObserver.next(e)}listensToRemoteStore(){return this.options.source!==C.Cache}}class pz{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.addedKeys=r,this.removedKeys=i}static fromSnapshot(e,t){let r=lr(),i=lr();for(let e of t.docChanges)switch(e.type){case 0:r=r.add(e.doc.key);break;case 1:i=i.add(e.doc.key)}return new pz(e,t.fromCache,r,i)}}class pK{constructor(e){this.serializer=e}toDocumentKey(e){return cT(this.serializer,e)}toMutableDocument(e){return e.metadata.exists?cU(this.serializer,e.document,!1):aP.newNoDocument(this.toDocumentKey(e.metadata.name),this.toSnapshotVersion(e.metadata.readTime))}toSnapshotVersion(e){return cQ(e)}}class pZ{constructor(e,t,r){this.bundleMetadata=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=pX(e)}addSizedElement(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),!e.payload.documentMetadata.exists&&++t;let r=nQ.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}getQueryDocumentMapping(e){let t=new Map,r=new pK(this.serializer);for(let i of e)if(i.metadata.queries){let e=r.toDocumentKey(i.metadata.name);for(let r of i.metadata.queries){let i=(t.get(r)||lr()).add(e);t.set(r,i)}}return t}async complete(){let e=await gW(this.localStore,new pK(this.serializer),this.documents,this.bundleMetadata.id),t=this.getQueryDocumentMapping(this.documents);for(let e of this.queries)await gK(this.localStore,e,t.get(e.name));return this.progress.taskState="Success",{progress:this.progress,changedCollectionGroups:this.collectionGroups,changedDocs:e}}}function pX(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}function p$(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class p0{constructor(e){this.key=e}}class p1{constructor(e){this.key=e}}class p2{constructor(e,t){this.query=e,this._syncedDocuments=t,this.syncState=null,this.hasCachedResults=!1,this.current=!1,this.limboDocuments=lr(),this.mutatedKeys=lr(),this.docComparator=AZ(e),this.documentSet=new pM(this.docComparator)}get syncedDocuments(){return this._syncedDocuments}computeDocChanges(e,t){let r=t?t.changeSet:new pL,i=t?t.documentSet:this.documentSet,n=t?t.mutatedKeys:this.mutatedKeys,s=i,o=!1,a="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,A="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((e,t)=>{let l=i.get(e),c=AJ(this.query,t)?t:null,u=!!l&&this.mutatedKeys.has(l.key),h=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations),d=!1;l&&c?l.data.isEqual(c.data)?u!==h&&(r.track({type:3,doc:c}),d=!0):!this.shouldWaitForSyncedDocument(l,c)&&(r.track({type:2,doc:c}),d=!0,(a&&this.docComparator(c,a)>0||A&&0>this.docComparator(c,A))&&(o=!0)):!l&&c?(r.track({type:0,doc:c}),d=!0):l&&!c&&(r.track({type:1,doc:l}),d=!0,(a||A)&&(o=!0)),d&&(c?(s=s.add(c),n=h?n.add(e):n.delete(e)):(s=s.delete(e),n=n.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){let e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),n=n.delete(e.key),r.track({type:1,doc:e})}return{documentSet:s,changeSet:r,needsRefill:o,mutatedKeys:n}}shouldWaitForSyncedDocument(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let n=this.documentSet;this.documentSet=e.documentSet,this.mutatedKeys=e.mutatedKeys;let s=e.changeSet.getChanges();s.sort((e,t)=>p9(e.type,t.type)||this.docComparator(e.doc,t.doc)),this.applyTargetChange(r),i=null!=i&&i;let o=t&&!i?this.updateLimboDocuments():[],a=0===this.limboDocuments.size&&this.current&&!i?1:0,A=a!==this.syncState;return(this.syncState=a,0!==s.length||A)?{snapshot:new pU(this.query,e.documentSet,n,s,e.mutatedKeys,0===a,A,!1,!!r&&r.resumeToken.approximateByteSize()>0),limboChanges:o}:{limboChanges:o}}applyOnlineStateChange(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new pL,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}}shouldBeInLimbo(e){return!this._syncedDocuments.has(e)&&!!this.documentSet.has(e)&&!this.documentSet.get(e).hasLocalMutations}applyTargetChange(e){e&&(e.addedDocuments.forEach(e=>this._syncedDocuments=this._syncedDocuments.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this._syncedDocuments=this._syncedDocuments.delete(e)),this.current=e.current)}updateLimboDocuments(){if(!this.current)return[];let e=this.limboDocuments;this.limboDocuments=lr(),this.documentSet.forEach(e=>{this.shouldBeInLimbo(e.key)&&(this.limboDocuments=this.limboDocuments.add(e.key))});let t=[];return e.forEach(e=>{this.limboDocuments.has(e)||t.push(new p1(e))}),this.limboDocuments.forEach(r=>{e.has(r)||t.push(new p0(r))}),t}synchronizeWithPersistedState(e){this._syncedDocuments=e.remoteKeys,this.limboDocuments=lr();let t=this.computeDocChanges(e.documents);return this.applyChanges(t,!0)}computeInitialSnapshot(){return pU.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,0===this.syncState,this.hasCachedResults)}}function p9(e,t){let r=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return i6()}};return r(e)-r(t)}let p4="SyncEngine";class p5{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class p3{constructor(e){this.key=e,this.receivedDocument=!1}}class p6{constructor(e,t,r,i,n,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=n,this.maxConcurrentLimboResolutions=s,this.syncEngineListener={},this.queryViewsByQuery=new A$(e=>AY(e),AG),this.queriesByTarget=new Map,this.enqueuedLimboResolutions=new Set,this.activeLimboTargetsByKey=new oC(nb.comparator),this.activeLimboResolutionsByTarget=new Map,this.limboDocumentRefs=new dU,this.mutationUserCallbacks={},this.pendingWritesCallbacks=new Map,this.limboTargetIdGenerator=h6.forSyncEngine(),this.onlineState="Unknown",this._isPrimaryClient=void 0}get isPrimaryClient(){return!0===this._isPrimaryClient}}function p8(e,t,r,i,n,s,o){let a=new p6(e,t,r,i,n,s);return o&&(a._isPrimaryClient=!0),a}async function p7(e,t,r=!0){let i;let n=EM(e),s=n.queryViewsByQuery.get(t);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.computeInitialSnapshot()):i=await Et(n,t,r,!0),i}async function Ee(e,t){let r=EM(e);await Et(r,t,!0,!1)}async function Et(e,t,r,i){let n;let s=await gL(e.localStore,AM(t)),o=s.targetId,a=e.sharedClientState.addLocalQueryTarget(o,r);return i&&(n=await Er(e,t,o,"current"===a,s.resumeToken)),e.isPrimaryClient&&r&&pe(e.remoteStore,s),n}async function Er(e,t,r,i,n){e.applyDocChanges=(t,r,i)=>EB(e,t,r,i);let s=await gx(e.localStore,t,!0),o=new p2(t,s.remoteKeys),a=o.computeDocChanges(s.documents),A=ct.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==e.onlineState,n),l=o.applyChanges(a,e.isPrimaryClient,A);EE(e,r,l.limboChanges);let c=new p5(t,r,o);return e.queryViewsByQuery.set(t,c),e.queriesByTarget.has(r)?e.queriesByTarget.get(r).push(t):e.queriesByTarget.set(r,[t]),l.snapshot}async function Ei(e,t,r){let i=i7(e),n=i.queryViewsByQuery.get(t),s=i.queriesByTarget.get(n.targetId);if(s.length>1){i.queriesByTarget.set(n.targetId,s.filter(e=>!AG(e,t))),i.queryViewsByQuery.delete(t);return}i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(n.targetId),i.sharedClientState.isActiveQueryTarget(n.targetId)||await g_(i.localStore,n.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(n.targetId),r&&pt(i.remoteStore,n.targetId),Ef(i,n.targetId)}).catch(nH)):(Ef(i,n.targetId),await g_(i.localStore,n.targetId,!0))}async function En(e,t){let r=i7(e),i=r.queryViewsByQuery.get(t),n=r.queriesByTarget.get(i.targetId);r.isPrimaryClient&&1===n.length&&(r.sharedClientState.removeLocalQueryTarget(i.targetId),pt(r.remoteStore,i.targetId))}async function Es(e,t,r){let i=EL(e);try{let e=await gQ(i.localStore,t);i.sharedClientState.addPendingMutation(e.batchId),Ed(i,e.batchId,r),await Em(i,e.changes),await pp(i.remoteStore)}catch(t){let e=pF(t,"Failed to persist write");r.reject(e)}}async function Eo(e,t){let r=i7(e);try{let e=await gD(r.localStore,t);t.targetChanges.forEach((e,t)=>{let i=r.activeLimboResolutionsByTarget.get(t);i&&(i8(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?i.receivedDocument=!0:e.modifiedDocuments.size>0?i8(i.receivedDocument):e.removedDocuments.size>0&&(i8(i.receivedDocument),i.receivedDocument=!1))}),await Em(r,e,t)}catch(e){await nH(e)}}function Ea(e,t,r){let i=i7(e);if(i.isPrimaryClient&&0===r||!i.isPrimaryClient&&1===r){let e=[];i.queryViewsByQuery.forEach((r,i)=>{let n=i.view.applyOnlineStateChange(t);n.snapshot&&e.push(n.snapshot)}),pJ(i.eventManager,t),e.length&&i.syncEngineListener.onWatchChange(e),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function EA(e,t,r){let i=i7(e);i.sharedClientState.updateQueryState(t,"rejected",r);let n=i.activeLimboResolutionsByTarget.get(t),s=n&&n.key;if(s){let e=new oC(nb.comparator);e=e.insert(s,aP.newNoDocument(s,nm.min()));let r=lr().add(s),n=new ce(nm.min(),new Map,new oC(ng),e,r);await Eo(i,n),i.activeLimboTargetsByKey=i.activeLimboTargetsByKey.remove(s),i.activeLimboResolutionsByTarget.delete(t),EI(i)}else await g_(i.localStore,t,!1).then(()=>Ef(i,t,r)).catch(nH)}async function El(e,t){let r=i7(e),i=t.batch.batchId;try{let e=await gw(r.localStore,t);Eg(r,i,null),Eu(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),await Em(r,e)}catch(e){await nH(e)}}async function Ec(e,t,r){let i=i7(e);try{let e=await gb(i.localStore,t);Eg(i,t,r),Eu(i,t),i.sharedClientState.updateMutationState(t,"rejected",r),await Em(i,e)}catch(e){await nH(e)}}function Eu(e,t){(e.pendingWritesCallbacks.get(t)||[]).forEach(e=>{e.resolve()}),e.pendingWritesCallbacks.delete(t)}function Eh(e,t){e.pendingWritesCallbacks.forEach(e=>{e.forEach(e=>{e.reject(new nt(ne.CANCELLED,t))})}),e.pendingWritesCallbacks.clear()}function Ed(e,t,r){let i=e.mutationUserCallbacks[e.currentUser.toKey()];i||(i=new oC(ng)),i=i.insert(t,r),e.mutationUserCallbacks[e.currentUser.toKey()]=i}function Eg(e,t,r){let i=i7(e),n=i.mutationUserCallbacks[i.currentUser.toKey()];if(n){let e=n.get(t);e&&(r?e.reject(r):e.resolve(),n=n.remove(t)),i.mutationUserCallbacks[i.currentUser.toKey()]=n}}function Ef(e,t,r=null){for(let i of(e.sharedClientState.removeLocalQueryTarget(t),e.queriesByTarget.get(t)))e.queryViewsByQuery.delete(i),r&&e.syncEngineListener.onWatchError(i,r);e.queriesByTarget.delete(t),e.isPrimaryClient&&e.limboDocumentRefs.removeReferencesForId(t).forEach(t=>{e.limboDocumentRefs.containsKey(t)||Ep(e,t)})}function Ep(e,t){e.enqueuedLimboResolutions.delete(t.path.canonicalString());let r=e.activeLimboTargetsByKey.get(t);null!==r&&(pt(e.remoteStore,r),e.activeLimboTargetsByKey=e.activeLimboTargetsByKey.remove(t),e.activeLimboResolutionsByTarget.delete(r),EI(e))}function EE(e,t,r){for(let i of r)i instanceof p0?(e.limboDocumentRefs.addReference(i.key,t),EC(e,i)):i instanceof p1?(i9(p4,"Document no longer in limbo: "+i.key),e.limboDocumentRefs.removeReference(i.key,t),e.limboDocumentRefs.containsKey(i.key)||Ep(e,i.key)):i6()}function EC(e,t){let r=t.key,i=r.path.canonicalString();e.activeLimboTargetsByKey.get(r)||e.enqueuedLimboResolutions.has(i)||(i9(p4,"New document in limbo: "+r),e.enqueuedLimboResolutions.add(i),EI(e))}function EI(e){for(;e.enqueuedLimboResolutions.size>0&&e.activeLimboTargetsByKey.size<e.maxConcurrentLimboResolutions;){let t=e.enqueuedLimboResolutions.values().next().value;e.enqueuedLimboResolutions.delete(t);let r=new nb(nQ.fromString(t)),i=e.limboTargetIdGenerator.next();e.activeLimboResolutionsByTarget.set(i,new p3(r)),e.activeLimboTargetsByKey=e.activeLimboTargetsByKey.insert(r,i),pe(e.remoteStore,new uw(AM(AS(r.path)),i,"TargetPurposeLimboResolution",se.INVALID))}}async function Em(e,t,r){let i=i7(e),n=[],s=[],o=[];i.queryViewsByQuery.isEmpty()||(i.queryViewsByQuery.forEach((e,a)=>{o.push(i.applyDocChanges(a,t,r).then(e=>{var t;if((e||r)&&i.isPrimaryClient){let n=e?!e.fromCache:null===(t=null==r?void 0:r.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;i.sharedClientState.updateQueryState(a.targetId,n?"current":"not-current")}if(e){n.push(e);let t=pz.fromSnapshot(a.targetId,e);s.push(t)}}))}),await Promise.all(o),i.syncEngineListener.onWatchChange(n),await gN(i.localStore,s))}async function EB(e,t,r,i){let n=t.view.computeDocChanges(r);n.needsRefill&&(n=await gx(e.localStore,t.query,!1).then(({documents:e})=>t.view.computeDocChanges(e,n)));let s=i&&i.targetChanges.get(t.targetId),o=i&&null!=i.targetMismatches.get(t.targetId),a=t.view.applyChanges(n,e.isPrimaryClient,s,o);return EE(e,t.targetId,a.limboChanges),a.snapshot}async function Ey(e,t){let r=i7(e);if(!r.currentUser.isEqual(t)){i9(p4,"User change. New user:",t.toKey());let e=await gy(r.localStore,t);r.currentUser=t,Eh(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Em(r,e.affectedDocuments)}}function EQ(e,t){let r=i7(e),i=r.activeLimboResolutionsByTarget.get(t);if(i&&i.receivedDocument)return lr().add(i.key);{let e=lr(),i=r.queriesByTarget.get(t);if(!i)return e;for(let t of i){let i=r.queryViewsByQuery.get(t);e=e.unionWith(i.view.syncedDocuments)}return e}}async function Ew(e,t){let r=i7(e),i=await gx(r.localStore,t.query,!0),n=t.view.synchronizeWithPersistedState(i);return r.isPrimaryClient&&EE(r,t.targetId,n.limboChanges),n}async function Ev(e,t){let r=i7(e);return gH(r.localStore,t).then(e=>Em(r,e))}async function Eb(e,t,r,i){let n=i7(e),s=await gP(n.localStore,t);if(null===s){i9(p4,"Cannot apply mutation batch with id: "+t);return}"pending"===r?await pp(n.remoteStore):"acknowledged"===r||"rejected"===r?(Eg(n,t,i||null),Eu(n,t),gV(n.localStore,t)):i6(),await Em(n,s)}async function ES(e,t){let r=i7(e);if(EM(r),EL(r),!0===t&&!0!==r._isPrimaryClient){let e=r.sharedClientState.getAllActiveQueryTargets(),t=await ED(r,e.toArray());for(let e of(r._isPrimaryClient=!0,await pT(r.remoteStore,!0),t))pe(r.remoteStore,e)}else if(!1===t&&!1!==r._isPrimaryClient){let e=[],t=Promise.resolve();r.queriesByTarget.forEach((i,n)=>{r.sharedClientState.isLocalQueryTarget(n)?e.push(n):t=t.then(()=>(Ef(r,n),g_(r.localStore,n,!0))),pt(r.remoteStore,n)}),await t,await ED(r,e),ET(r),r._isPrimaryClient=!1,await pT(r.remoteStore,!1)}}function ET(e){let t=i7(e);t.activeLimboResolutionsByTarget.forEach((e,r)=>{pt(t.remoteStore,r)}),t.limboDocumentRefs.removeAllReferences(),t.activeLimboResolutionsByTarget=new Map,t.activeLimboTargetsByKey=new oC(nb.comparator)}async function ED(e,t,r){let i=i7(e),n=[],s=[];for(let e of t){let t;let r=i.queriesByTarget.get(e);if(r&&0!==r.length)for(let e of(t=await gL(i.localStore,AM(r[0])),r)){let t=i.queryViewsByQuery.get(e),r=await Ew(i,t);r.snapshot&&s.push(r.snapshot)}else{let r=await gY(i.localStore,e);t=await gL(i.localStore,r),await Er(i,ER(r),e,!1,t.resumeToken)}n.push(t)}return i.syncEngineListener.onWatchChange(s),n}function ER(e){return Ab(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Ek(e){return gG(i7(e).localStore)}async function EN(e,t,r,i){let n=i7(e);if(n._isPrimaryClient){i9(p4,"Ignoring unexpected query state notification.");return}let s=n.queriesByTarget.get(t);if(s&&s.length>0)switch(r){case"current":case"not-current":{let e=await gH(n.localStore,AK(s[0])),i=ce.createSynthesizedRemoteEventForCurrentChange(t,"current"===r,oD.EMPTY_BYTE_STRING);await Em(n,e,i);break}case"rejected":await g_(n.localStore,t,!0),Ef(n,t,i);break;default:i6()}}async function EF(e,t,r){let i=EM(e);if(i._isPrimaryClient){for(let e of t){if(i.queriesByTarget.has(e)&&i.sharedClientState.isActiveQueryTarget(e)){i9(p4,"Adding an already active target "+e);continue}let t=await gY(i.localStore,e),r=await gL(i.localStore,t);await Er(i,ER(t),r.targetId,!1,r.resumeToken),pe(i.remoteStore,r)}for(let e of r)i.queriesByTarget.has(e)&&await g_(i.localStore,e,!1).then(()=>{pt(i.remoteStore,e),Ef(i,e)}).catch(nH)}}function EM(e){let t=i7(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Eo.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=EQ.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=EA.bind(null,t),t.syncEngineListener.onWatchChange=pY.bind(null,t.eventManager),t.syncEngineListener.onWatchError=pH.bind(null,t.eventManager),t}function EL(e){let t=i7(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=El.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ec.bind(null,t),t}async function EU(e,t,r){try{let i=await t.getMetadata();if(await gj(e.localStore,i))return await t.close(),r._completeWith(p$(i)),Promise.resolve(new Set);r._updateProgress(pX(i));let n=new pZ(i,e.localStore,t.serializer),s=await t.nextElement();for(;s;){let e=await n.addSizedElement(s);e&&r._updateProgress(e),s=await t.nextElement()}let o=await n.complete();return await Em(e,o.changedDocs,void 0),await gz(e.localStore,i),r._completeWith(o.progress),Promise.resolve(o.changedCollectionGroups)}catch(e){return i5(p4,`Loading bundle failed with ${e}`),r._failWith(e),Promise.resolve(new Set)}}class E_{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=fF(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return gB(this.persistence,new g1,e.initialUser,this.serializer)}createPersistence(e){return new dJ(dW.factory,this.serializer)}createSharedClientState(e){return new fh}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}E_.provider={build:()=>new E_};class Ex extends E_{constructor(e,t,r){super(),this.onlineComponentProvider=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.onlineComponentProvider.initialize(this,e),await EL(this.onlineComponentProvider.syncEngine),await pp(this.onlineComponentProvider.remoteStore),await this.persistence.setPrimaryStateListener(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return gB(this.persistence,new g1,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new dd(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){let r=new n7(t,this.persistence);return new n8(e.asyncQueue,r)}createPersistence(e){let t=gf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ds.withCacheSize(this.cacheSizeBytes):ds.DEFAULT;return new gh(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,fk(),fN(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new fh}}class EO{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Ea(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ey.bind(null,this.syncEngine),await pT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return px()}createDatastore(e){let t=fF(e.databaseInfo.databaseId),r=fD(e.databaseInfo);return fW(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return f3(this.localStore,this.datastore,e.asyncQueue,e=>Ea(this.syncEngine,e,0),fR())}createSyncEngine(e,t){return p8(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await f7(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}EO.provider={build:()=>new EO};let EP=10240;function EV(e,t=EP){let r=0;return{async read(){if(r<e.byteLength){let i={value:e.slice(r,r+t),done:!1};return r+=t,i}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}function EG(e,t,r,i){if(!0===t&&!0===i)throw new nt(ne.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)}function EY(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function EH(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{let t=EJ(e);return t?`a custom ${t} object`:"an object"}}if("function"==typeof e)return"a function";return i6()}function EJ(e){return e.constructor?e.constructor.name:null}function Eq(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new nt(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let r=EH(e);throw new nt(ne.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}function EW(e,t){if(!(e instanceof Uint8Array))throw new nt(ne.INVALID_ARGUMENT,`NodePlatform.toByteStreamReader expects source to be Uint8Array, got ${EH(e)}`);return EV(e,t)}class Ej{constructor(e){this.observer=e,this.muted=!1}next(e){!this.muted&&this.observer.next&&this.scheduleEvent(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.scheduleEvent(this.observer.error,e):i4("Uncaught Error in snapshot listener:",e.toString()))}mute(){this.muted=!0}scheduleEvent(e,t){setTimeout(()=>{this.muted||e(t)},0)}}class Ez{constructor(e,t){this.payload=e,this.byteLength=t}isBundleMetadata(){return"metadata"in this.payload}}class EK{constructor(e,t){this.reader=e,this.serializer=t,this.metadata=new nr,this.buffer=new Uint8Array,this.textDecoder=l4(),this.nextElementImpl().then(e=>{e&&e.isBundleMetadata()?this.metadata.resolve(e.payload.metadata):this.metadata.reject(Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(null==e?void 0:e.payload)}`))},e=>this.metadata.reject(e))}close(){return this.reader.cancel()}async getMetadata(){return this.metadata.promise}async nextElement(){return await this.getMetadata(),this.nextElementImpl()}async nextElementImpl(){let e=await this.readLength();if(null===e)return null;let t=this.textDecoder.decode(e),r=Number(t);return isNaN(r)&&this.raiseError(`length string (${t}) is not valid number`),new Ez(JSON.parse(await this.readJsonString(r)),e.length+r)}indexOfOpenBracket(){return this.buffer.findIndex(e=>123===e)}async readLength(){for(;0>this.indexOfOpenBracket()&&!await this.pullMoreDataToBuffer(););if(0===this.buffer.length)return null;let e=this.indexOfOpenBracket();e<0&&this.raiseError("Reached the end of bundle when a length string is expected.");let t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async readJsonString(e){for(;this.buffer.length<e;)await this.pullMoreDataToBuffer()&&this.raiseError("Reached the end of bundle when more is expected.");let t=this.textDecoder.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}raiseError(e){throw this.reader.cancel(),Error(`Invalid bundle format: ${e}`)}async pullMoreDataToBuffer(){let e=await this.reader.read();if(!e.done){let t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}function EZ(e,t){return new EK(e,t)}class EX{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new nt(ne.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let t=await fz(this.datastore,e);return t.forEach(e=>this.recordVersion(e)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new lY(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((e,t)=>{let r=nb.fromPath(t);this.mutations.push(new lq(r,this.precondition(r)))}),await fj(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else if(e.isNoDocument())t=nm.min();else throw i6();let r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new nt(ne.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){let t=this.readVersions.get(e.toString());return this.writtenDocs.has(e.toString())||!t?lb.none():t.isEqual(nm.min())?lb.exists(!1):lb.updateTime(t)}preconditionForUpdate(e){let t=this.readVersions.get(e.toString());if(this.writtenDocs.has(e.toString())||!t)return lb.exists(!0);if(t.isEqual(nm.min()))throw new nt(ne.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return lb.updateTime(t)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}let E$="FirestoreClient",E0=100,E1=11,E2=20,E9=22;class E4{constructor(e,t,r,i,n){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=iZ.UNAUTHENTICATED,this.clientId=nd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=n,this.authCredentials.start(r,async e=>{i9(E$,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(r,e=>(i9(E$,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:E0}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){let t=pF(r,"Failed to shutdown persistence");e.reject(t)}}),e.promise}}async function E5(e,t){e.asyncQueue.verifyOperationInProgress(),i9(E$,"Initializing OfflineComponentProvider");let r=e.configuration;await t.initialize(r);let i=r.initialUser;e.setCredentialChangeListener(async e=>{i.isEqual(e)||(await gy(t.localStore,e),i=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function E3(e,t){e.asyncQueue.verifyOperationInProgress();let r=await E8(e);i9(E$,"Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener(e=>pS(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,r)=>pS(t.remoteStore,r)),e._onlineComponents=t}function E6(e){return"FirebaseError"===e.name?e.code===ne.FAILED_PRECONDITION||e.code===ne.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||e.code===E9||e.code===E2||e.code===E1}async function E8(e){if(!e._offlineComponents){if(e._uninitializedComponentsProvider){i9(E$,"Using user provided OfflineComponentProvider");try{await E5(e,e._uninitializedComponentsProvider._offline)}catch(r){let t=r;if(!E6(t))throw t;i5("Error using user provided cache. Falling back to memory cache: "+t),await E5(e,new E_)}}else i9(E$,"Using default OfflineComponentProvider"),await E5(e,new E_)}return e._offlineComponents}async function E7(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(i9(E$,"Using user provided OnlineComponentProvider"),await E3(e,e._uninitializedComponentsProvider._online)):(i9(E$,"Using default OnlineComponentProvider"),await E3(e,new EO))),e._onlineComponents}function Ce(e){return E8(e).then(e=>e.localStore)}function Ct(e){return E7(e).then(e=>e.syncEngine)}function Cr(e){return E7(e).then(e=>e.datastore)}function Ci(e,t){return e.timeoutSeconds===t.timeoutSeconds}function Cn(e){let t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}let Cs="ComponentProvider",Co=new Map;function Ca(e){let t=Co.get(e);t&&(i9(Cs,"Removing Datastore"),Co.delete(e),t.terminate())}function CA(e,t,r,i){return new oH(e,t,r,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,Cn(i.experimentalLongPollingOptions),i.useFetchStreams)}let Cl="firestore.googleapis.com",Cc=!0,Cu=5,Ch=30,Cd=!0;class Cg{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new nt(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Cl,this.ssl=Cc}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Cc;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=dn;else{if(e.cacheSizeBytes!==di&&e.cacheSizeBytes<dA)throw new nt(ne.INVALID_ARGUMENT,`cacheSizeBytes must be at least ${dA}`);this.cacheSizeBytes=e.cacheSizeBytes}EG("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=Cd:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Cn(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),Cf(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&Ci(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}function Cf(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new nt(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<Cu)throw new nt(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is ${Cu})`);if(e.timeoutSeconds>Ch)throw new nt(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is ${Ch})`)}}class Cp{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cg({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new nt(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new nt(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cg(e),void 0!==e.credentials&&(this._authCredentials=nu(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return Ca(this),Promise.resolve()}}function CE(e,t,r,i={}){var n;let s=(e=Eq(e,Cp))._getSettings(),o=`${t}:${r}`;if(s.host!==Cl&&s.host!==o&&i5("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let t,r;if("string"==typeof i.mockUserToken)t=i.mockUserToken,r=iZ.MOCK_USER;else{t=x(i.mockUserToken,null===(n=e._app)||void 0===n?void 0:n.options.projectId);let s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new nt(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");r=new iZ(s)}e._authCredentials=new ns(new ni(t,r))}}class CC{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new CC(this.firestore,e,this._query)}}class CI{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cm(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new CI(this.firestore,e,this._key)}}class Cm extends CC{constructor(e,t,r){super(e,t,AS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new CI(this.firestore,null,new nb(e))}withConverter(e){return new Cm(this.firestore,e,this._path)}}let CB="AsyncQueue";class Cy{constructor(e=Promise.resolve()){this.retryableOps=[],this._isShuttingDown=!1,this.delayedOperations=[],this.failure=null,this.operationInProgress=!1,this.skipNonRestrictedTasks=!1,this.timerIdsToSkip=[],this.backoff=new fx(this,"async_queue_retry"),this.visibilityHandler=()=>{this.backoff.skipBackoff()},this.tail=e}get isShuttingDown(){return this._isShuttingDown}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.verifyNotFailed(),this.enqueueInternal(e)}enterRestrictedMode(e){this._isShuttingDown||(this._isShuttingDown=!0,this.skipNonRestrictedTasks=e||!1)}enqueue(e){if(this.verifyNotFailed(),this._isShuttingDown)return new Promise(()=>{});let t=new nr;return this.enqueueInternal(()=>this._isShuttingDown&&this.skipNonRestrictedTasks?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.retryableOps.push(e),this.retryNextOp()))}async retryNextOp(){if(0!==this.retryableOps.length){try{await this.retryableOps[0](),this.retryableOps.shift(),this.backoff.reset()}catch(e){if(n$(e))i9(CB,"Operation failed with retryable error: "+e);else throw e}this.retryableOps.length>0&&this.backoff.backoffAndRun(()=>this.retryNextOp())}}enqueueInternal(e){let t=this.tail.then(()=>(this.operationInProgress=!0,e().catch(e=>{throw this.failure=e,this.operationInProgress=!1,i4("INTERNAL UNHANDLED ERROR: ",CQ(e)),e}).then(e=>(this.operationInProgress=!1,e))));return this.tail=t,t}enqueueAfterDelay(e,t,r){this.verifyNotFailed(),this.timerIdsToSkip.indexOf(e)>-1&&(t=0);let i=pN.createAndSchedule(this,e,t,r,e=>this.removeDelayedOperation(e));return this.delayedOperations.push(i),i}verifyNotFailed(){this.failure&&i6()}verifyOperationInProgress(){}async drain(){let e;do e=this.tail,await e;while(e!==this.tail)}containsDelayedOperation(e){for(let t of this.delayedOperations)if(t.timerId===e)return!0;return!1}runAllDelayedOperationsUntil(e){return this.drain().then(()=>{for(let t of(this.delayedOperations.sort((e,t)=>e.targetTimeMs-t.targetTimeMs),this.delayedOperations))if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.drain()})}skipDelaysForTimerId(e){this.timerIdsToSkip.push(e)}removeDelayedOperation(e){let t=this.delayedOperations.indexOf(e);this.delayedOperations.splice(t,1)}}function CQ(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class Cw extends Cp{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Cy,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Cy(e),this._firestoreClient=void 0,await e}}}function Cv(e,t){let r="object"==typeof e?e:ti(),i="string"==typeof e?e:t||oJ,n=e6(r,"firestore").getImmediate({identifier:i});if(!n._initialized){let e=L("firestore");e&&CE(n,...e)}return n}function Cb(e){var t,r,i;let n=e._freezeSettings(),s=CA(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);!e._componentsProvider&&(null===(r=n.localCache)||void 0===r?void 0:r._offlineComponentProvider)&&(null===(i=n.localCache)||void 0===i?void 0:i._onlineComponentProvider)&&(e._componentsProvider={_offline:n.localCache._offlineComponentProvider,_online:n.localCache._onlineComponentProvider}),e._firestoreClient=new E4(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&CS(e._componentsProvider))}function CS(e){let t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}function CT(e,t=!0){i$(tt),e3(new ef("firestore",(e,{instanceIdentifier:r,options:i})=>{let n=e.getProvider("app").getImmediate(),s=new Cw(new no(e.getProvider("auth-internal")),new nc(e.getProvider("app-check-internal")),oW(n,r),n);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),ts(iz,iK,e),ts(iz,iK,"esm2017")}class CD{constructor(e,t,r){this._userDataWriter=t,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}class CR{constructor(e){this._byteString=e}static fromBase64String(e){try{return new CR(oD.fromBase64String(e))}catch(e){throw new nt(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new CR(oD.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ck{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new nt(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nv(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class CN{constructor(e){this._methodName=e}}class CF{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new nt(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new nt(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ng(this._lat,e._lat)||ng(this._long,e._long)}}class CM{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return gE(this._values,e._values)}}let CL=/^__.*__$/;class CU{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new l_(e,this.data,this.fieldMask,t,this.fieldTransforms):new lM(e,this.data,t,this.fieldTransforms)}}class C_{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new l_(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Cx(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw i6()}}class CO{constructor(e,t,r,i,n,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===n&&this.validatePath(),this.fieldTransforms=n||[],this.fieldMask=s||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new CO(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var t;let r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.contextWith({path:r,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){var t;let r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.contextWith({path:r,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return C7(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(0===e.length)throw this.createError("Document fields must not be empty");if(Cx(this.dataSource)&&CL.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class CP{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||fF(e)}createContext(e,t,r,i=!1){return new CO({dataSource:e,methodName:t,targetDoc:r,path:nv.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function CV(e){let t=e._freezeSettings(),r=fF(e._databaseId);return new CP(e._databaseId,!!t.ignoreUndefinedProperties,r)}function CG(e,t,r,i,n,s={}){let o,a;let A=e.createContext(s.merge||s.mergeFields?2:0,t,r,n);C5("Data must be an object, but it was:",A,i);let l=C$(i,A);if(s.merge)o=new ob(A.fieldMask),a=A.fieldTransforms;else if(s.mergeFields){let e=[];for(let i of s.mergeFields){let n=C3(t,i,r);if(!A.contains(n))throw new nt(ne.INVALID_ARGUMENT,`Field '${n}' is specified in your field mask but missing from your input data.`);Ie(e,n)||e.push(n)}o=new ob(e),a=A.fieldTransforms.filter(e=>o.covers(e.field))}else o=null,a=A.fieldTransforms;return new CU(new ax(l),o,a)}class CY extends CN{_toFieldTransform(e){if(2===e.dataSource)e.fieldMask.push(e.path);else if(1===e.dataSource)throw e.createError(`${this._methodName}() can only appear at the top level of your update data`);else throw e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return null}isEqual(e){return e instanceof CY}}function CH(e,t,r){return new CO({dataSource:3,targetDoc:t.settings.targetDoc,methodName:e._methodName,arrayElement:r},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class CJ extends null{_toFieldTransform(e){return new ly(e.path,new ld)}isEqual(e){return e instanceof CJ}}class Cq extends CN{constructor(e,t){super(e),this._elements=t}_toFieldTransform(e){let t=CH(this,e,!0),r=new lg(this._elements.map(e=>CX(e,t)));return new ly(e.path,r)}isEqual(e){return e instanceof Cq&&ee(this._elements,e._elements)}}class CW extends CN{constructor(e,t){super(e),this._elements=t}_toFieldTransform(e){let t=CH(this,e,!0),r=new lp(this._elements.map(e=>CX(e,t)));return new ly(e.path,r)}isEqual(e){return e instanceof CW&&ee(this._elements,e._elements)}}class Cj extends CN{constructor(e,t){super(e),this._operand=t}_toFieldTransform(e){let t=new lC(e.serializer,la(e.serializer,this._operand));return new ly(e.path,t)}isEqual(e){return e instanceof Cj&&this._operand===e._operand}}function Cz(e,t,r,i){let n=e.createContext(1,t,r);C5("Data must be an object, but it was:",n,i);let s=[],o=ax.empty();return op(i,(e,i)=>{let a=C8(t,e,r);i=eg(i);let A=n.childContextForFieldPath(a);if(i instanceof CY)s.push(a);else{let e=CX(i,A);null!=e&&(s.push(a),o.set(a,e))}}),new C_(o,new ob(s),n.fieldTransforms)}function CK(e,t,r,i,n,s){let o=e.createContext(1,t,r),a=[C3(t,i,r)],A=[n];if(s.length%2!=0)throw new nt(ne.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<s.length;e+=2)a.push(C3(t,s[e])),A.push(s[e+1]);let l=[],c=ax.empty();for(let e=a.length-1;e>=0;--e)if(!Ie(l,a[e])){let t=a[e],r=A[e];r=eg(r);let i=o.childContextForFieldPath(t);if(r instanceof CY)l.push(t);else{let e=CX(r,i);null!=e&&(l.push(t),c.set(t,e))}}return new C_(c,new ob(l),o.fieldTransforms)}function CZ(e,t,r,i=!1){return CX(r,e.createContext(i?4:3,t))}function CX(e,t){if(C4(e=eg(e)))return C5("Unsupported field value:",t,e),C$(e,t);if(e instanceof CN)return C1(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),!(e instanceof Array))return C2(e,t);if(t.settings.arrayElement&&4!==t.dataSource)throw t.createError("Nested arrays are not supported");return C0(e,t)}function C$(e,t){let r={};return oE(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):op(e,(e,i)=>{let n=CX(i,t.childContextForField(e));null!=n&&(r[e]=n)}),{mapValue:{fields:r}}}function C0(e,t){let r=[],i=0;for(let n of e){let e=CX(n,t.childContextForArray(i));null==e&&(e={nullValue:"NULL_VALUE"}),r.push(e),i++}return{arrayValue:{values:r}}}function C1(e,t){if(!Cx(t.dataSource))throw t.createError(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.createError(`${e._methodName}() is not currently supported inside arrays`);let r=e._toFieldTransform(t);r&&t.fieldTransforms.push(r)}function C2(e,t){if(null===(e=eg(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return la(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){let r=nI.fromDate(e);return{timestampValue:cC(t.serializer,r)}}if(e instanceof nI){let r=new nI(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:cC(t.serializer,r)}}if(e instanceof CF)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};else if(e instanceof CR)return{bytesValue:cm(t.serializer,e._byteString)};else if(e instanceof CI){let r=t.databaseId,i=e.firestore._databaseId;if(!i.isEqual(r))throw t.createError(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:cw(e.firestore._databaseId||t.databaseId,e._key.path)}}else if(e instanceof CM)return C9(e,t);else throw t.createError(`Unsupported field value: ${EH(e)}`)}function C9(e,t){return{mapValue:{fields:{[oX]:{stringValue:o1},[o2]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.createError("VectorValues must only contain numeric values.");return ls(t.serializer,e)})}}}}}}function C4(e){return"object"==typeof e&&null!==e&&!(e instanceof Array)&&!(e instanceof Date)&&!(e instanceof nI)&&!(e instanceof CF)&&!(e instanceof CR)&&!(e instanceof CI)&&!(e instanceof CN)&&!(e instanceof CM)}function C5(e,t,r){if(!C4(r)||!EY(r)){let i=EH(r);if("an object"===i)throw t.createError(e+" a custom object");throw t.createError(e+" "+i)}}function C3(e,t,r){if((t=eg(t))instanceof Ck)return t._internalPath;if("string"==typeof t)return C8(e,t);throw C7("Field path arguments must be of type string or ",e,!1,void 0,r)}let C6=RegExp("[~\\*/\\[\\]]");function C8(e,t,r){if(t.search(C6)>=0)throw C7(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new Ck(...t.split("."))._internalPath}catch(i){throw C7(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function C7(e,t,r,i,n){let s=i&&!i.isEmpty(),o=void 0!==n,a=`Function ${t}() called with invalid data`;r&&(a+=" (via `toFirestore()`)"),a+=". ";let A="";return(s||o)&&(A+=" (found",s&&(A+=` in field ${i}`),o&&(A+=` in document ${n}`),A+=")"),new nt(ne.INVALID_ARGUMENT,a+e+A)}function Ie(e,t){return e.some(e=>e.isEqual(t))}class It{constructor(e,t,r,i,n){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=n}get id(){return this._key.path.lastSegment()}get ref(){return new CI(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(!this._converter)return this._userDataWriter.convertValue(this._document.data.value);{let e=new Ir(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}}}get(e){if(this._document){let t=this._document.data.field(Ii("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Ir extends It{data(){return super.data()}}function Ii(e,t){return"string"==typeof t?C8(e,t):t instanceof Ck?t._internalPath:t._delegate._internalPath}class In{}class Is extends In{}class Io extends Is{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Io(e,t,r)}_apply(e){let t=this._parse(e);return Im(e._query,t),new CC(e.firestore,e.converter,A_(e._query,t))}_parse(e){let t=CV(e.firestore);return Id(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Ia extends In{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ia(e,t)}_parse(e){let t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:a$.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return 0===t.getFilters().length?e:(IB(e._query,t),new CC(e.firestore,e.converter,A_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class IA extends Is{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new IA(e,t)}_apply(e){let t=Ig(e._query,this._field,this._direction);return new CC(e.firestore,e.converter,Ax(e._query,t))}}class Il extends Is{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Il(e,t,r)}_apply(e){return new CC(e.firestore,e.converter,AO(e._query,this._limit,this._limitType))}}class Ic extends Is{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Ic(e,t,r)}_apply(e){let t=Ih(e,this.type,this._docOrFields,this._inclusive);return new CC(e.firestore,e.converter,AP(e._query,t))}}class Iu extends Is{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Iu(e,t,r)}_apply(e){let t=Ih(e,this.type,this._docOrFields,this._inclusive);return new CC(e.firestore,e.converter,AV(e._query,t))}}function Ih(e,t,r,i){if(r[0]=eg(r[0]),r[0]instanceof It)return If(e._query,e.firestore._databaseId,t,r[0]._document,i);{let n=CV(e.firestore);return Ip(e._query,e.firestore._databaseId,n,t,r,i)}}function Id(e,t,r,i,n,s,o){let a;if(n.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new nt(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){IC(o,s);let t=[];for(let r of o)t.push(IE(i,e,r));a={arrayValue:{values:t}}}else a=IE(i,e,o)}else("in"===s||"not-in"===s||"array-contains-any"===s)&&IC(o,s),a=CZ(r,t,o,"in"===s||"not-in"===s);return aX.create(n,s,a)}function Ig(e,t,r){if(null!==e.startAt)throw new nt(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new nt(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new aW(t,r)}function If(e,t,r,i,n){if(!i)throw new nt(ne.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${r}().`);let s=[];for(let r of AF(e))if(r.field.isKeyField())s.push(ay(t,i.key));else{let e=i.data.field(r.field);if(oP(e))throw new nt(ne.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+r.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null!==e)s.push(e);else{let e=r.field.canonicalString();throw new nt(ne.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}}return new aG(s,n)}function Ip(e,t,r,i,n,s){let o=e.explicitOrderBy;if(n.length>o.length)throw new nt(ne.INVALID_ARGUMENT,`Too many arguments provided to ${i}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let a=[];for(let s=0;s<n.length;s++){let A=n[s];if(o[s].field.isKeyField()){if("string"!=typeof A)throw new nt(ne.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${i}(), but got a ${typeof A}`);if(!AN(e)&&-1!==A.indexOf("/"))throw new nt(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${i}() must be a plain document ID, but '${A}' contains a slash.`);let r=e.path.child(nQ.fromString(A));if(!nb.isDocumentKey(r))throw new nt(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${i}() must result in a valid document path, but '${r}' is not because it contains an odd number of segments.`);let n=new nb(r);a.push(ay(t,n))}else{let e=CZ(r,i,A);a.push(e)}}return new aG(a,s)}function IE(e,t,r){if("string"==typeof(r=eg(r))){if(""===r)throw new nt(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!AN(t)&&-1!==r.indexOf("/"))throw new nt(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);let i=t.path.child(nQ.fromString(r));if(!nb.isDocumentKey(i))throw new nt(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return ay(e,new nb(i))}if(r instanceof CI)return ay(e,r._key);throw new nt(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${EH(r)}.`)}function IC(e,t){if(!Array.isArray(e)||0===e.length)throw new nt(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function II(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}function Im(e,t){let r=Iy(e.filters,II(t.op));if(null!==r){if(r===t.op)throw new nt(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`);throw new nt(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}}function IB(e,t){let r=e;for(let e of t.getFlattenedFilters())Im(r,e),r=A_(r,e)}function Iy(e,t){for(let r of e)for(let e of r.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}class IQ{convertValue(e,t="none"){switch(o4(e)){case 0:return null;case 1:return e.booleanValue;case 2:return oM(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(oL(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw i6()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return op(e,(e,i)=>{r[e]=this.convertValue(i,t)}),r}convertVectorValue(e){var t,r,i;return new CM(null===(i=null===(r=null===(t=e.fields)||void 0===t?void 0:t[o2].arrayValue)||void 0===r?void 0:r.values)||void 0===i?void 0:i.map(e=>oM(e.doubleValue)))}convertGeoPoint(e){return new CF(oM(e.latitude),oM(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=oG(e);if(null==r)return null;return this.convertValue(r,t);case"estimate":return this.convertTimestamp(oY(e));default:return null}}convertTimestamp(e){let t=oF(e);return new nI(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=nQ.fromString(e);i8(uQ(r));let i=new oq(r.get(1),r.get(3)),n=new nb(r.popFirst(5));return i.isEqual(t)||i4(`Document ${n} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),n}}function Iw(e,t,r){return e?r&&(r.merge||r.mergeFields)?e.toFirestore(t,r):e.toFirestore(t):t}class Iv extends IQ{constructor(e){super(),this.firestore=e}convertBytes(e){return new CR(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new CI(this.firestore,null,t)}}class Ib{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class IS extends It{constructor(e,t,r,i,n,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=n}exists(){return super.exists()}data(e={}){if(this._document){if(!this._converter)return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps);{let t=new IT(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}}}get(e,t={}){if(this._document){let r=this._document.data.field(Ii("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class IT extends IS{data(e={}){return super.data(e)}}function ID(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return i6()}}class IR extends IQ{constructor(e){super(),this.firestore=e}convertBytes(e){return new CR(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new CI(this.firestore,null,t)}}class Ik{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=EO.provider,this._offlineComponentProvider={build:t=>new Ex(t,null==e?void 0:e.cacheSizeBytes,this.forceOwnership)}}}function IN(e,t){if((e=eg(e)).firestore===t)return e;throw new nt(ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.")}new WeakMap;class IF{constructor(){this.existenceFilterMismatchCallbacksById=new Map}static get instance(){return IM||l2(IM=new IF),IM}notifyOnExistenceFilterMismatch(e){this.existenceFilterMismatchCallbacksById.forEach(t=>t(e))}onExistenceFilterMismatch(e){let t=Symbol(),r=this.existenceFilterMismatchCallbacksById;return r.set(t,e),()=>r.delete(t)}}let IM=null;CT("node");let IL="type.googleapis.com/google.protobuf.Int64Value",IU="type.googleapis.com/google.protobuf.UInt64Value";function I_(e,t){let r={};for(let i in e)e.hasOwnProperty(i)&&(r[i]=t(e[i]));return r}function Ix(e){if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"==typeof e&&isFinite(e)||!0===e||!1===e||"[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(e=>Ix(e));if("function"==typeof e||"object"==typeof e)return I_(e,e=>Ix(e));throw Error("Data cannot be encoded in JSON: "+e)}function IO(e){if(null==e)return e;if(e["@type"])switch(e["@type"]){case IL:case IU:{let t=Number(e.value);if(isNaN(t))throw Error("Data cannot be decoded from JSON: "+e);return t}default:throw Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(e=>IO(e)):"function"==typeof e||"object"==typeof e?I_(e,e=>IO(e)):e}let IP="functions",IV={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class IG extends K{constructor(e,t,r){super(`${IP}/${e}`,t||""),this.details=r}}function IY(e){if(e>=200&&e<300)return"ok";switch(e){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function IH(e,t){let r,i=IY(e),n=i;try{let e=t&&t.error;if(e){let t=e.status;if("string"==typeof t){if(!IV[t])return new IG("internal","internal");i=IV[t],n=t}let s=e.message;"string"==typeof s&&(n=s),r=e.details,void 0!==r&&(r=IO(r))}}catch(e){}return"ok"===i?null:new IG(i,n,r)}class IJ{constructor(e,t,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(e=>this.auth=e,()=>{}),this.messaging||t.get().then(e=>this.messaging=e,()=>{}),this.appCheck||r.get().then(e=>this.appCheck=e,()=>{})}async getAuthToken(){if(this.auth)try{let e=await this.auth.getToken();return null==e?void 0:e.accessToken}catch(e){return}}async getMessagingToken(){if(this.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return await this.messaging.getToken()}catch(e){return}}async getAppCheckToken(e){if(this.appCheck){let t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){return{authToken:await this.getAuthToken(),messagingToken:await this.getMessagingToken(),appCheckToken:await this.getAppCheckToken(e)}}}let Iq="us-central1";function IW(e){let t=null;return{promise:new Promise((r,i)=>{t=setTimeout(()=>{i(new IG("deadline-exceeded","deadline-exceeded"))},e)}),cancel:()=>{t&&clearTimeout(t)}}}class Ij{constructor(e,t,r,i,n=Iq,s){this.app=e,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new IJ(t,r,i),this.cancelAllRequests=new Promise(e=>{this.deleteService=()=>Promise.resolve(e())});try{let e=new URL(n);this.customDomain=e.origin+("/"===e.pathname?"":e.pathname),this.region=Iq}catch(e){this.customDomain=null,this.region=n}}_delete(){return this.deleteService()}_url(e){let t=this.app.options.projectId;if(null!==this.emulatorOrigin){let r=this.emulatorOrigin;return`${r}/${t}/${this.region}/${e}`}return null!==this.customDomain?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function Iz(e,t,r){e.emulatorOrigin=`http://${t}:${r}`}function IK(e,t,r){return i=>IX(e,t,i,r||{})}async function IZ(e,t,r,i){let n;r["Content-Type"]="application/json";try{n=await i(e,{method:"POST",body:JSON.stringify(t),headers:r})}catch(e){return{status:0,json:null}}let s=null;try{s=await n.json()}catch(e){}return{status:n.status,json:s}}function IX(e,t,r,i){let n=e._url(t);return I$(e,n,r,i)}async function I$(e,t,r,i){let n={data:r=Ix(r)},s={},o=await e.contextProvider.getContext(i.limitedUseAppCheckTokens);o.authToken&&(s.Authorization="Bearer "+o.authToken),o.messagingToken&&(s["Firebase-Instance-ID-Token"]=o.messagingToken),null!==o.appCheckToken&&(s["X-Firebase-AppCheck"]=o.appCheckToken);let a=IW(i.timeout||7e4),A=await Promise.race([IZ(t,n,s,e.fetchImpl),a.promise,e.cancelAllRequests]);if(a.cancel(),!A)throw new IG("cancelled","Firebase Functions instance was deleted.");let l=IH(A.status,A.json);if(l)throw l;if(!A.json)throw new IG("internal","Response is not valid JSON object.");let c=A.json.data;if(void 0===c&&(c=A.json.result),void 0===c)throw new IG("internal","Response is missing data field.");return{data:IO(c)}}let I0="@firebase/functions",I1="0.11.8",I2="auth-internal",I9="app-check-internal",I4="messaging-internal";function I5(e=ti(),t=Iq){let r=e6(eg(e),IP).getImmediate({identifier:t}),i=L("functions");return i&&I3(r,...i),r}function I3(e,t,r){Iz(eg(e),t,r)}function I6(e,t,r){return IK(eg(e),t,r)}(function(e,t){e3(new ef(IP,(t,{instanceIdentifier:r})=>{let i=t.getProvider("app").getImmediate();return new Ij(i,t.getProvider(I2),t.getProvider(I4),t.getProvider(I9),r,e)},"PUBLIC").setMultipleInstances(!0)),ts(I0,I1,t),ts(I0,I1,"esm2017")})(ty.he,"node");let I8="@firebase/installations",I7="0.6.9",me=1e4,mt=`w:${I7}`,mr="FIS_v2",mi="https://firebaseinstallations.googleapis.com/v1",mn=36e5,ms=new Z("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function mo(e){return e instanceof K&&e.code.includes("request-failed")}function ma({projectId:e}){return`${mi}/projects/${e}/installations`}function mA(e){return{token:e.token,requestStatus:2,expiresIn:md(e.expiresIn),creationTime:Date.now()}}async function ml(e,t){let r=(await t.json()).error;return ms.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function mc({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function mu(e,{refreshToken:t}){let r=mc(e);return r.append("Authorization",mg(t)),r}async function mh(e){let t=await e();return t.status>=500&&t.status<600?e():t}function md(e){return Number(e.replace("s","000"))}function mg(e){return`${mr} ${e}`}async function mf({appConfig:e,heartbeatServiceProvider:t},{fid:r}){let i=ma(e),n=mc(e),s=t.getImmediate({optional:!0});if(s){let e=await s.getHeartbeatsHeader();e&&n.append("x-firebase-client",e)}let o={method:"POST",headers:n,body:JSON.stringify({fid:r,authVersion:mr,appId:e.appId,sdkVersion:mt})},a=await mh(()=>fetch(i,o));if(a.ok){let e=await a.json();return{fid:e.fid||r,registrationStatus:2,refreshToken:e.refreshToken,authToken:mA(e.authToken)}}throw await ml("Create Installation",a)}function mp(e){return new Promise(t=>{setTimeout(t,e)})}function mE(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}let mC=/^[cdef][\w-]{21}$/,mI="";function mm(){try{let e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;let t=mB(e);return mC.test(t)?t:mI}catch(e){return mI}}function mB(e){return mE(e).substr(0,22)}function my(e){return`${e.appName}!${e.appId}`}let mQ=new Map;function mw(e,t){let r=my(e);mv(r,t),mb(r,t)}function mv(e,t){let r=mQ.get(e);if(r)for(let e of r)e(t)}function mb(e,t){let r=mT();r&&r.postMessage({key:e,fid:t}),mD()}let mS=null;function mT(){return!mS&&"BroadcastChannel"in self&&((mS=new BroadcastChannel("[Firebase] FID Change")).onmessage=e=>{mv(e.data.key,e.data.fid)}),mS}function mD(){0===mQ.size&&mS&&(mS.close(),mS=null)}let mR="firebase-installations-database",mk=1,mN="firebase-installations-store",mF=null;function mM(){return mF||(mF=eY(mR,mk,{upgrade:(e,t)=>{0===t&&e.createObjectStore(mN)}})),mF}async function mL(e,t){let r=my(e),i=(await mM()).transaction(mN,"readwrite"),n=i.objectStore(mN),s=await n.get(r);return await n.put(t,r),await i.done,s&&s.fid===t.fid||mw(e,t.fid),t}async function mU(e){let t=my(e),r=(await mM()).transaction(mN,"readwrite");await r.objectStore(mN).delete(t),await r.done}async function m_(e,t){let r=my(e),i=(await mM()).transaction(mN,"readwrite"),n=i.objectStore(mN),s=await n.get(r),o=t(s);return void 0===o?await n.delete(r):await n.put(o,r),await i.done,o&&(!s||s.fid!==o.fid)&&mw(e,o.fid),o}async function mx(e){let t;let r=await m_(e.appConfig,r=>{let i=mP(e,mO(r));return t=i.registrationPromise,i.installationEntry});return r.fid===mI?{installationEntry:await t}:{installationEntry:r,registrationPromise:t}}function mO(e){return mH(e||{fid:mm(),registrationStatus:0})}function mP(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(ms.create("app-offline"))};let r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=mV(e,r);return{installationEntry:r,registrationPromise:i}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:mG(e)}:{installationEntry:t}}async function mV(e,t){try{let r=await mf(e,t);return mL(e.appConfig,r)}catch(r){throw mo(r)&&409===r.customData.serverCode?await mU(e.appConfig):await mL(e.appConfig,{fid:t.fid,registrationStatus:0}),r}}async function mG(e){let t=await mY(e.appConfig);for(;1===t.registrationStatus;)await mp(100),t=await mY(e.appConfig);if(0===t.registrationStatus){let{installationEntry:t,registrationPromise:r}=await mx(e);return r||t}return t}function mY(e){return m_(e,e=>{if(!e)throw ms.create("installation-not-found");return mH(e)})}function mH(e){return mJ(e)?{fid:e.fid,registrationStatus:0}:e}function mJ(e){return 1===e.registrationStatus&&e.registrationTime+me<Date.now()}async function mq({appConfig:e,heartbeatServiceProvider:t},r){let i=mW(e,r),n=mu(e,r),s=t.getImmediate({optional:!0});if(s){let e=await s.getHeartbeatsHeader();e&&n.append("x-firebase-client",e)}let o={method:"POST",headers:n,body:JSON.stringify({installation:{sdkVersion:mt,appId:e.appId}})},a=await mh(()=>fetch(i,o));if(a.ok)return mA(await a.json());throw await ml("Generate Auth Token",a)}function mW(e,{fid:t}){return`${ma(e)}/${t}/authTokens:generate`}async function mj(e,t=!1){let r;let i=await m_(e.appConfig,i=>{if(!mX(i))throw ms.create("not-registered");let n=i.authToken;if(!t&&m$(n))return i;if(1===n.requestStatus)return r=mz(e,t),i;{if(!navigator.onLine)throw ms.create("app-offline");let t=m1(i);return r=mZ(e,t),t}});return r?await r:i.authToken}async function mz(e,t){let r=await mK(e.appConfig);for(;1===r.authToken.requestStatus;)await mp(100),r=await mK(e.appConfig);let i=r.authToken;return 0===i.requestStatus?mj(e,t):i}function mK(e){return m_(e,e=>{if(!mX(e))throw ms.create("not-registered");return m2(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function mZ(e,t){try{let r=await mq(e,t),i=Object.assign(Object.assign({},t),{authToken:r});return await mL(e.appConfig,i),r}catch(r){if(mo(r)&&(401===r.customData.serverCode||404===r.customData.serverCode))await mU(e.appConfig);else{let r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await mL(e.appConfig,r)}throw r}}function mX(e){return void 0!==e&&2===e.registrationStatus}function m$(e){return 2===e.requestStatus&&!m0(e)}function m0(e){let t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+mn}function m1(e){let t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function m2(e){return 1===e.requestStatus&&e.requestTime+me<Date.now()}async function m9(e){let t=e,{installationEntry:r,registrationPromise:i}=await mx(t);return i?i.catch(console.error):mj(t).catch(console.error),r.fid}async function m4(e,t=!1){let r=e;return await m5(r),(await mj(r,t)).token}async function m5(e){let{registrationPromise:t}=await mx(e);t&&await t}function m3(e){if(!e||!e.options)throw m6("App Configuration");if(!e.name)throw m6("App Name");for(let t of["projectId","apiKey","appId"])if(!e.options[t])throw m6(t);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function m6(e){return ms.create("missing-app-config-values",{valueName:e})}let m8="installations",m7="installations-internal",Be=e=>{let t=e.getProvider("app").getImmediate(),r=m3(t),i=e6(t,"heartbeat");return{app:t,appConfig:r,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},Bt=e=>{let t=e6(e.getProvider("app").getImmediate(),m8).getImmediate();return{getId:()=>m9(t),getToken:e=>m4(t,e)}};(function(){e3(new ef(m8,Be,"PUBLIC")),e3(new ef(m7,Bt,"PRIVATE"))})(),ts(I8,I7),ts(I8,I7,"esm2017");let Br="analytics",Bi="firebase_id",Bn="origin",Bs=6e4,Bo="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ba="https://www.googletagmanager.com/gtag/js",BA=new eb("@firebase/analytics"),Bl=new Z("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Bc(e){if(!e.startsWith(Ba)){let t=Bl.create("invalid-gtag-resource",{gtagURL:e});return BA.warn(t.message),""}return e}function Bu(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function Bh(e,t){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(e,t)),r}function Bd(e,t){let r=Bh("firebase-js-sdk-policy",{createScriptURL:Bc}),i=document.createElement("script"),n=`${Ba}?l=${e}&id=${t}`;i.src=r?null==r?void 0:r.createScriptURL(n):n,i.async=!0,document.head.appendChild(i)}function Bg(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function Bf(e,t,r,i,n,s){let o=i[n];try{if(o)await t[o];else{let e=(await Bu(r)).find(e=>e.measurementId===n);e&&await t[e.appId]}}catch(e){BA.error(e)}e("config",n,s)}async function Bp(e,t,r,i,n){try{let s=[];if(n&&n.send_to){let e=n.send_to;Array.isArray(e)||(e=[e]);let i=await Bu(r);for(let r of e){let e=i.find(e=>e.measurementId===r),n=e&&t[e.appId];if(n)s.push(n);else{s=[];break}}}0===s.length&&(s=Object.values(t)),await Promise.all(s),e("event",i,n||{})}catch(e){BA.error(e)}}function BE(e,t,r,i){return async function(n,...s){try{if("event"===n){let[i,n]=s;await Bp(e,t,r,i,n)}else if("config"===n){let[n,o]=s;await Bf(e,t,r,i,n,o)}else if("consent"===n){let[t,r]=s;e("consent",t,r)}else if("get"===n){let[t,r,i]=s;e("get",t,r,i)}else if("set"===n){let[t]=s;e("set",t)}else e(n,...s)}catch(e){BA.error(e)}}}function BC(e,t,r,i,n){let s=function(...e){window[i].push(arguments)};return window[n]&&"function"==typeof window[n]&&(s=window[n]),window[n]=BE(s,e,t,r),{gtagCore:s,wrappedGtag:window[n]}}function BI(e){for(let t of Object.values(window.document.getElementsByTagName("script")))if(t.src&&t.src.includes(Ba)&&t.src.includes(e))return t;return null}let Bm=30,BB=1e3;class By{constructor(e={},t=BB){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}let BQ=new By;function Bw(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function Bv(e){var t;let{appId:r,apiKey:i}=e,n={method:"GET",headers:Bw(i)},s=Bo.replace("{app-id}",r),o=await fetch(s,n);if(200!==o.status&&304!==o.status){let e="";try{let r=await o.json();(null===(t=r.error)||void 0===t?void 0:t.message)&&(e=r.error.message)}catch(e){}throw Bl.create("config-fetch-failed",{httpStatus:o.status,responseMessage:e})}return o.json()}async function Bb(e,t=BQ,r){let{appId:i,apiKey:n,measurementId:s}=e.options;if(!i)throw Bl.create("no-app-id");if(!n){if(s)return{measurementId:s,appId:i};throw Bl.create("no-api-key")}let o=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new BR;return setTimeout(async()=>{a.abort()},void 0!==r?r:Bs),BS({appId:i,apiKey:n,measurementId:s},o,a,t)}async function BS(e,{throttleEndTimeMillis:t,backoffCount:r},i,n=BQ){var s;let{appId:o,measurementId:a}=e;try{await BT(i,t)}catch(e){if(a)return BA.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${null==e?void 0:e.message}]`),{appId:o,measurementId:a};throw e}try{let t=await Bv(e);return n.deleteThrottleMetadata(o),t}catch(c){let t=c;if(!BD(t)){if(n.deleteThrottleMetadata(o),a)return BA.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${null==t?void 0:t.message}]`),{appId:o,measurementId:a};throw c}let A=503===Number(null===(s=null==t?void 0:t.customData)||void 0===s?void 0:s.httpStatus)?ed(r,n.intervalMillis,Bm):ed(r,n.intervalMillis),l={throttleEndTimeMillis:Date.now()+A,backoffCount:r+1};return n.setThrottleMetadata(o,l),BA.debug(`Calling attemptFetch again in ${A} millis`),BS(e,l,i,n)}}function BT(e,t){return new Promise((r,i)=>{let n=setTimeout(r,Math.max(t-Date.now(),0));e.addEventListener(()=>{clearTimeout(n),i(Bl.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function BD(e){if(!(e instanceof K)||!e.customData)return!1;let t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}class BR{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Bk(e,t,r,i,n){if(n&&n.global){e("event",r,i);return}{let n=await t;e("event",r,Object.assign(Object.assign({},i),{send_to:n}))}}function BN(e){o=e}function BF(e){s=e}async function BM(){if(!q())return BA.warn(Bl.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await W()}catch(e){return BA.warn(Bl.create("indexeddb-unavailable",{errorInfo:null==e?void 0:e.toString()}).message),!1}return!0}async function BL(e,t,r,i,n,a,A){var l;let c=Bb(e);c.then(t=>{r[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&BA.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(e=>BA.error(e)),t.push(c);let u=BM().then(e=>e?i.getId():void 0),[h,d]=await Promise.all([c,u]);BI(a)||Bd(a,h.measurementId),o&&(n("consent","default",o),BN(void 0)),n("js",new Date);let g=null!==(l=null==A?void 0:A.config)&&void 0!==l?l:{};return g[Bn]="firebase",g.update=!0,null!=d&&(g[Bi]=d),n("config",h.measurementId,g),s&&(n("set",s),BF(void 0)),h.measurementId}class BU{constructor(e){this.app=e}_delete(){return delete B_[this.app.options.appId],Promise.resolve()}}let B_={},Bx=[],BO={},BP="dataLayer",BV="gtag",BG=!1;function BY(){let e=[];if(Y()&&e.push("This is a browser extension environment."),j()||e.push("Cookies are not available."),e.length>0){let t=e.map((e,t)=>`(${t+1}) ${e}`).join(" "),r=Bl.create("invalid-analytics-context",{errorInfo:t});BA.warn(r.message)}}function BH(e,t,r){BY();let i=e.options.appId;if(!i)throw Bl.create("no-app-id");if(!e.options.apiKey){if(e.options.measurementId)BA.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Bl.create("no-api-key")}if(null!=B_[i])throw Bl.create("already-exists",{id:i});if(!BG){Bg(BP);let{wrappedGtag:e,gtagCore:t}=BC(B_,Bx,BO,BP,BV);A=e,a=t,BG=!0}return B_[i]=BL(e,Bx,BO,t,a,BP,r),new BU(e)}function BJ(e,t,r,i){e=eg(e),Bk(A,B_[e.app.options.appId],t,r,i).catch(e=>BA.error(e))}let Bq="@firebase/analytics",BW="0.10.8";(function(){function e(e){try{let t=e.getProvider(Br).getImmediate();return{logEvent:(e,r,i)=>BJ(t,e,r,i)}}catch(e){throw Bl.create("interop-component-reg-failed",{reason:e})}}e3(new ef(Br,(e,{options:t})=>BH(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),e3(new ef("analytics-internal",e,"PRIVATE")),ts(Bq,BW),ts(Bq,BW,"esm2017")})();let Bj={apiKey:"AIzaSyAINECfZewEIz1qHMw07l0WmVK8MrVk5sw",authDomain:"caliope-app-3.firebaseapp.com",projectId:"caliope-app-3",storageBucket:"caliope-app-3.appspot.com",messagingSenderId:"1088948245437",appId:"1:856567522150:web:5a668e52a0a52bea439ea7",measurementId:"G-HMQVE8DSRX"};function Bz(){let[e,t]=(0,m.useState)(""),[r,i]=(0,m.useState)(""),[n,s]=(0,m.useState)(!1),[o,a]=(0,m.useState)(null),A=(0,m.useCallback)(async()=>{s(!0),a(null),i("");try{console.log("Sending prompt:",e);let t=I6(h,"generateCaliopeRecommendations"),r=await t({prompt:e});i(r.data.recommendations)}catch(e){console.error("Error calling Cloud Function:",e),a("Failed to get recommendations. Please try again.")}finally{s(!1)}},[e]);return(0,I.jsxs)("div",{className:"relative flex size-full min-h-screen flex-col bg-[#f8fcfa] justify-between group/design-root overflow-x-hidden",style:{fontFamily:'Manrope, "Noto Sans", sans-serif'},children:[(0,I.jsxs)("div",{children:[I.jsx("div",{className:"@container",children:I.jsx("div",{className:"@[480px]:px-4 @[480px]:py-3",children:I.jsx("div",{className:"w-full bg-center bg-no-repeat bg-cover flex flex-col justify-end overflow-hidden bg-[#f8fcfa] @[480px]:rounded-xl min-h-80",style:{backgroundImage:'url("https://lh3.googleusercontent.com/aida-public/AB6AXuBgOeCkUSaXfgcr-X8PmB-wdo56Ybhh-UNx5LzOZGo8aoiliknpU620Ethf9LibQ1hmjs-KmkQAoz4eRyAXVm524E2rneAoux6d1aBBMKqLjyOJsShNaX4stp1wnR9gmyVq08iRDcrtxERx0C0MmsErodvUNzif3BC2htlNm8QzW2ovlyI-30OhmXvDhZ_FoViBjKeX1HCoS_ix1xepkJQA9dVmNgS9Xc8Y5DKVjzgxA9xh6-BuwhaKR6oi5TOIs3QXvqxrSufaHg")'}})})}),I.jsx("h2",{className:"text-[#0e1b17] tracking-light text-[28px] font-bold leading-tight px-4 text-center pb-3 pt-5",children:"Bienvenido a la aplicaci\xf3n Caliope"}),I.jsx("p",{className:"text-[#0e1b17] text-base font-normal leading-normal pb-3 pt-1 px-4 text-center",children:"Enter your preferences to get personalized beauty and wellness recommendations."}),I.jsx("div",{className:"flex justify-center",children:(0,I.jsxs)("div",{className:"flex flex-1 gap-3 max-w-[480px] flex-col items-stretch px-4 py-3",children:[I.jsx("textarea",{className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#14b781]",rows:5,placeholder:"e.g., 'I want recommendations for glowing skin and healthy hair.'",value:e,onChange:e=>t(e.target.value)}),I.jsx("button",{className:"flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-12 px-5 bg-[#14b781] text-[#0e1b17] text-base font-bold leading-normal tracking-[0.015em] w-full",onClick:A,disabled:n||!e,children:I.jsx("span",{className:"truncate",children:n?"Generating...":"Get Recommendations"})}),o&&I.jsx("p",{className:"text-red-500 text-center",children:o}),r&&(0,I.jsxs)("div",{className:"mt-4 p-4 bg-white rounded-lg shadow-md",children:[I.jsx("h3",{className:"text-[#0e1b17] text-lg font-bold mb-2",children:"Your Recommendations:"}),I.jsx("p",{className:"text-[#0e1b17] text-base whitespace-pre-wrap",children:r})]})]})})]}),I.jsx("div",{children:I.jsx("div",{className:"h-5 bg-[#f8fcfa]"})})]})}c=i_(l=0===tn().length?tr(Bj):tn()[0]),u=Cv(l),h=I5(l),d=null},2029:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var i=r(9510);function n({children:e}){return i.jsx("html",{lang:"es",children:i.jsx("body",{children:e})})}r(5023)},5480:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});let i=(0,r(8570).createProxy)(String.raw`c:\Users\H2SE\OneDrive\VSC\PRUEBAS\VSC CALIOPE\caliope-full-project\app-frontend\src\app\page.tsx#default`)},5023:()=>{},29:function(e,t){var r;!function(i,n){function s(e){return e.default||e}void 0!==(r=(function(){var e={};return n(e),s(e)}).apply(t,[]))&&(e.exports=r)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function r(e,t,r){this.low=0|e,this.high=0|t,this.unsigned=!!r}function i(e){return!0===(e&&e.__isLong__)}function n(e){var t=Math.clz32(e&-e);return e?31-t:t}r.prototype.__isLong__,Object.defineProperty(r.prototype,"__isLong__",{value:!0}),r.isLong=i;var s={},o={};function a(e,t){var r,i,n;return t?(e>>>=0,(n=0<=e&&e<256)&&(i=o[e]))?i:(r=l(e,0,!0),n&&(o[e]=r),r):(e|=0,(n=-128<=e&&e<128)&&(i=s[e]))?i:(r=l(e,e<0?-1:0,!1),n&&(s[e]=r),r)}function A(e,t){if(isNaN(e))return t?C:E;if(t){if(e<0)return C;if(e>=g)return Q}else{if(e<=-f)return w;if(e+1>=f)return y}return e<0?A(-e,t).neg():l(e%d|0,e/d|0,t)}function l(e,t,i){return new r(e,t,i)}r.fromInt=a,r.fromNumber=A,r.fromBits=l;var c=Math.pow;function u(e,t,r){if(0===e.length)throw Error("empty string");if("number"==typeof t?(r=t,t=!1):t=!!t,"NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return t?C:E;if((r=r||10)<2||36<r)throw RangeError("radix");if((i=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===i)return u(e.substring(1),t,r).neg();for(var i,n=A(c(r,8)),s=E,o=0;o<e.length;o+=8){var a=Math.min(8,e.length-o),l=parseInt(e.substring(o,o+a),r);if(a<8){var h=A(c(r,a));s=s.mul(h).add(A(l))}else s=(s=s.mul(n)).add(A(l))}return s.unsigned=t,s}function h(e,t){return"number"==typeof e?A(e,t):"string"==typeof e?u(e,t):l(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}r.fromString=u,r.fromValue=h;var d=4294967296,g=18446744073709552e3,f=0x7fffffffffffffff,p=a(16777216),E=a(0);r.ZERO=E;var C=a(0,!0);r.UZERO=C;var I=a(1);r.ONE=I;var m=a(1,!0);r.UONE=m;var B=a(-1);r.NEG_ONE=B;var y=l(-1,2147483647,!1);r.MAX_VALUE=y;var Q=l(-1,-1,!0);r.MAX_UNSIGNED_VALUE=Q;var w=l(0,-2147483648,!1);r.MIN_VALUE=w;var v=r.prototype;v.toInt=function(){return this.unsigned?this.low>>>0:this.low},v.toNumber=function(){return this.unsigned?(this.high>>>0)*d+(this.low>>>0):this.high*d+(this.low>>>0)},v.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(!this.eq(w))return"-"+this.neg().toString(e);var t=A(e),r=this.div(t),i=r.mul(t).sub(this);return r.toString(e)+i.toInt().toString(e)}for(var n=A(c(e,6),this.unsigned),s=this,o="";;){var a=s.div(n),l=(s.sub(a.mul(n)).toInt()>>>0).toString(e);if((s=a).isZero())return l+o;for(;l.length<6;)l="0"+l;o=""+l+o}},v.getHighBits=function(){return this.high},v.getHighBitsUnsigned=function(){return this.high>>>0},v.getLowBits=function(){return this.low},v.getLowBitsUnsigned=function(){return this.low>>>0},v.getNumBitsAbs=function(){if(this.isNegative())return this.eq(w)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&(e&1<<t)==0;t--);return 0!=this.high?t+33:t+1},v.isSafeInteger=function(){var e=this.high>>21;return!e||!this.unsigned&&-1===e&&!(0===this.low&&-2097152===this.high)},v.isZero=function(){return 0===this.high&&0===this.low},v.eqz=v.isZero,v.isNegative=function(){return!this.unsigned&&this.high<0},v.isPositive=function(){return this.unsigned||this.high>=0},v.isOdd=function(){return(1&this.low)==1},v.isEven=function(){return(1&this.low)==0},v.equals=function(e){return i(e)||(e=h(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},v.eq=v.equals,v.notEquals=function(e){return!this.eq(e)},v.neq=v.notEquals,v.ne=v.notEquals,v.lessThan=function(e){return 0>this.comp(e)},v.lt=v.lessThan,v.lessThanOrEqual=function(e){return 0>=this.comp(e)},v.lte=v.lessThanOrEqual,v.le=v.lessThanOrEqual,v.greaterThan=function(e){return this.comp(e)>0},v.gt=v.greaterThan,v.greaterThanOrEqual=function(e){return this.comp(e)>=0},v.gte=v.greaterThanOrEqual,v.ge=v.greaterThanOrEqual,v.compare=function(e){if(i(e)||(e=h(e)),this.eq(e))return 0;var t=this.isNegative(),r=e.isNegative();return t&&!r?-1:!t&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},v.comp=v.compare,v.negate=function(){return!this.unsigned&&this.eq(w)?w:this.not().add(I)},v.neg=v.negate,v.add=function(e){i(e)||(e=h(e));var t,r,n=this.high>>>16,s=65535&this.high,o=this.low>>>16,a=65535&this.low,A=e.high>>>16,c=65535&e.high,u=e.low>>>16,d=65535&e.low,g=0,f=0;return t=0+((r=0+(a+d))>>>16),r&=65535,t+=o+u,f+=t>>>16,t&=65535,f+=s+c,g+=f>>>16,f&=65535,g+=n+A,l(t<<16|r,(g&=65535)<<16|f,this.unsigned)},v.subtract=function(e){return i(e)||(e=h(e)),this.add(e.neg())},v.sub=v.subtract,v.multiply=function(e){if(this.isZero())return this;if(i(e)||(e=h(e)),t)return l(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return this.unsigned?C:E;if(this.eq(w))return e.isOdd()?w:E;if(e.eq(w))return this.isOdd()?w:E;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(p)&&e.lt(p))return A(this.toNumber()*e.toNumber(),this.unsigned);var r,n,s=this.high>>>16,o=65535&this.high,a=this.low>>>16,c=65535&this.low,u=e.high>>>16,d=65535&e.high,g=e.low>>>16,f=65535&e.low,I=0,m=0;return r=0+((n=0+c*f)>>>16),n&=65535,r+=a*f,m+=r>>>16,r&=65535,r+=c*g,m+=r>>>16,r&=65535,m+=o*f,I+=m>>>16,m&=65535,m+=a*g,I+=m>>>16,m&=65535,m+=c*d,I+=m>>>16,m&=65535,I+=s*f+o*g+a*d+c*u,l(r<<16|n,(I&=65535)<<16|m,this.unsigned)},v.mul=v.multiply,v.divide=function(e){if(i(e)||(e=h(e)),e.isZero())throw Error("division by zero");if(t){var r,n,s;return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?l((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this}if(this.isZero())return this.unsigned?C:E;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return C;if(e.gt(this.shru(1)))return m;s=C}else{if(this.eq(w))return e.eq(I)||e.eq(B)?w:e.eq(w)?I:(r=this.shr(1).div(e).shl(1)).eq(E)?e.isNegative()?I:B:(n=this.sub(e.mul(r)),s=r.add(n.div(e)));if(e.eq(w))return this.unsigned?C:E;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();s=E}for(n=this;n.gte(e);){for(var o=Math.ceil(Math.log(r=Math.max(1,Math.floor(n.toNumber()/e.toNumber())))/Math.LN2),a=o<=48?1:c(2,o-48),u=A(r),d=u.mul(e);d.isNegative()||d.gt(n);)r-=a,d=(u=A(r,this.unsigned)).mul(e);u.isZero()&&(u=I),s=s.add(u),n=n.sub(d)}return s},v.div=v.divide,v.modulo=function(e){return(i(e)||(e=h(e)),t)?l((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},v.mod=v.modulo,v.rem=v.modulo,v.not=function(){return l(~this.low,~this.high,this.unsigned)},v.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},v.clz=v.countLeadingZeros,v.countTrailingZeros=function(){return this.low?n(this.low):n(this.high)+32},v.ctz=v.countTrailingZeros,v.and=function(e){return i(e)||(e=h(e)),l(this.low&e.low,this.high&e.high,this.unsigned)},v.or=function(e){return i(e)||(e=h(e)),l(this.low|e.low,this.high|e.high,this.unsigned)},v.xor=function(e){return i(e)||(e=h(e)),l(this.low^e.low,this.high^e.high,this.unsigned)},v.shiftLeft=function(e){return(i(e)&&(e=e.toInt()),0==(e&=63))?this:e<32?l(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):l(0,this.low<<e-32,this.unsigned)},v.shl=v.shiftLeft,v.shiftRight=function(e){return(i(e)&&(e=e.toInt()),0==(e&=63))?this:e<32?l(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):l(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},v.shr=v.shiftRight,v.shiftRightUnsigned=function(e){return(i(e)&&(e=e.toInt()),0==(e&=63))?this:e<32?l(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):32===e?l(this.high,0,this.unsigned):l(this.high>>>e-32,0,this.unsigned)},v.shru=v.shiftRightUnsigned,v.shr_u=v.shiftRightUnsigned,v.rotateLeft=function(e){var t;return(i(e)&&(e=e.toInt()),0==(e&=63))?this:32===e?l(this.high,this.low,this.unsigned):e<32?(t=32-e,l(this.low<<e|this.high>>>t,this.high<<e|this.low>>>t,this.unsigned)):(e-=32,t=32-e,l(this.high<<e|this.low>>>t,this.low<<e|this.high>>>t,this.unsigned))},v.rotl=v.rotateLeft,v.rotateRight=function(e){var t;return(i(e)&&(e=e.toInt()),0==(e&=63))?this:32===e?l(this.high,this.low,this.unsigned):e<32?(t=32-e,l(this.high<<t|this.low>>>e,this.low<<t|this.high>>>e,this.unsigned)):(e-=32,t=32-e,l(this.low<<t|this.high>>>e,this.high<<t|this.low>>>e,this.unsigned))},v.rotr=v.rotateRight,v.toSigned=function(){return this.unsigned?l(this.low,this.high,!1):this},v.toUnsigned=function(){return this.unsigned?this:l(this.low,this.high,!0)},v.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},v.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},v.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},r.fromBytes=function(e,t,i){return i?r.fromBytesLE(e,t):r.fromBytesBE(e,t)},r.fromBytesLE=function(e,t){return new r(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},r.fromBytesBE=function(e,t){return new r(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)},"function"==typeof BigInt&&(r.fromBigInt=function(e,t){return l(Number(BigInt.asIntN(32,e)),Number(BigInt.asIntN(32,e>>BigInt(32))),t)},r.fromValue=function(e,t){return"bigint"==typeof e?r.fromBigInt(e,t):h(e,t)},v.toBigInt=function(){var e=BigInt(this.low>>>0);return BigInt(this.unsigned?this.high>>>0:this.high)<<BigInt(32)|e}),e.default=r})},1513:e=>{"use strict";e.exports={i8:"1.9.15"}},6541:e=>{"use strict";e.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"Api":{"fields":{"name":{"type":"string","id":1},"methods":{"rule":"repeated","type":"Method","id":2},"options":{"rule":"repeated","type":"Option","id":3},"version":{"type":"string","id":4},"sourceContext":{"type":"SourceContext","id":5},"mixins":{"rule":"repeated","type":"Mixin","id":6},"syntax":{"type":"Syntax","id":7}}},"Method":{"fields":{"name":{"type":"string","id":1},"requestTypeUrl":{"type":"string","id":2},"requestStreaming":{"type":"bool","id":3},"responseTypeUrl":{"type":"string","id":4},"responseStreaming":{"type":"bool","id":5},"options":{"rule":"repeated","type":"Option","id":6},"syntax":{"type":"Syntax","id":7}}},"Mixin":{"fields":{"name":{"type":"string","id":1},"root":{"type":"string","id":2}}},"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}},"Option":{"fields":{"name":{"type":"string","id":1},"value":{"type":"Any","id":2}}},"Syntax":{"values":{"SYNTAX_PROTO2":0,"SYNTAX_PROTO3":1}}}}}}}}')},9987:e=>{"use strict";e.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"options":{"go_package":"google.golang.org/protobuf/types/descriptorpb","java_package":"com.google.protobuf","java_outer_classname":"DescriptorProtos","csharp_namespace":"Google.Protobuf.Reflection","objc_class_prefix":"GPB","cc_enable_arenas":true,"optimize_for":"SPEED"},"nested":{"FileDescriptorSet":{"edition":"proto2","fields":{"file":{"rule":"repeated","type":"FileDescriptorProto","id":1}},"extensions":[[536000000,536000000]]},"Edition":{"edition":"proto2","values":{"EDITION_UNKNOWN":0,"EDITION_LEGACY":900,"EDITION_PROTO2":998,"EDITION_PROTO3":999,"EDITION_2023":1000,"EDITION_2024":1001,"EDITION_1_TEST_ONLY":1,"EDITION_2_TEST_ONLY":2,"EDITION_99997_TEST_ONLY":99997,"EDITION_99998_TEST_ONLY":99998,"EDITION_99999_TEST_ONLY":99999,"EDITION_MAX":2147483647}},"FileDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"package":{"type":"string","id":2},"dependency":{"rule":"repeated","type":"string","id":3},"publicDependency":{"rule":"repeated","type":"int32","id":10},"weakDependency":{"rule":"repeated","type":"int32","id":11},"optionDependency":{"rule":"repeated","type":"string","id":15},"messageType":{"rule":"repeated","type":"DescriptorProto","id":4},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":5},"service":{"rule":"repeated","type":"ServiceDescriptorProto","id":6},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":7},"options":{"type":"FileOptions","id":8},"sourceCodeInfo":{"type":"SourceCodeInfo","id":9},"syntax":{"type":"string","id":12},"edition":{"type":"Edition","id":14}}},"DescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"field":{"rule":"repeated","type":"FieldDescriptorProto","id":2},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":6},"nestedType":{"rule":"repeated","type":"DescriptorProto","id":3},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":4},"extensionRange":{"rule":"repeated","type":"ExtensionRange","id":5},"oneofDecl":{"rule":"repeated","type":"OneofDescriptorProto","id":8},"options":{"type":"MessageOptions","id":7},"reservedRange":{"rule":"repeated","type":"ReservedRange","id":9},"reservedName":{"rule":"repeated","type":"string","id":10},"visibility":{"type":"SymbolVisibility","id":11}},"nested":{"ExtensionRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2},"options":{"type":"ExtensionRangeOptions","id":3}}},"ReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"ExtensionRangeOptions":{"edition":"proto2","fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999},"declaration":{"rule":"repeated","type":"Declaration","id":2,"options":{"retention":"RETENTION_SOURCE"}},"features":{"type":"FeatureSet","id":50},"verification":{"type":"VerificationState","id":3,"options":{"default":"UNVERIFIED","retention":"RETENTION_SOURCE"}}},"extensions":[[1000,536870911]],"nested":{"Declaration":{"fields":{"number":{"type":"int32","id":1},"fullName":{"type":"string","id":2},"type":{"type":"string","id":3},"reserved":{"type":"bool","id":5},"repeated":{"type":"bool","id":6}},"reserved":[[4,4]]},"VerificationState":{"values":{"DECLARATION":0,"UNVERIFIED":1}}}},"FieldDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":3},"label":{"type":"Label","id":4},"type":{"type":"Type","id":5},"typeName":{"type":"string","id":6},"extendee":{"type":"string","id":2},"defaultValue":{"type":"string","id":7},"oneofIndex":{"type":"int32","id":9},"jsonName":{"type":"string","id":10},"options":{"type":"FieldOptions","id":8},"proto3Optional":{"type":"bool","id":17}},"nested":{"Type":{"values":{"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Label":{"values":{"LABEL_OPTIONAL":1,"LABEL_REPEATED":3,"LABEL_REQUIRED":2}}}},"OneofDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"options":{"type":"OneofOptions","id":2}}},"EnumDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"value":{"rule":"repeated","type":"EnumValueDescriptorProto","id":2},"options":{"type":"EnumOptions","id":3},"reservedRange":{"rule":"repeated","type":"EnumReservedRange","id":4},"reservedName":{"rule":"repeated","type":"string","id":5},"visibility":{"type":"SymbolVisibility","id":6}},"nested":{"EnumReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"EnumValueDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"type":"EnumValueOptions","id":3}}},"ServiceDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"method":{"rule":"repeated","type":"MethodDescriptorProto","id":2},"options":{"type":"ServiceOptions","id":3}}},"MethodDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"inputType":{"type":"string","id":2},"outputType":{"type":"string","id":3},"options":{"type":"MethodOptions","id":4},"clientStreaming":{"type":"bool","id":5},"serverStreaming":{"type":"bool","id":6}}},"FileOptions":{"edition":"proto2","fields":{"javaPackage":{"type":"string","id":1},"javaOuterClassname":{"type":"string","id":8},"javaMultipleFiles":{"type":"bool","id":10},"javaGenerateEqualsAndHash":{"type":"bool","id":20,"options":{"deprecated":true}},"javaStringCheckUtf8":{"type":"bool","id":27},"optimizeFor":{"type":"OptimizeMode","id":9,"options":{"default":"SPEED"}},"goPackage":{"type":"string","id":11},"ccGenericServices":{"type":"bool","id":16},"javaGenericServices":{"type":"bool","id":17},"pyGenericServices":{"type":"bool","id":18},"deprecated":{"type":"bool","id":23},"ccEnableArenas":{"type":"bool","id":31,"options":{"default":true}},"objcClassPrefix":{"type":"string","id":36},"csharpNamespace":{"type":"string","id":37},"swiftPrefix":{"type":"string","id":39},"phpClassPrefix":{"type":"string","id":40},"phpNamespace":{"type":"string","id":41},"phpMetadataNamespace":{"type":"string","id":44},"rubyPackage":{"type":"string","id":45},"features":{"type":"FeatureSet","id":50},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[42,42],"php_generic_services",[38,38]],"nested":{"OptimizeMode":{"values":{"SPEED":1,"CODE_SIZE":2,"LITE_RUNTIME":3}}}},"MessageOptions":{"edition":"proto2","fields":{"messageSetWireFormat":{"type":"bool","id":1},"noStandardDescriptorAccessor":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3},"mapEntry":{"type":"bool","id":7},"deprecatedLegacyJsonFieldConflicts":{"type":"bool","id":11,"options":{"deprecated":true}},"features":{"type":"FeatureSet","id":12},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4],[5,5],[6,6],[8,8],[9,9]]},"FieldOptions":{"edition":"proto2","fields":{"ctype":{"type":"CType","id":1,"options":{"default":"STRING"}},"packed":{"type":"bool","id":2},"jstype":{"type":"JSType","id":6,"options":{"default":"JS_NORMAL"}},"lazy":{"type":"bool","id":5},"unverifiedLazy":{"type":"bool","id":15},"deprecated":{"type":"bool","id":3},"weak":{"type":"bool","id":10,"options":{"deprecated":true}},"debugRedact":{"type":"bool","id":16},"retention":{"type":"OptionRetention","id":17},"targets":{"rule":"repeated","type":"OptionTargetType","id":19},"editionDefaults":{"rule":"repeated","type":"EditionDefault","id":20},"features":{"type":"FeatureSet","id":21},"featureSupport":{"type":"FeatureSupport","id":22},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4],[18,18]],"nested":{"CType":{"values":{"STRING":0,"CORD":1,"STRING_PIECE":2}},"JSType":{"values":{"JS_NORMAL":0,"JS_STRING":1,"JS_NUMBER":2}},"OptionRetention":{"values":{"RETENTION_UNKNOWN":0,"RETENTION_RUNTIME":1,"RETENTION_SOURCE":2}},"OptionTargetType":{"values":{"TARGET_TYPE_UNKNOWN":0,"TARGET_TYPE_FILE":1,"TARGET_TYPE_EXTENSION_RANGE":2,"TARGET_TYPE_MESSAGE":3,"TARGET_TYPE_FIELD":4,"TARGET_TYPE_ONEOF":5,"TARGET_TYPE_ENUM":6,"TARGET_TYPE_ENUM_ENTRY":7,"TARGET_TYPE_SERVICE":8,"TARGET_TYPE_METHOD":9}},"EditionDefault":{"fields":{"edition":{"type":"Edition","id":3},"value":{"type":"string","id":2}}},"FeatureSupport":{"fields":{"editionIntroduced":{"type":"Edition","id":1},"editionDeprecated":{"type":"Edition","id":2},"deprecationWarning":{"type":"string","id":3},"editionRemoved":{"type":"Edition","id":4}}}}},"OneofOptions":{"edition":"proto2","fields":{"features":{"type":"FeatureSet","id":1},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumOptions":{"edition":"proto2","fields":{"allowAlias":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3},"deprecatedLegacyJsonFieldConflicts":{"type":"bool","id":6,"options":{"deprecated":true}},"features":{"type":"FeatureSet","id":7},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[5,5]]},"EnumValueOptions":{"edition":"proto2","fields":{"deprecated":{"type":"bool","id":1},"features":{"type":"FeatureSet","id":2},"debugRedact":{"type":"bool","id":3},"featureSupport":{"type":"FieldOptions.FeatureSupport","id":4},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"ServiceOptions":{"edition":"proto2","fields":{"features":{"type":"FeatureSet","id":34},"deprecated":{"type":"bool","id":33},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"MethodOptions":{"edition":"proto2","fields":{"deprecated":{"type":"bool","id":33},"idempotencyLevel":{"type":"IdempotencyLevel","id":34,"options":{"default":"IDEMPOTENCY_UNKNOWN"}},"features":{"type":"FeatureSet","id":35},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"nested":{"IdempotencyLevel":{"values":{"IDEMPOTENCY_UNKNOWN":0,"NO_SIDE_EFFECTS":1,"IDEMPOTENT":2}}}},"UninterpretedOption":{"edition":"proto2","fields":{"name":{"rule":"repeated","type":"NamePart","id":2},"identifierValue":{"type":"string","id":3},"positiveIntValue":{"type":"uint64","id":4},"negativeIntValue":{"type":"int64","id":5},"doubleValue":{"type":"double","id":6},"stringValue":{"type":"bytes","id":7},"aggregateValue":{"type":"string","id":8}},"nested":{"NamePart":{"fields":{"namePart":{"rule":"required","type":"string","id":1},"isExtension":{"rule":"required","type":"bool","id":2}}}}},"FeatureSet":{"edition":"proto2","fields":{"fieldPresence":{"type":"FieldPresence","id":1,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_2023","edition_defaults.value":"EXPLICIT"}},"enumType":{"type":"EnumType","id":2,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"OPEN"}},"repeatedFieldEncoding":{"type":"RepeatedFieldEncoding","id":3,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"PACKED"}},"utf8Validation":{"type":"Utf8Validation","id":4,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"VERIFY"}},"messageEncoding":{"type":"MessageEncoding","id":5,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_LEGACY","edition_defaults.value":"LENGTH_PREFIXED"}},"jsonFormat":{"type":"JsonFormat","id":6,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"ALLOW"}},"enforceNamingStyle":{"type":"EnforceNamingStyle","id":7,"options":{"retention":"RETENTION_SOURCE","targets":"TARGET_TYPE_METHOD","feature_support.edition_introduced":"EDITION_2024","edition_defaults.edition":"EDITION_2024","edition_defaults.value":"STYLE2024"}},"defaultSymbolVisibility":{"type":"VisibilityFeature.DefaultSymbolVisibility","id":8,"options":{"retention":"RETENTION_SOURCE","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2024","edition_defaults.edition":"EDITION_2024","edition_defaults.value":"EXPORT_TOP_LEVEL"}}},"extensions":[[1000,9994],[9995,9999],[10000,10000]],"reserved":[[999,999]],"nested":{"FieldPresence":{"values":{"FIELD_PRESENCE_UNKNOWN":0,"EXPLICIT":1,"IMPLICIT":2,"LEGACY_REQUIRED":3}},"EnumType":{"values":{"ENUM_TYPE_UNKNOWN":0,"OPEN":1,"CLOSED":2}},"RepeatedFieldEncoding":{"values":{"REPEATED_FIELD_ENCODING_UNKNOWN":0,"PACKED":1,"EXPANDED":2}},"Utf8Validation":{"values":{"UTF8_VALIDATION_UNKNOWN":0,"VERIFY":2,"NONE":3}},"MessageEncoding":{"values":{"MESSAGE_ENCODING_UNKNOWN":0,"LENGTH_PREFIXED":1,"DELIMITED":2}},"JsonFormat":{"values":{"JSON_FORMAT_UNKNOWN":0,"ALLOW":1,"LEGACY_BEST_EFFORT":2}},"EnforceNamingStyle":{"values":{"ENFORCE_NAMING_STYLE_UNKNOWN":0,"STYLE2024":1,"STYLE_LEGACY":2}},"VisibilityFeature":{"fields":{},"reserved":[[1,536870911]],"nested":{"DefaultSymbolVisibility":{"values":{"DEFAULT_SYMBOL_VISIBILITY_UNKNOWN":0,"EXPORT_ALL":1,"EXPORT_TOP_LEVEL":2,"LOCAL_ALL":3,"STRICT":4}}}}}},"FeatureSetDefaults":{"edition":"proto2","fields":{"defaults":{"rule":"repeated","type":"FeatureSetEditionDefault","id":1},"minimumEdition":{"type":"Edition","id":4},"maximumEdition":{"type":"Edition","id":5}},"nested":{"FeatureSetEditionDefault":{"fields":{"edition":{"type":"Edition","id":3},"overridableFeatures":{"type":"FeatureSet","id":4},"fixedFeatures":{"type":"FeatureSet","id":5}},"reserved":[[1,1],[2,2],"features"]}}},"SourceCodeInfo":{"edition":"proto2","fields":{"location":{"rule":"repeated","type":"Location","id":1}},"extensions":[[536000000,536000000]],"nested":{"Location":{"fields":{"path":{"rule":"repeated","type":"int32","id":1,"options":{"packed":true}},"span":{"rule":"repeated","type":"int32","id":2,"options":{"packed":true}},"leadingComments":{"type":"string","id":3},"trailingComments":{"type":"string","id":4},"leadingDetachedComments":{"rule":"repeated","type":"string","id":6}}}}},"GeneratedCodeInfo":{"edition":"proto2","fields":{"annotation":{"rule":"repeated","type":"Annotation","id":1}},"nested":{"Annotation":{"fields":{"path":{"rule":"repeated","type":"int32","id":1,"options":{"packed":true}},"sourceFile":{"type":"string","id":2},"begin":{"type":"int32","id":3},"end":{"type":"int32","id":4},"semantic":{"type":"Semantic","id":5}},"nested":{"Semantic":{"values":{"NONE":0,"SET":1,"ALIAS":2}}}}}},"SymbolVisibility":{"edition":"proto2","values":{"VISIBILITY_UNSET":0,"VISIBILITY_LOCAL":1,"VISIBILITY_EXPORT":2}}}}}}}}')},7674:e=>{"use strict";e.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}}}}}}}}')},3795:e=>{"use strict";e.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"Type":{"fields":{"name":{"type":"string","id":1},"fields":{"rule":"repeated","type":"Field","id":2},"oneofs":{"rule":"repeated","type":"string","id":3},"options":{"rule":"repeated","type":"Option","id":4},"sourceContext":{"type":"SourceContext","id":5},"syntax":{"type":"Syntax","id":6}}},"Field":{"fields":{"kind":{"type":"Kind","id":1},"cardinality":{"type":"Cardinality","id":2},"number":{"type":"int32","id":3},"name":{"type":"string","id":4},"typeUrl":{"type":"string","id":6},"oneofIndex":{"type":"int32","id":7},"packed":{"type":"bool","id":8},"options":{"rule":"repeated","type":"Option","id":9},"jsonName":{"type":"string","id":10},"defaultValue":{"type":"string","id":11}},"nested":{"Kind":{"values":{"TYPE_UNKNOWN":0,"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Cardinality":{"values":{"CARDINALITY_UNKNOWN":0,"CARDINALITY_OPTIONAL":1,"CARDINALITY_REQUIRED":2,"CARDINALITY_REPEATED":3}}}},"Enum":{"fields":{"name":{"type":"string","id":1},"enumvalue":{"rule":"repeated","type":"EnumValue","id":2},"options":{"rule":"repeated","type":"Option","id":3},"sourceContext":{"type":"SourceContext","id":4},"syntax":{"type":"Syntax","id":5}}},"EnumValue":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"rule":"repeated","type":"Option","id":3}}},"Option":{"fields":{"name":{"type":"string","id":1},"value":{"type":"Any","id":2}}},"Syntax":{"values":{"SYNTAX_PROTO2":0,"SYNTAX_PROTO3":1}},"Any":{"fields":{"type_url":{"type":"string","id":1},"value":{"type":"bytes","id":2}}},"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}}}}}}}}')}};var __webpack_require__=require("../webpack-runtime.js");__webpack_require__.C(exports);var __webpack_exec__=e=>__webpack_require__(__webpack_require__.s=e),__webpack_exports__=__webpack_require__.X(0,[819],()=>__webpack_exec__(4542));module.exports=__webpack_exports__})();